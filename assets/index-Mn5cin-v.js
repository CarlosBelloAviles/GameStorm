const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Favorites-B8PYFGVq.js","assets/Favorites-CYFH3cEg.css","assets/Login-CxBVFf-G.js","assets/useGoogleAuth-BD0rO2ws.js","assets/Login-V7wO1RyQ.css","assets/Register-sKJPmm_u.js","assets/Register-BATgKxsR.css"])))=>i.map(i=>d[i]);
var AR=Object.defineProperty;var xR=(t,e,n)=>e in t?AR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pu=(t,e,n)=>xR(t,typeof e!="symbol"?e+"":e,n);function bR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function OR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ed={exports:{}},Ko={},Sd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function DR(){if(B_)return Ce;B_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function C(N,H,he){this.props=N,this.context=H,this.refs=I,this.updater=he||w}C.prototype.isReactComponent={},C.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function R(){}R.prototype=C.prototype;function j(N,H,he){this.props=N,this.context=H,this.refs=I,this.updater=he||w}var k=j.prototype=new R;k.constructor=j,S(k,C.prototype),k.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function G(N,H,he){var le,ee={},ge=null,pe=null;if(H!=null)for(le in H.ref!==void 0&&(pe=H.ref),H.key!==void 0&&(ge=""+H.key),H)P.call(H,le)&&!$.hasOwnProperty(le)&&(ee[le]=H[le]);var Ee=arguments.length-2;if(Ee===1)ee.children=he;else if(1<Ee){for(var Pe=Array(Ee),Te=0;Te<Ee;Te++)Pe[Te]=arguments[Te+2];ee.children=Pe}if(N&&N.defaultProps)for(le in Ee=N.defaultProps,Ee)ee[le]===void 0&&(ee[le]=Ee[le]);return{$$typeof:t,type:N,key:ge,ref:pe,props:ee,_owner:O.current}}function M(N,H){return{$$typeof:t,type:N.type,key:H,ref:N.ref,props:N.props,_owner:N._owner}}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function D(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return H[he]})}var F=/\/+/g;function B(N,H){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):H.toString(36)}function W(N,H,he,le,ee){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var pe=!1;if(N===null)pe=!0;else switch(ge){case"string":case"number":pe=!0;break;case"object":switch(N.$$typeof){case t:case e:pe=!0}}if(pe)return pe=N,ee=ee(pe),N=le===""?"."+B(pe,0):le,E(ee)?(he="",N!=null&&(he=N.replace(F,"$&/")+"/"),W(ee,H,he,"",function(Te){return Te})):ee!=null&&(b(ee)&&(ee=M(ee,he+(!ee.key||pe&&pe.key===ee.key?"":(""+ee.key).replace(F,"$&/")+"/")+N)),H.push(ee)),1;if(pe=0,le=le===""?".":le+":",E(N))for(var Ee=0;Ee<N.length;Ee++){ge=N[Ee];var Pe=le+B(ge,Ee);pe+=W(ge,H,he,Pe,ee)}else if(Pe=y(N),typeof Pe=="function")for(N=Pe.call(N),Ee=0;!(ge=N.next()).done;)ge=ge.value,Pe=le+B(ge,Ee++),pe+=W(ge,H,he,Pe,ee);else if(ge==="object")throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return pe}function ne(N,H,he){if(N==null)return N;var le=[],ee=0;return W(N,le,"","",function(ge){return H.call(he,ge,ee++)}),le}function re(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var se={current:null},q={transition:null},K={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:q,ReactCurrentOwner:O};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:ne,forEach:function(N,H,he){ne(N,function(){H.apply(this,arguments)},he)},count:function(N){var H=0;return ne(N,function(){H++}),H},toArray:function(N){return ne(N,function(H){return H})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=C,Ce.Fragment=n,Ce.Profiler=s,Ce.PureComponent=j,Ce.StrictMode=r,Ce.Suspense=f,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Ce.act=Q,Ce.cloneElement=function(N,H,he){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var le=S({},N.props),ee=N.key,ge=N.ref,pe=N._owner;if(H!=null){if(H.ref!==void 0&&(ge=H.ref,pe=O.current),H.key!==void 0&&(ee=""+H.key),N.type&&N.type.defaultProps)var Ee=N.type.defaultProps;for(Pe in H)P.call(H,Pe)&&!$.hasOwnProperty(Pe)&&(le[Pe]=H[Pe]===void 0&&Ee!==void 0?Ee[Pe]:H[Pe])}var Pe=arguments.length-2;if(Pe===1)le.children=he;else if(1<Pe){Ee=Array(Pe);for(var Te=0;Te<Pe;Te++)Ee[Te]=arguments[Te+2];le.children=Ee}return{$$typeof:t,type:N.type,key:ee,ref:ge,props:le,_owner:pe}},Ce.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Ce.createElement=G,Ce.createFactory=function(N){var H=G.bind(null,N);return H.type=N,H},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:h,render:N}},Ce.isValidElement=b,Ce.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:re}},Ce.memo=function(N,H){return{$$typeof:p,type:N,compare:H===void 0?null:H}},Ce.startTransition=function(N){var H=q.transition;q.transition={};try{N()}finally{q.transition=H}},Ce.unstable_act=Q,Ce.useCallback=function(N,H){return se.current.useCallback(N,H)},Ce.useContext=function(N){return se.current.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N){return se.current.useDeferredValue(N)},Ce.useEffect=function(N,H){return se.current.useEffect(N,H)},Ce.useId=function(){return se.current.useId()},Ce.useImperativeHandle=function(N,H,he){return se.current.useImperativeHandle(N,H,he)},Ce.useInsertionEffect=function(N,H){return se.current.useInsertionEffect(N,H)},Ce.useLayoutEffect=function(N,H){return se.current.useLayoutEffect(N,H)},Ce.useMemo=function(N,H){return se.current.useMemo(N,H)},Ce.useReducer=function(N,H,he){return se.current.useReducer(N,H,he)},Ce.useRef=function(N){return se.current.useRef(N)},Ce.useState=function(N){return se.current.useState(N)},Ce.useSyncExternalStore=function(N,H,he){return se.current.useSyncExternalStore(N,H,he)},Ce.useTransition=function(){return se.current.useTransition()},Ce.version="18.3.1",Ce}var V_;function Vc(){return V_||(V_=1,Sd.exports=DR()),Sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function MR(){if(W_)return Ko;W_=1;var t=Vc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var m,v={},y=null,w=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(v[m]=f[m]);if(h&&h.defaultProps)for(m in f=h.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:h,key:y,ref:w,props:v,_owner:s.current}}return Ko.Fragment=n,Ko.jsx=u,Ko.jsxs=u,Ko}var H_;function LR(){return H_||(H_=1,Ed.exports=MR()),Ed.exports}var Y=LR(),L=Vc();const FR=OR(L),UR=bR({__proto__:null,default:FR},[L]);var Nu={},Cd={exports:{}},$t={},Id={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function jR(){return q_||(q_=1,function(t){function e(q,K){var Q=q.length;q.push(K);e:for(;0<Q;){var N=Q-1>>>1,H=q[N];if(0<s(H,K))q[N]=K,q[Q]=H,Q=N;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],Q=q.pop();if(Q!==K){q[0]=Q;e:for(var N=0,H=q.length,he=H>>>1;N<he;){var le=2*(N+1)-1,ee=q[le],ge=le+1,pe=q[ge];if(0>s(ee,Q))ge<H&&0>s(pe,ee)?(q[N]=pe,q[ge]=Q,N=ge):(q[N]=ee,q[le]=Q,N=le);else if(ge<H&&0>s(pe,Q))q[N]=pe,q[ge]=Q,N=ge;else break e}}return K}function s(q,K){var Q=q.sortIndex-K.sortIndex;return Q!==0?Q:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],m=1,v=null,y=3,w=!1,S=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var K=n(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=q)r(p),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(p)}}function E(q){if(I=!1,k(q),!S)if(n(f)!==null)S=!0,re(P);else{var K=n(p);K!==null&&se(E,K.startTime-q)}}function P(q,K){S=!1,I&&(I=!1,R(G),G=-1),w=!0;var Q=y;try{for(k(K),v=n(f);v!==null&&(!(v.expirationTime>K)||q&&!D());){var N=v.callback;if(typeof N=="function"){v.callback=null,y=v.priorityLevel;var H=N(v.expirationTime<=K);K=t.unstable_now(),typeof H=="function"?v.callback=H:v===n(f)&&r(f),k(K)}else r(f);v=n(f)}if(v!==null)var he=!0;else{var le=n(p);le!==null&&se(E,le.startTime-K),he=!1}return he}finally{v=null,y=Q,w=!1}}var O=!1,$=null,G=-1,M=5,b=-1;function D(){return!(t.unstable_now()-b<M)}function F(){if($!==null){var q=t.unstable_now();b=q;var K=!0;try{K=$(!0,q)}finally{K?B():(O=!1,$=null)}}else O=!1}var B;if(typeof j=="function")B=function(){j(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ne=W.port2;W.port1.onmessage=F,B=function(){ne.postMessage(null)}}else B=function(){C(F,0)};function re(q){$=q,O||(O=!0,B())}function se(q,K){G=C(function(){q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,re(P))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(q){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Q=y;y=K;try{return q()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return K()}finally{y=Q}},t.unstable_scheduleCallback=function(q,K,Q){var N=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?N+Q:N):Q=N,q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,q={id:m++,callback:K,priorityLevel:q,startTime:Q,expirationTime:H,sortIndex:-1},Q>N?(q.sortIndex=Q,e(p,q),n(f)===null&&q===n(p)&&(I?(R(G),G=-1):I=!0,se(E,Q-N))):(q.sortIndex=H,e(f,q),S||w||(S=!0,re(P))),q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(q){var K=y;return function(){var Q=y;y=K;try{return q.apply(this,arguments)}finally{y=Q}}}}(Td)),Td}var G_;function zR(){return G_||(G_=1,Id.exports=jR()),Id.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function $R(){if(K_)return $t;K_=1;var t=Vc(),e=zR();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(i){return f.call(v,i)?!0:f.call(m,i)?!1:p.test(i)?v[i]=!0:(m[i]=!0,!1)}function w(i,o,l,c){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,l,c){if(o===null||typeof o>"u"||w(i,o,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(i,o,l,c,d,g,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=g,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new I(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new I(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new I(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new I(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new I(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new I(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new I(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new I(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new I(i,5,!1,i.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(R,j);C[o]=new I(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(R,j);C[o]=new I(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(R,j);C[o]=new I(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new I(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new I(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,o,l,c){var d=C.hasOwnProperty(o)?C[o]:null;(d!==null?d.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,d,c)&&(l=null),c||d===null?y(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):d.mustUseProperty?i[d.propertyName]=l===null?d.type===3?!1:"":l:(o=d.attributeName,c=d.attributeNamespace,l===null?i.removeAttribute(o):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,c?i.setAttributeNS(c,o,l):i.setAttribute(o,l))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),q=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,N;function H(i){if(N===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);N=o&&o[1]||""}return`
`+N+i}var he=!1;function le(i,o){if(!i||he)return"";he=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(V){var c=V}Reflect.construct(i,[],o)}else{try{o.call()}catch(V){c=V}i.call(o.prototype)}else{try{throw Error()}catch(V){c=V}i()}}catch(V){if(V&&c&&typeof V.stack=="string"){for(var d=V.stack.split(`
`),g=c.stack.split(`
`),_=d.length-1,T=g.length-1;1<=_&&0<=T&&d[_]!==g[T];)T--;for(;1<=_&&0<=T;_--,T--)if(d[_]!==g[T]){if(_!==1||T!==1)do if(_--,T--,0>T||d[_]!==g[T]){var A=`
`+d[_].replace(" at new "," at ");return i.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",i.displayName)),A}while(1<=_&&0<=T);break}}}finally{he=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?H(i):""}function ee(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=le(i.type,!1),i;case 11:return i=le(i.type.render,!1),i;case 1:return i=le(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case $:return"Fragment";case O:return"Portal";case M:return"Profiler";case G:return"StrictMode";case B:return"Suspense";case W:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case b:return(i._context.displayName||"Context")+".Provider";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ne:return o=i.displayName||null,o!==null?o:ge(i.type)||"Memo";case re:o=i._payload,i=i._init;try{return ge(i(o))}catch{}}return null}function pe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(o);case 8:return o===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Te(i){var o=Pe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,g=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Oe(i){i._valueTracker||(i._valueTracker=Te(i))}function st(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return i&&(c=Pe(i)?i.checked?"true":"false":i.value),i=c,i!==l?(o.setValue(i),!0):!1}function gn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Mt(i,o){var l=o.checked;return Q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Qn(i,o){var l=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;l=Ee(o.value!=null?o.value:l),i._wrapperState={initialChecked:c,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Kt(i,o){o=o.checked,o!=null&&k(i,"checked",o,!1)}function rn(i,o){Kt(i,o);var l=Ee(o.value),c=o.type;if(l!=null)c==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(c==="submit"||c==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?si(i,o.type,l):o.hasOwnProperty("defaultValue")&&si(i,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Er(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function si(i,o,l){(o!=="number"||gn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var oi=Array.isArray;function Yn(i,o,l,c){if(i=i.options,o){o={};for(var d=0;d<l.length;d++)o["$"+l[d]]=!0;for(l=0;l<i.length;l++)d=o.hasOwnProperty("$"+i[l].value),i[l].selected!==d&&(i[l].selected=d),d&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Ee(l),o=null,d=0;d<i.length;d++){if(i[d].value===l){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}o!==null||i[d].disabled||(o=i[d])}o!==null&&(o.selected=!0)}}function lo(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Jm(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(oi(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ee(l)}}function Zm(i,o){var l=Ee(o.value),c=Ee(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),c!=null&&(i.defaultValue=""+c)}function ev(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function tv(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xh(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?tv(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var wl,nv=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,c,d){MSApp.execUnsafeLocalFunction(function(){return i(o,l,c,d)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(wl=wl||document.createElement("div"),wl.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=wl.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function uo(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dk=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(i){Dk.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),co[o]=co[i]})});function rv(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||co.hasOwnProperty(i)&&co[i]?(""+o).trim():o+"px"}function iv(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var c=l.indexOf("--")===0,d=rv(l,o[l],c);l==="float"&&(l="cssFloat"),c?i.setProperty(l,d):i[l]=d}}var Mk=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bh(i,o){if(o){if(Mk[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Oh(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=null;function Mh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lh=null,Yi=null,Xi=null;function sv(i){if(i=Oo(i)){if(typeof Lh!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Vl(o),Lh(i.stateNode,i.type,o))}}function ov(i){Yi?Xi?Xi.push(i):Xi=[i]:Yi=i}function av(){if(Yi){var i=Yi,o=Xi;if(Xi=Yi=null,sv(i),o)for(i=0;i<o.length;i++)sv(o[i])}}function lv(i,o){return i(o)}function uv(){}var Fh=!1;function cv(i,o,l){if(Fh)return i(o,l);Fh=!0;try{return lv(i,o,l)}finally{Fh=!1,(Yi!==null||Xi!==null)&&(uv(),av())}}function ho(i,o){var l=i.stateNode;if(l===null)return null;var c=Vl(l);if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Uh=!1;if(h)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Uh=!1}function Lk(i,o,l,c,d,g,_,T,A){var V=Array.prototype.slice.call(arguments,3);try{o.apply(l,V)}catch(J){this.onError(J)}}var po=!1,El=null,Sl=!1,jh=null,Fk={onError:function(i){po=!0,El=i}};function Uk(i,o,l,c,d,g,_,T,A){po=!1,El=null,Lk.apply(Fk,arguments)}function jk(i,o,l,c,d,g,_,T,A){if(Uk.apply(this,arguments),po){if(po){var V=El;po=!1,El=null}else throw Error(n(198));Sl||(Sl=!0,jh=V)}}function ai(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function hv(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function fv(i){if(ai(i)!==i)throw Error(n(188))}function zk(i){var o=i.alternate;if(!o){if(o=ai(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,c=o;;){var d=l.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===l)return fv(d),i;if(g===c)return fv(d),o;g=g.sibling}throw Error(n(188))}if(l.return!==c.return)l=d,c=g;else{for(var _=!1,T=d.child;T;){if(T===l){_=!0,l=d,c=g;break}if(T===c){_=!0,c=d,l=g;break}T=T.sibling}if(!_){for(T=g.child;T;){if(T===l){_=!0,l=g,c=d;break}if(T===c){_=!0,c=g,l=d;break}T=T.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function dv(i){return i=zk(i),i!==null?pv(i):null}function pv(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=pv(i);if(o!==null)return o;i=i.sibling}return null}var gv=e.unstable_scheduleCallback,mv=e.unstable_cancelCallback,$k=e.unstable_shouldYield,Bk=e.unstable_requestPaint,Ye=e.unstable_now,Vk=e.unstable_getCurrentPriorityLevel,zh=e.unstable_ImmediatePriority,vv=e.unstable_UserBlockingPriority,Cl=e.unstable_NormalPriority,Wk=e.unstable_LowPriority,yv=e.unstable_IdlePriority,Il=null,On=null;function Hk(i){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Il,i,void 0,(i.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Kk,qk=Math.log,Gk=Math.LN2;function Kk(i){return i>>>=0,i===0?32:31-(qk(i)/Gk|0)|0}var Tl=64,kl=4194304;function go(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Rl(i,o){var l=i.pendingLanes;if(l===0)return 0;var c=0,d=i.suspendedLanes,g=i.pingedLanes,_=l&268435455;if(_!==0){var T=_&~d;T!==0?c=go(T):(g&=_,g!==0&&(c=go(g)))}else _=l&~d,_!==0?c=go(_):g!==0&&(c=go(g));if(c===0)return 0;if(o!==0&&o!==c&&(o&d)===0&&(d=c&-c,g=o&-o,d>=g||d===16&&(g&4194240)!==0))return o;if((c&4)!==0&&(c|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=c;0<o;)l=31-mn(o),d=1<<l,c|=i[l],o&=~d;return c}function Qk(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yk(i,o){for(var l=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes;0<g;){var _=31-mn(g),T=1<<_,A=d[_];A===-1?((T&l)===0||(T&c)!==0)&&(d[_]=Qk(T,o)):A<=o&&(i.expiredLanes|=T),g&=~T}}function $h(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function _v(){var i=Tl;return Tl<<=1,(Tl&4194240)===0&&(Tl=64),i}function Bh(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function mo(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-mn(o),i[o]=l}function Xk(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var c=i.eventTimes;for(i=i.expirationTimes;0<l;){var d=31-mn(l),g=1<<d;o[d]=0,c[d]=-1,i[d]=-1,l&=~g}}function Vh(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var c=31-mn(l),d=1<<c;d&o|i[c]&o&&(i[c]|=o),l&=~d}}var Me=0;function wv(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ev,Wh,Sv,Cv,Iv,Hh=!1,Pl=[],Sr=null,Cr=null,Ir=null,vo=new Map,yo=new Map,Tr=[],Jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tv(i,o){switch(i){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":vo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(o.pointerId)}}function _o(i,o,l,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},o!==null&&(o=Oo(o),o!==null&&Wh(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,d!==null&&o.indexOf(d)===-1&&o.push(d),i)}function Zk(i,o,l,c,d){switch(o){case"focusin":return Sr=_o(Sr,i,o,l,c,d),!0;case"dragenter":return Cr=_o(Cr,i,o,l,c,d),!0;case"mouseover":return Ir=_o(Ir,i,o,l,c,d),!0;case"pointerover":var g=d.pointerId;return vo.set(g,_o(vo.get(g)||null,i,o,l,c,d)),!0;case"gotpointercapture":return g=d.pointerId,yo.set(g,_o(yo.get(g)||null,i,o,l,c,d)),!0}return!1}function kv(i){var o=li(i.target);if(o!==null){var l=ai(o);if(l!==null){if(o=l.tag,o===13){if(o=hv(l),o!==null){i.blockedOn=o,Iv(i.priority,function(){Sv(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nl(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Gh(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Dh=c,l.target.dispatchEvent(c),Dh=null}else return o=Oo(l),o!==null&&Wh(o),i.blockedOn=l,!1;o.shift()}return!0}function Rv(i,o,l){Nl(i)&&l.delete(o)}function e1(){Hh=!1,Sr!==null&&Nl(Sr)&&(Sr=null),Cr!==null&&Nl(Cr)&&(Cr=null),Ir!==null&&Nl(Ir)&&(Ir=null),vo.forEach(Rv),yo.forEach(Rv)}function wo(i,o){i.blockedOn===o&&(i.blockedOn=null,Hh||(Hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,e1)))}function Eo(i){function o(d){return wo(d,i)}if(0<Pl.length){wo(Pl[0],i);for(var l=1;l<Pl.length;l++){var c=Pl[l];c.blockedOn===i&&(c.blockedOn=null)}}for(Sr!==null&&wo(Sr,i),Cr!==null&&wo(Cr,i),Ir!==null&&wo(Ir,i),vo.forEach(o),yo.forEach(o),l=0;l<Tr.length;l++)c=Tr[l],c.blockedOn===i&&(c.blockedOn=null);for(;0<Tr.length&&(l=Tr[0],l.blockedOn===null);)kv(l),l.blockedOn===null&&Tr.shift()}var Ji=E.ReactCurrentBatchConfig,Al=!0;function t1(i,o,l,c){var d=Me,g=Ji.transition;Ji.transition=null;try{Me=1,qh(i,o,l,c)}finally{Me=d,Ji.transition=g}}function n1(i,o,l,c){var d=Me,g=Ji.transition;Ji.transition=null;try{Me=4,qh(i,o,l,c)}finally{Me=d,Ji.transition=g}}function qh(i,o,l,c){if(Al){var d=Gh(i,o,l,c);if(d===null)hf(i,o,c,xl,l),Tv(i,c);else if(Zk(d,i,o,l,c))c.stopPropagation();else if(Tv(i,c),o&4&&-1<Jk.indexOf(i)){for(;d!==null;){var g=Oo(d);if(g!==null&&Ev(g),g=Gh(i,o,l,c),g===null&&hf(i,o,c,xl,l),g===d)break;d=g}d!==null&&c.stopPropagation()}else hf(i,o,c,null,l)}}var xl=null;function Gh(i,o,l,c){if(xl=null,i=Mh(c),i=li(i),i!==null)if(o=ai(i),o===null)i=null;else if(l=o.tag,l===13){if(i=hv(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return xl=i,null}function Pv(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vk()){case zh:return 1;case vv:return 4;case Cl:case Wk:return 16;case yv:return 536870912;default:return 16}default:return 16}}var kr=null,Kh=null,bl=null;function Nv(){if(bl)return bl;var i,o=Kh,l=o.length,c,d="value"in kr?kr.value:kr.textContent,g=d.length;for(i=0;i<l&&o[i]===d[i];i++);var _=l-i;for(c=1;c<=_&&o[l-c]===d[g-c];c++);return bl=d.slice(i,1<c?1-c:void 0)}function Ol(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Dl(){return!0}function Av(){return!1}function Qt(i){function o(l,c,d,g,_){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(l=i[T],this[T]=l?l(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Dl:Av,this.isPropagationStopped=Av,this}return Q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),o}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=Qt(Zi),So=Q({},Zi,{view:0,detail:0}),r1=Qt(So),Yh,Xh,Co,Ml=Q({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Co&&(Co&&i.type==="mousemove"?(Yh=i.screenX-Co.screenX,Xh=i.screenY-Co.screenY):Xh=Yh=0,Co=i),Yh)},movementY:function(i){return"movementY"in i?i.movementY:Xh}}),xv=Qt(Ml),i1=Q({},Ml,{dataTransfer:0}),s1=Qt(i1),o1=Q({},So,{relatedTarget:0}),Jh=Qt(o1),a1=Q({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=Qt(a1),u1=Q({},Zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c1=Qt(u1),h1=Q({},Zi,{data:0}),bv=Qt(h1),f1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g1(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=p1[i])?!!o[i]:!1}function Zh(){return g1}var m1=Q({},So,{key:function(i){if(i.key){var o=f1[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ol(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?d1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(i){return i.type==="keypress"?Ol(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ol(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v1=Qt(m1),y1=Q({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=Qt(y1),_1=Q({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),w1=Qt(_1),E1=Q({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S1=Qt(E1),C1=Q({},Ml,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=Qt(C1),T1=[9,13,27,32],ef=h&&"CompositionEvent"in window,Io=null;h&&"documentMode"in document&&(Io=document.documentMode);var k1=h&&"TextEvent"in window&&!Io,Dv=h&&(!ef||Io&&8<Io&&11>=Io),Mv=" ",Lv=!1;function Fv(i,o){switch(i){case"keyup":return T1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var es=!1;function R1(i,o){switch(i){case"compositionend":return Uv(o);case"keypress":return o.which!==32?null:(Lv=!0,Mv);case"textInput":return i=o.data,i===Mv&&Lv?null:i;default:return null}}function P1(i,o){if(es)return i==="compositionend"||!ef&&Fv(i,o)?(i=Nv(),bl=Kh=kr=null,es=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Dv&&o.locale!=="ko"?null:o.data;default:return null}}var N1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!N1[i.type]:o==="textarea"}function zv(i,o,l,c){ov(c),o=zl(o,"onChange"),0<o.length&&(l=new Qh("onChange","change",null,l,c),i.push({event:l,listeners:o}))}var To=null,ko=null;function A1(i){iy(i,0)}function Ll(i){var o=ss(i);if(st(o))return i}function x1(i,o){if(i==="change")return o}var $v=!1;if(h){var tf;if(h){var nf="oninput"in document;if(!nf){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),nf=typeof Bv.oninput=="function"}tf=nf}else tf=!1;$v=tf&&(!document.documentMode||9<document.documentMode)}function Vv(){To&&(To.detachEvent("onpropertychange",Wv),ko=To=null)}function Wv(i){if(i.propertyName==="value"&&Ll(ko)){var o=[];zv(o,ko,i,Mh(i)),cv(A1,o)}}function b1(i,o,l){i==="focusin"?(Vv(),To=o,ko=l,To.attachEvent("onpropertychange",Wv)):i==="focusout"&&Vv()}function O1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ll(ko)}function D1(i,o){if(i==="click")return Ll(o)}function M1(i,o){if(i==="input"||i==="change")return Ll(o)}function L1(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var vn=typeof Object.is=="function"?Object.is:L1;function Ro(i,o){if(vn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!f.call(o,d)||!vn(i[d],o[d]))return!1}return!0}function Hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qv(i,o){var l=Hv(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=o&&c>=o)return{node:l,offset:o-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hv(l)}}function Gv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Gv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Kv(){for(var i=window,o=gn();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=gn(i.document)}return o}function rf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function F1(i){var o=Kv(),l=i.focusedElem,c=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Gv(l.ownerDocument.documentElement,l)){if(c!==null&&rf(l)){if(o=c.start,i=c.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var d=l.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!i.extend&&g>c&&(d=c,c=g,g=d),d=qv(l,g);var _=qv(l,c);d&&_&&(i.rangeCount!==1||i.anchorNode!==d.node||i.anchorOffset!==d.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(d.node,d.offset),i.removeAllRanges(),g>c?(i.addRange(o),i.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var U1=h&&"documentMode"in document&&11>=document.documentMode,ts=null,sf=null,Po=null,of=!1;function Qv(i,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;of||ts==null||ts!==gn(c)||(c=ts,"selectionStart"in c&&rf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Po&&Ro(Po,c)||(Po=c,c=zl(sf,"onSelect"),0<c.length&&(o=new Qh("onSelect","select",null,o,l),i.push({event:o,listeners:c}),o.target=ts)))}function Fl(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var ns={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},af={},Yv={};h&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Ul(i){if(af[i])return af[i];if(!ns[i])return i;var o=ns[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Yv)return af[i]=o[l];return i}var Xv=Ul("animationend"),Jv=Ul("animationiteration"),Zv=Ul("animationstart"),ey=Ul("transitionend"),ty=new Map,ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(i,o){ty.set(i,o),a(o,[i])}for(var lf=0;lf<ny.length;lf++){var uf=ny[lf],j1=uf.toLowerCase(),z1=uf[0].toUpperCase()+uf.slice(1);Rr(j1,"on"+z1)}Rr(Xv,"onAnimationEnd"),Rr(Jv,"onAnimationIteration"),Rr(Zv,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(ey,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function ry(i,o,l){var c=i.type||"unknown-event";i.currentTarget=l,jk(c,o,void 0,i),i.currentTarget=null}function iy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],d=c.event;c=c.listeners;e:{var g=void 0;if(o)for(var _=c.length-1;0<=_;_--){var T=c[_],A=T.instance,V=T.currentTarget;if(T=T.listener,A!==g&&d.isPropagationStopped())break e;ry(d,T,V),g=A}else for(_=0;_<c.length;_++){if(T=c[_],A=T.instance,V=T.currentTarget,T=T.listener,A!==g&&d.isPropagationStopped())break e;ry(d,T,V),g=A}}}if(Sl)throw i=jh,Sl=!1,jh=null,i}function ze(i,o){var l=o[vf];l===void 0&&(l=o[vf]=new Set);var c=i+"__bubble";l.has(c)||(sy(o,i,2,!1),l.add(c))}function cf(i,o,l){var c=0;o&&(c|=4),sy(l,i,c,o)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Ao(i){if(!i[jl]){i[jl]=!0,r.forEach(function(l){l!=="selectionchange"&&($1.has(l)||cf(l,!1,i),cf(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[jl]||(o[jl]=!0,cf("selectionchange",!1,o))}}function sy(i,o,l,c){switch(Pv(o)){case 1:var d=t1;break;case 4:d=n1;break;default:d=qh}l=d.bind(null,o,l,i),d=void 0,!Uh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(o,l,{capture:!0,passive:d}):i.addEventListener(o,l,!0):d!==void 0?i.addEventListener(o,l,{passive:d}):i.addEventListener(o,l,!1)}function hf(i,o,l,c,d){var g=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;_=_.return}for(;T!==null;){if(_=li(T),_===null)return;if(A=_.tag,A===5||A===6){c=g=_;continue e}T=T.parentNode}}c=c.return}cv(function(){var V=g,J=Mh(l),Z=[];e:{var X=ty.get(i);if(X!==void 0){var ae=Qh,ce=i;switch(i){case"keypress":if(Ol(l)===0)break e;case"keydown":case"keyup":ae=v1;break;case"focusin":ce="focus",ae=Jh;break;case"focusout":ce="blur",ae=Jh;break;case"beforeblur":case"afterblur":ae=Jh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=s1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w1;break;case Xv:case Jv:case Zv:ae=l1;break;case ey:ae=S1;break;case"scroll":ae=r1;break;case"wheel":ae=I1;break;case"copy":case"cut":case"paste":ae=c1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ov}var fe=(o&4)!==0,Xe=!fe&&i==="scroll",U=fe?X!==null?X+"Capture":null:X;fe=[];for(var x=V,z;x!==null;){z=x;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=ho(x,U),te!=null&&fe.push(xo(x,te,z)))),Xe)break;x=x.return}0<fe.length&&(X=new ae(X,ce,null,l,J),Z.push({event:X,listeners:fe}))}}if((o&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",X&&l!==Dh&&(ce=l.relatedTarget||l.fromElement)&&(li(ce)||ce[Xn]))break e;if((ae||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,ae?(ce=l.relatedTarget||l.toElement,ae=V,ce=ce?li(ce):null,ce!==null&&(Xe=ai(ce),ce!==Xe||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ae=null,ce=V),ae!==ce)){if(fe=xv,te="onMouseLeave",U="onMouseEnter",x="mouse",(i==="pointerout"||i==="pointerover")&&(fe=Ov,te="onPointerLeave",U="onPointerEnter",x="pointer"),Xe=ae==null?X:ss(ae),z=ce==null?X:ss(ce),X=new fe(te,x+"leave",ae,l,J),X.target=Xe,X.relatedTarget=z,te=null,li(J)===V&&(fe=new fe(U,x+"enter",ce,l,J),fe.target=z,fe.relatedTarget=Xe,te=fe),Xe=te,ae&&ce)t:{for(fe=ae,U=ce,x=0,z=fe;z;z=rs(z))x++;for(z=0,te=U;te;te=rs(te))z++;for(;0<x-z;)fe=rs(fe),x--;for(;0<z-x;)U=rs(U),z--;for(;x--;){if(fe===U||U!==null&&fe===U.alternate)break t;fe=rs(fe),U=rs(U)}fe=null}else fe=null;ae!==null&&oy(Z,X,ae,fe,!1),ce!==null&&Xe!==null&&oy(Z,Xe,ce,fe,!0)}}e:{if(X=V?ss(V):window,ae=X.nodeName&&X.nodeName.toLowerCase(),ae==="select"||ae==="input"&&X.type==="file")var de=x1;else if(jv(X))if($v)de=M1;else{de=O1;var me=b1}else(ae=X.nodeName)&&ae.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(de=D1);if(de&&(de=de(i,V))){zv(Z,de,l,J);break e}me&&me(i,X,V),i==="focusout"&&(me=X._wrapperState)&&me.controlled&&X.type==="number"&&si(X,"number",X.value)}switch(me=V?ss(V):window,i){case"focusin":(jv(me)||me.contentEditable==="true")&&(ts=me,sf=V,Po=null);break;case"focusout":Po=sf=ts=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Qv(Z,l,J);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":Qv(Z,l,J)}var ve;if(ef)e:{switch(i){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else es?Fv(i,l)&&(_e="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(_e="onCompositionStart");_e&&(Dv&&l.locale!=="ko"&&(es||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&es&&(ve=Nv()):(kr=J,Kh="value"in kr?kr.value:kr.textContent,es=!0)),me=zl(V,_e),0<me.length&&(_e=new bv(_e,i,null,l,J),Z.push({event:_e,listeners:me}),ve?_e.data=ve:(ve=Uv(l),ve!==null&&(_e.data=ve)))),(ve=k1?R1(i,l):P1(i,l))&&(V=zl(V,"onBeforeInput"),0<V.length&&(J=new bv("onBeforeInput","beforeinput",null,l,J),Z.push({event:J,listeners:V}),J.data=ve))}iy(Z,o)})}function xo(i,o,l){return{instance:i,listener:o,currentTarget:l}}function zl(i,o){for(var l=o+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ho(i,l),g!=null&&c.unshift(xo(i,g,d)),g=ho(i,o),g!=null&&c.push(xo(i,g,d))),i=i.return}return c}function rs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function oy(i,o,l,c,d){for(var g=o._reactName,_=[];l!==null&&l!==c;){var T=l,A=T.alternate,V=T.stateNode;if(A!==null&&A===c)break;T.tag===5&&V!==null&&(T=V,d?(A=ho(l,g),A!=null&&_.unshift(xo(l,A,T))):d||(A=ho(l,g),A!=null&&_.push(xo(l,A,T)))),l=l.return}_.length!==0&&i.push({event:o,listeners:_})}var B1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function ay(i){return(typeof i=="string"?i:""+i).replace(B1,`
`).replace(V1,"")}function $l(i,o,l){if(o=ay(o),ay(i)!==o&&l)throw Error(n(425))}function Bl(){}var ff=null,df=null;function pf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,W1=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(i){return ly.resolve(null).then(i).catch(q1)}:gf;function q1(i){setTimeout(function(){throw i})}function mf(i,o){var l=o,c=0;do{var d=l.nextSibling;if(i.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(c===0){i.removeChild(d),Eo(o);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=d}while(l);Eo(o)}function Pr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function uy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var is=Math.random().toString(36).slice(2),Dn="__reactFiber$"+is,bo="__reactProps$"+is,Xn="__reactContainer$"+is,vf="__reactEvents$"+is,G1="__reactListeners$"+is,K1="__reactHandles$"+is;function li(i){var o=i[Dn];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Xn]||l[Dn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=uy(i);i!==null;){if(l=i[Dn])return l;i=uy(i)}return o}i=l,l=i.parentNode}return null}function Oo(i){return i=i[Dn]||i[Xn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ss(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Vl(i){return i[bo]||null}var yf=[],os=-1;function Nr(i){return{current:i}}function $e(i){0>os||(i.current=yf[os],yf[os]=null,os--)}function Ue(i,o){os++,yf[os]=i.current,i.current=o}var Ar={},wt=Nr(Ar),Lt=Nr(!1),ui=Ar;function as(i,o){var l=i.type.contextTypes;if(!l)return Ar;var c=i.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in l)d[g]=o[g];return c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=d),d}function Ft(i){return i=i.childContextTypes,i!=null}function Wl(){$e(Lt),$e(wt)}function cy(i,o,l){if(wt.current!==Ar)throw Error(n(168));Ue(wt,o),Ue(Lt,l)}function hy(i,o,l){var c=i.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var d in c)if(!(d in o))throw Error(n(108,pe(i)||"Unknown",d));return Q({},l,c)}function Hl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ar,ui=wt.current,Ue(wt,i),Ue(Lt,Lt.current),!0}function fy(i,o,l){var c=i.stateNode;if(!c)throw Error(n(169));l?(i=hy(i,o,ui),c.__reactInternalMemoizedMergedChildContext=i,$e(Lt),$e(wt),Ue(wt,i)):$e(Lt),Ue(Lt,l)}var Jn=null,ql=!1,_f=!1;function dy(i){Jn===null?Jn=[i]:Jn.push(i)}function Q1(i){ql=!0,dy(i)}function xr(){if(!_f&&Jn!==null){_f=!0;var i=0,o=Me;try{var l=Jn;for(Me=1;i<l.length;i++){var c=l[i];do c=c(!0);while(c!==null)}Jn=null,ql=!1}catch(d){throw Jn!==null&&(Jn=Jn.slice(i+1)),gv(zh,xr),d}finally{Me=o,_f=!1}}return null}var ls=[],us=0,Gl=null,Kl=0,sn=[],on=0,ci=null,Zn=1,er="";function hi(i,o){ls[us++]=Kl,ls[us++]=Gl,Gl=i,Kl=o}function py(i,o,l){sn[on++]=Zn,sn[on++]=er,sn[on++]=ci,ci=i;var c=Zn;i=er;var d=32-mn(c)-1;c&=~(1<<d),l+=1;var g=32-mn(o)+d;if(30<g){var _=d-d%5;g=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Zn=1<<32-mn(o)+d|l<<d|c,er=g+i}else Zn=1<<g|l<<d|c,er=i}function wf(i){i.return!==null&&(hi(i,1),py(i,1,0))}function Ef(i){for(;i===Gl;)Gl=ls[--us],ls[us]=null,Kl=ls[--us],ls[us]=null;for(;i===ci;)ci=sn[--on],sn[on]=null,er=sn[--on],sn[on]=null,Zn=sn[--on],sn[on]=null}var Yt=null,Xt=null,We=!1,yn=null;function gy(i,o){var l=cn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function my(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Yt=i,Xt=Pr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Yt=i,Xt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ci!==null?{id:Zn,overflow:er}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=cn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Yt=i,Xt=null,!0):!1;default:return!1}}function Sf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Cf(i){if(We){var o=Xt;if(o){var l=o;if(!my(i,o)){if(Sf(i))throw Error(n(418));o=Pr(l.nextSibling);var c=Yt;o&&my(i,o)?gy(c,l):(i.flags=i.flags&-4097|2,We=!1,Yt=i)}}else{if(Sf(i))throw Error(n(418));i.flags=i.flags&-4097|2,We=!1,Yt=i}}}function vy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Yt=i}function Ql(i){if(i!==Yt)return!1;if(!We)return vy(i),We=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!pf(i.type,i.memoizedProps)),o&&(o=Xt)){if(Sf(i))throw yy(),Error(n(418));for(;o;)gy(i,o),o=Pr(o.nextSibling)}if(vy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Xt=Pr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Xt=null}}else Xt=Yt?Pr(i.stateNode.nextSibling):null;return!0}function yy(){for(var i=Xt;i;)i=Pr(i.nextSibling)}function cs(){Xt=Yt=null,We=!1}function If(i){yn===null?yn=[i]:yn.push(i)}var Y1=E.ReactCurrentBatchConfig;function Do(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var c=l.stateNode}if(!c)throw Error(n(147,i));var d=c,g=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(_){var T=d.refs;_===null?delete T[g]:T[g]=_},o._stringRef=g,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function Yl(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function _y(i){var o=i._init;return o(i._payload)}function wy(i){function o(U,x){if(i){var z=U.deletions;z===null?(U.deletions=[x],U.flags|=16):z.push(x)}}function l(U,x){if(!i)return null;for(;x!==null;)o(U,x),x=x.sibling;return null}function c(U,x){for(U=new Map;x!==null;)x.key!==null?U.set(x.key,x):U.set(x.index,x),x=x.sibling;return U}function d(U,x){return U=jr(U,x),U.index=0,U.sibling=null,U}function g(U,x,z){return U.index=z,i?(z=U.alternate,z!==null?(z=z.index,z<x?(U.flags|=2,x):z):(U.flags|=2,x)):(U.flags|=1048576,x)}function _(U){return i&&U.alternate===null&&(U.flags|=2),U}function T(U,x,z,te){return x===null||x.tag!==6?(x=gd(z,U.mode,te),x.return=U,x):(x=d(x,z),x.return=U,x)}function A(U,x,z,te){var de=z.type;return de===$?J(U,x,z.props.children,te,z.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===re&&_y(de)===x.type)?(te=d(x,z.props),te.ref=Do(U,x,z),te.return=U,te):(te=wu(z.type,z.key,z.props,null,U.mode,te),te.ref=Do(U,x,z),te.return=U,te)}function V(U,x,z,te){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=md(z,U.mode,te),x.return=U,x):(x=d(x,z.children||[]),x.return=U,x)}function J(U,x,z,te,de){return x===null||x.tag!==7?(x=_i(z,U.mode,te,de),x.return=U,x):(x=d(x,z),x.return=U,x)}function Z(U,x,z){if(typeof x=="string"&&x!==""||typeof x=="number")return x=gd(""+x,U.mode,z),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case P:return z=wu(x.type,x.key,x.props,null,U.mode,z),z.ref=Do(U,null,x),z.return=U,z;case O:return x=md(x,U.mode,z),x.return=U,x;case re:var te=x._init;return Z(U,te(x._payload),z)}if(oi(x)||K(x))return x=_i(x,U.mode,z,null),x.return=U,x;Yl(U,x)}return null}function X(U,x,z,te){var de=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return de!==null?null:T(U,x,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===de?A(U,x,z,te):null;case O:return z.key===de?V(U,x,z,te):null;case re:return de=z._init,X(U,x,de(z._payload),te)}if(oi(z)||K(z))return de!==null?null:J(U,x,z,te,null);Yl(U,z)}return null}function ae(U,x,z,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,T(x,U,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return U=U.get(te.key===null?z:te.key)||null,A(x,U,te,de);case O:return U=U.get(te.key===null?z:te.key)||null,V(x,U,te,de);case re:var me=te._init;return ae(U,x,z,me(te._payload),de)}if(oi(te)||K(te))return U=U.get(z)||null,J(x,U,te,de,null);Yl(x,te)}return null}function ce(U,x,z,te){for(var de=null,me=null,ve=x,_e=x=0,lt=null;ve!==null&&_e<z.length;_e++){ve.index>_e?(lt=ve,ve=null):lt=ve.sibling;var xe=X(U,ve,z[_e],te);if(xe===null){ve===null&&(ve=lt);break}i&&ve&&xe.alternate===null&&o(U,ve),x=g(xe,x,_e),me===null?de=xe:me.sibling=xe,me=xe,ve=lt}if(_e===z.length)return l(U,ve),We&&hi(U,_e),de;if(ve===null){for(;_e<z.length;_e++)ve=Z(U,z[_e],te),ve!==null&&(x=g(ve,x,_e),me===null?de=ve:me.sibling=ve,me=ve);return We&&hi(U,_e),de}for(ve=c(U,ve);_e<z.length;_e++)lt=ae(ve,U,_e,z[_e],te),lt!==null&&(i&&lt.alternate!==null&&ve.delete(lt.key===null?_e:lt.key),x=g(lt,x,_e),me===null?de=lt:me.sibling=lt,me=lt);return i&&ve.forEach(function(zr){return o(U,zr)}),We&&hi(U,_e),de}function fe(U,x,z,te){var de=K(z);if(typeof de!="function")throw Error(n(150));if(z=de.call(z),z==null)throw Error(n(151));for(var me=de=null,ve=x,_e=x=0,lt=null,xe=z.next();ve!==null&&!xe.done;_e++,xe=z.next()){ve.index>_e?(lt=ve,ve=null):lt=ve.sibling;var zr=X(U,ve,xe.value,te);if(zr===null){ve===null&&(ve=lt);break}i&&ve&&zr.alternate===null&&o(U,ve),x=g(zr,x,_e),me===null?de=zr:me.sibling=zr,me=zr,ve=lt}if(xe.done)return l(U,ve),We&&hi(U,_e),de;if(ve===null){for(;!xe.done;_e++,xe=z.next())xe=Z(U,xe.value,te),xe!==null&&(x=g(xe,x,_e),me===null?de=xe:me.sibling=xe,me=xe);return We&&hi(U,_e),de}for(ve=c(U,ve);!xe.done;_e++,xe=z.next())xe=ae(ve,U,_e,xe.value,te),xe!==null&&(i&&xe.alternate!==null&&ve.delete(xe.key===null?_e:xe.key),x=g(xe,x,_e),me===null?de=xe:me.sibling=xe,me=xe);return i&&ve.forEach(function(NR){return o(U,NR)}),We&&hi(U,_e),de}function Xe(U,x,z,te){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var de=z.key,me=x;me!==null;){if(me.key===de){if(de=z.type,de===$){if(me.tag===7){l(U,me.sibling),x=d(me,z.props.children),x.return=U,U=x;break e}}else if(me.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===re&&_y(de)===me.type){l(U,me.sibling),x=d(me,z.props),x.ref=Do(U,me,z),x.return=U,U=x;break e}l(U,me);break}else o(U,me);me=me.sibling}z.type===$?(x=_i(z.props.children,U.mode,te,z.key),x.return=U,U=x):(te=wu(z.type,z.key,z.props,null,U.mode,te),te.ref=Do(U,x,z),te.return=U,U=te)}return _(U);case O:e:{for(me=z.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){l(U,x.sibling),x=d(x,z.children||[]),x.return=U,U=x;break e}else{l(U,x);break}else o(U,x);x=x.sibling}x=md(z,U.mode,te),x.return=U,U=x}return _(U);case re:return me=z._init,Xe(U,x,me(z._payload),te)}if(oi(z))return ce(U,x,z,te);if(K(z))return fe(U,x,z,te);Yl(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,x!==null&&x.tag===6?(l(U,x.sibling),x=d(x,z),x.return=U,U=x):(l(U,x),x=gd(z,U.mode,te),x.return=U,U=x),_(U)):l(U,x)}return Xe}var hs=wy(!0),Ey=wy(!1),Xl=Nr(null),Jl=null,fs=null,Tf=null;function kf(){Tf=fs=Jl=null}function Rf(i){var o=Xl.current;$e(Xl),i._currentValue=o}function Pf(i,o,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===l)break;i=i.return}}function ds(i,o){Jl=i,Tf=fs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Ut=!0),i.firstContext=null)}function an(i){var o=i._currentValue;if(Tf!==i)if(i={context:i,memoizedValue:o,next:null},fs===null){if(Jl===null)throw Error(n(308));fs=i,Jl.dependencies={lanes:0,firstContext:i}}else fs=fs.next=i;return o}var fi=null;function Nf(i){fi===null?fi=[i]:fi.push(i)}function Sy(i,o,l,c){var d=o.interleaved;return d===null?(l.next=l,Nf(o)):(l.next=d.next,d.next=l),o.interleaved=l,tr(i,c)}function tr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var br=!1;function Af(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function nr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Or(i,o,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ae&2)!==0){var d=c.pending;return d===null?o.next=o:(o.next=d.next,d.next=o),c.pending=o,tr(i,l)}return d=c.interleaved,d===null?(o.next=o,Nf(c)):(o.next=d.next,d.next=o),c.interleaved=o,tr(i,l)}function Zl(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,Vh(i,l)}}function Iy(i,o){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?d=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?d=g=o:g=g.next=o}else d=g=o;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function eu(i,o,l,c){var d=i.updateQueue;br=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var A=T,V=A.next;A.next=null,_===null?g=V:_.next=V,_=A;var J=i.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=V:T.next=V,J.lastBaseUpdate=A))}if(g!==null){var Z=d.baseState;_=0,J=V=A=null,T=g;do{var X=T.lane,ae=T.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:ae,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ce=i,fe=T;switch(X=o,ae=l,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){Z=ce.call(ae,Z,X);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,X=typeof ce=="function"?ce.call(ae,Z,X):ce,X==null)break e;Z=Q({},Z,X);break e;case 2:br=!0}}T.callback!==null&&T.lane!==0&&(i.flags|=64,X=d.effects,X===null?d.effects=[T]:X.push(T))}else ae={eventTime:ae,lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(V=J=ae,A=Z):J=J.next=ae,_|=X;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;X=T,T=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(A=Z),d.baseState=A,d.firstBaseUpdate=V,d.lastBaseUpdate=J,o=d.shared.interleaved,o!==null){d=o;do _|=d.lane,d=d.next;while(d!==o)}else g===null&&(d.shared.lanes=0);gi|=_,i.lanes=_,i.memoizedState=Z}}function Ty(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var c=i[o],d=c.callback;if(d!==null){if(c.callback=null,c=l,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Mo={},Mn=Nr(Mo),Lo=Nr(Mo),Fo=Nr(Mo);function di(i){if(i===Mo)throw Error(n(174));return i}function xf(i,o){switch(Ue(Fo,o),Ue(Lo,i),Ue(Mn,Mo),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xh(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=xh(o,i)}$e(Mn),Ue(Mn,o)}function ps(){$e(Mn),$e(Lo),$e(Fo)}function ky(i){di(Fo.current);var o=di(Mn.current),l=xh(o,i.type);o!==l&&(Ue(Lo,i),Ue(Mn,l))}function bf(i){Lo.current===i&&($e(Mn),$e(Lo))}var He=Nr(0);function tu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Of=[];function Df(){for(var i=0;i<Of.length;i++)Of[i]._workInProgressVersionPrimary=null;Of.length=0}var nu=E.ReactCurrentDispatcher,Mf=E.ReactCurrentBatchConfig,pi=0,qe=null,tt=null,ot=null,ru=!1,Uo=!1,jo=0,X1=0;function Et(){throw Error(n(321))}function Lf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!vn(i[l],o[l]))return!1;return!0}function Ff(i,o,l,c,d,g){if(pi=g,qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,nu.current=i===null||i.memoizedState===null?tR:nR,i=l(c,d),Uo){g=0;do{if(Uo=!1,jo=0,25<=g)throw Error(n(301));g+=1,ot=tt=null,o.updateQueue=null,nu.current=rR,i=l(c,d)}while(Uo)}if(nu.current=ou,o=tt!==null&&tt.next!==null,pi=0,ot=tt=qe=null,ru=!1,o)throw Error(n(300));return i}function Uf(){var i=jo!==0;return jo=0,i}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=i:ot=ot.next=i,ot}function ln(){if(tt===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var o=ot===null?qe.memoizedState:ot.next;if(o!==null)ot=o,tt=i;else{if(i===null)throw Error(n(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?qe.memoizedState=ot=i:ot=ot.next=i}return ot}function zo(i,o){return typeof o=="function"?o(i):o}function jf(i){var o=ln(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=tt,d=c.baseQueue,g=l.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}c.baseQueue=d=g,l.pending=null}if(d!==null){g=d.next,c=c.baseState;var T=_=null,A=null,V=g;do{var J=V.lane;if((pi&J)===J)A!==null&&(A=A.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),c=V.hasEagerState?V.eagerState:i(c,V.action);else{var Z={lane:J,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};A===null?(T=A=Z,_=c):A=A.next=Z,qe.lanes|=J,gi|=J}V=V.next}while(V!==null&&V!==g);A===null?_=c:A.next=T,vn(c,o.memoizedState)||(Ut=!0),o.memoizedState=c,o.baseState=_,o.baseQueue=A,l.lastRenderedState=c}if(i=l.interleaved,i!==null){d=i;do g=d.lane,qe.lanes|=g,gi|=g,d=d.next;while(d!==i)}else d===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function zf(i){var o=ln(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=l.dispatch,d=l.pending,g=o.memoizedState;if(d!==null){l.pending=null;var _=d=d.next;do g=i(g,_.action),_=_.next;while(_!==d);vn(g,o.memoizedState)||(Ut=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,c]}function Ry(){}function Py(i,o){var l=qe,c=ln(),d=o(),g=!vn(c.memoizedState,d);if(g&&(c.memoizedState=d,Ut=!0),c=c.queue,$f(xy.bind(null,l,c,i),[i]),c.getSnapshot!==o||g||ot!==null&&ot.memoizedState.tag&1){if(l.flags|=2048,$o(9,Ay.bind(null,l,c,d,o),void 0,null),at===null)throw Error(n(349));(pi&30)!==0||Ny(l,o,d)}return d}function Ny(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=qe.updateQueue,o===null?(o={lastEffect:null,stores:null},qe.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Ay(i,o,l,c){o.value=l,o.getSnapshot=c,by(o)&&Oy(i)}function xy(i,o,l){return l(function(){by(o)&&Oy(i)})}function by(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!vn(i,l)}catch{return!0}}function Oy(i){var o=tr(i,1);o!==null&&Sn(o,i,1,-1)}function Dy(i){var o=Ln();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:i},o.queue=i,i=i.dispatch=eR.bind(null,qe,i),[o.memoizedState,i]}function $o(i,o,l,c){return i={tag:i,create:o,destroy:l,deps:c,next:null},o=qe.updateQueue,o===null?(o={lastEffect:null,stores:null},qe.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,o.lastEffect=i)),i}function My(){return ln().memoizedState}function iu(i,o,l,c){var d=Ln();qe.flags|=i,d.memoizedState=$o(1|o,l,void 0,c===void 0?null:c)}function su(i,o,l,c){var d=ln();c=c===void 0?null:c;var g=void 0;if(tt!==null){var _=tt.memoizedState;if(g=_.destroy,c!==null&&Lf(c,_.deps)){d.memoizedState=$o(o,l,g,c);return}}qe.flags|=i,d.memoizedState=$o(1|o,l,g,c)}function Ly(i,o){return iu(8390656,8,i,o)}function $f(i,o){return su(2048,8,i,o)}function Fy(i,o){return su(4,2,i,o)}function Uy(i,o){return su(4,4,i,o)}function jy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zy(i,o,l){return l=l!=null?l.concat([i]):null,su(4,4,jy.bind(null,o,i),l)}function Bf(){}function $y(i,o){var l=ln();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&Lf(o,c[1])?c[0]:(l.memoizedState=[i,o],i)}function By(i,o){var l=ln();o=o===void 0?null:o;var c=l.memoizedState;return c!==null&&o!==null&&Lf(o,c[1])?c[0]:(i=i(),l.memoizedState=[i,o],i)}function Vy(i,o,l){return(pi&21)===0?(i.baseState&&(i.baseState=!1,Ut=!0),i.memoizedState=l):(vn(l,o)||(l=_v(),qe.lanes|=l,gi|=l,i.baseState=!0),o)}function J1(i,o){var l=Me;Me=l!==0&&4>l?l:4,i(!0);var c=Mf.transition;Mf.transition={};try{i(!1),o()}finally{Me=l,Mf.transition=c}}function Wy(){return ln().memoizedState}function Z1(i,o,l){var c=Fr(i);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Hy(i))qy(o,l);else if(l=Sy(i,o,l,c),l!==null){var d=Ot();Sn(l,i,c,d),Gy(l,o,c)}}function eR(i,o,l){var c=Fr(i),d={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hy(i))qy(o,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var _=o.lastRenderedState,T=g(_,l);if(d.hasEagerState=!0,d.eagerState=T,vn(T,_)){var A=o.interleaved;A===null?(d.next=d,Nf(o)):(d.next=A.next,A.next=d),o.interleaved=d;return}}catch{}finally{}l=Sy(i,o,d,c),l!==null&&(d=Ot(),Sn(l,i,c,d),Gy(l,o,c))}}function Hy(i){var o=i.alternate;return i===qe||o!==null&&o===qe}function qy(i,o){Uo=ru=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Gy(i,o,l){if((l&4194240)!==0){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,Vh(i,l)}}var ou={readContext:an,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},tR={readContext:an,useCallback:function(i,o){return Ln().memoizedState=[i,o===void 0?null:o],i},useContext:an,useEffect:Ly,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,iu(4194308,4,jy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return iu(4194308,4,i,o)},useInsertionEffect:function(i,o){return iu(4,2,i,o)},useMemo:function(i,o){var l=Ln();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var c=Ln();return o=l!==void 0?l(o):o,c.memoizedState=c.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},c.queue=i,i=i.dispatch=Z1.bind(null,qe,i),[c.memoizedState,i]},useRef:function(i){var o=Ln();return i={current:i},o.memoizedState=i},useState:Dy,useDebugValue:Bf,useDeferredValue:function(i){return Ln().memoizedState=i},useTransition:function(){var i=Dy(!1),o=i[0];return i=J1.bind(null,i[1]),Ln().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var c=qe,d=Ln();if(We){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),at===null)throw Error(n(349));(pi&30)!==0||Ny(c,o,l)}d.memoizedState=l;var g={value:l,getSnapshot:o};return d.queue=g,Ly(xy.bind(null,c,g,i),[i]),c.flags|=2048,$o(9,Ay.bind(null,c,g,l,o),void 0,null),l},useId:function(){var i=Ln(),o=at.identifierPrefix;if(We){var l=er,c=Zn;l=(c&~(1<<32-mn(c)-1)).toString(32)+l,o=":"+o+"R"+l,l=jo++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=X1++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},nR={readContext:an,useCallback:$y,useContext:an,useEffect:$f,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:Uy,useMemo:By,useReducer:jf,useRef:My,useState:function(){return jf(zo)},useDebugValue:Bf,useDeferredValue:function(i){var o=ln();return Vy(o,tt.memoizedState,i)},useTransition:function(){var i=jf(zo)[0],o=ln().memoizedState;return[i,o]},useMutableSource:Ry,useSyncExternalStore:Py,useId:Wy,unstable_isNewReconciler:!1},rR={readContext:an,useCallback:$y,useContext:an,useEffect:$f,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:Uy,useMemo:By,useReducer:zf,useRef:My,useState:function(){return zf(zo)},useDebugValue:Bf,useDeferredValue:function(i){var o=ln();return tt===null?o.memoizedState=i:Vy(o,tt.memoizedState,i)},useTransition:function(){var i=zf(zo)[0],o=ln().memoizedState;return[i,o]},useMutableSource:Ry,useSyncExternalStore:Py,useId:Wy,unstable_isNewReconciler:!1};function _n(i,o){if(i&&i.defaultProps){o=Q({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Vf(i,o,l,c){o=i.memoizedState,l=l(c,o),l=l==null?o:Q({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var au={isMounted:function(i){return(i=i._reactInternals)?ai(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var c=Ot(),d=Fr(i),g=nr(c,d);g.payload=o,l!=null&&(g.callback=l),o=Or(i,g,d),o!==null&&(Sn(o,i,d,c),Zl(o,i,d))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var c=Ot(),d=Fr(i),g=nr(c,d);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=Or(i,g,d),o!==null&&(Sn(o,i,d,c),Zl(o,i,d))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Ot(),c=Fr(i),d=nr(l,c);d.tag=2,o!=null&&(d.callback=o),o=Or(i,d,c),o!==null&&(Sn(o,i,c,l),Zl(o,i,c))}};function Ky(i,o,l,c,d,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,_):o.prototype&&o.prototype.isPureReactComponent?!Ro(l,c)||!Ro(d,g):!0}function Qy(i,o,l){var c=!1,d=Ar,g=o.contextType;return typeof g=="object"&&g!==null?g=an(g):(d=Ft(o)?ui:wt.current,c=o.contextTypes,g=(c=c!=null)?as(i,d):Ar),o=new o(l,g),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=au,i.stateNode=o,o._reactInternals=i,c&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=d,i.__reactInternalMemoizedMaskedChildContext=g),o}function Yy(i,o,l,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==i&&au.enqueueReplaceState(o,o.state,null)}function Wf(i,o,l,c){var d=i.stateNode;d.props=l,d.state=i.memoizedState,d.refs={},Af(i);var g=o.contextType;typeof g=="object"&&g!==null?d.context=an(g):(g=Ft(o)?ui:wt.current,d.context=as(i,g)),d.state=i.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Vf(i,o,g,l),d.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(o=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),o!==d.state&&au.enqueueReplaceState(d,d.state,null),eu(i,l,d,c),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308)}function gs(i,o){try{var l="",c=o;do l+=ee(c),c=c.return;while(c);var d=l}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:o,stack:d,digest:null}}function Hf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function qf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var iR=typeof WeakMap=="function"?WeakMap:Map;function Xy(i,o,l){l=nr(-1,l),l.tag=3,l.payload={element:null};var c=o.value;return l.callback=function(){pu||(pu=!0,ad=c),qf(i,o)},l}function Jy(i,o,l){l=nr(-1,l),l.tag=3;var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;l.payload=function(){return c(d)},l.callback=function(){qf(i,o)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){qf(i,o),typeof c!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),l}function Zy(i,o,l){var c=i.pingCache;if(c===null){c=i.pingCache=new iR;var d=new Set;c.set(o,d)}else d=c.get(o),d===void 0&&(d=new Set,c.set(o,d));d.has(l)||(d.add(l),i=yR.bind(null,i,o,l),o.then(i,i))}function e_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function t_(i,o,l,c,d){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=nr(-1,1),o.tag=2,Or(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=d,i)}var sR=E.ReactCurrentOwner,Ut=!1;function bt(i,o,l,c){o.child=i===null?Ey(o,null,l,c):hs(o,i.child,l,c)}function n_(i,o,l,c,d){l=l.render;var g=o.ref;return ds(o,d),c=Ff(i,o,l,c,g,d),l=Uf(),i!==null&&!Ut?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d,rr(i,o,d)):(We&&l&&wf(o),o.flags|=1,bt(i,o,c,d),o.child)}function r_(i,o,l,c,d){if(i===null){var g=l.type;return typeof g=="function"&&!pd(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=g,i_(i,o,g,c,d)):(i=wu(l.type,null,c,o,o.mode,d),i.ref=o.ref,i.return=o,o.child=i)}if(g=i.child,(i.lanes&d)===0){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ro,l(_,c)&&i.ref===o.ref)return rr(i,o,d)}return o.flags|=1,i=jr(g,c),i.ref=o.ref,i.return=o,o.child=i}function i_(i,o,l,c,d){if(i!==null){var g=i.memoizedProps;if(Ro(g,c)&&i.ref===o.ref)if(Ut=!1,o.pendingProps=c=g,(i.lanes&d)!==0)(i.flags&131072)!==0&&(Ut=!0);else return o.lanes=i.lanes,rr(i,o,d)}return Gf(i,o,l,c,d)}function s_(i,o,l){var c=o.pendingProps,d=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(vs,Jt),Jt|=l;else{if((l&1073741824)===0)return i=g!==null?g.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ue(vs,Jt),Jt|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:l,Ue(vs,Jt),Jt|=c}else g!==null?(c=g.baseLanes|l,o.memoizedState=null):c=l,Ue(vs,Jt),Jt|=c;return bt(i,o,d,l),o.child}function o_(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Gf(i,o,l,c,d){var g=Ft(l)?ui:wt.current;return g=as(o,g),ds(o,d),l=Ff(i,o,l,c,g,d),c=Uf(),i!==null&&!Ut?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d,rr(i,o,d)):(We&&c&&wf(o),o.flags|=1,bt(i,o,l,d),o.child)}function a_(i,o,l,c,d){if(Ft(l)){var g=!0;Hl(o)}else g=!1;if(ds(o,d),o.stateNode===null)uu(i,o),Qy(o,l,c),Wf(o,l,c,d),c=!0;else if(i===null){var _=o.stateNode,T=o.memoizedProps;_.props=T;var A=_.context,V=l.contextType;typeof V=="object"&&V!==null?V=an(V):(V=Ft(l)?ui:wt.current,V=as(o,V));var J=l.getDerivedStateFromProps,Z=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==c||A!==V)&&Yy(o,_,c,V),br=!1;var X=o.memoizedState;_.state=X,eu(o,c,_,d),A=o.memoizedState,T!==c||X!==A||Lt.current||br?(typeof J=="function"&&(Vf(o,l,J,c),A=o.memoizedState),(T=br||Ky(o,l,T,c,X,A,V))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=A),_.props=c,_.state=A,_.context=V,c=T):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{_=o.stateNode,Cy(i,o),T=o.memoizedProps,V=o.type===o.elementType?T:_n(o.type,T),_.props=V,Z=o.pendingProps,X=_.context,A=l.contextType,typeof A=="object"&&A!==null?A=an(A):(A=Ft(l)?ui:wt.current,A=as(o,A));var ae=l.getDerivedStateFromProps;(J=typeof ae=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==Z||X!==A)&&Yy(o,_,c,A),br=!1,X=o.memoizedState,_.state=X,eu(o,c,_,d);var ce=o.memoizedState;T!==Z||X!==ce||Lt.current||br?(typeof ae=="function"&&(Vf(o,l,ae,c),ce=o.memoizedState),(V=br||Ky(o,l,V,c,X,ce,A)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ce,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ce,A)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=ce),_.props=c,_.state=ce,_.context=A,c=V):(typeof _.componentDidUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),c=!1)}return Kf(i,o,l,c,g,d)}function Kf(i,o,l,c,d,g){o_(i,o);var _=(o.flags&128)!==0;if(!c&&!_)return d&&fy(o,l,!1),rr(i,o,g);c=o.stateNode,sR.current=o;var T=_&&typeof l.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,i!==null&&_?(o.child=hs(o,i.child,null,g),o.child=hs(o,null,T,g)):bt(i,o,T,g),o.memoizedState=c.state,d&&fy(o,l,!0),o.child}function l_(i){var o=i.stateNode;o.pendingContext?cy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&cy(i,o.context,!1),xf(i,o.containerInfo)}function u_(i,o,l,c,d){return cs(),If(d),o.flags|=256,bt(i,o,l,c),o.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(i){return{baseLanes:i,cachePool:null,transitions:null}}function c_(i,o,l){var c=o.pendingProps,d=He.current,g=!1,_=(o.flags&128)!==0,T;if((T=_)||(T=i!==null&&i.memoizedState===null?!1:(d&2)!==0),T?(g=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(d|=1),Ue(He,d&1),i===null)return Cf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=c.children,i=c.fallback,g?(c=o.mode,g=o.child,_={mode:"hidden",children:_},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Eu(_,c,0,null),i=_i(i,c,l,null),g.return=o,i.return=o,g.sibling=i,o.child=g,o.child.memoizedState=Yf(l),o.memoizedState=Qf,i):Xf(o,_));if(d=i.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return oR(i,o,_,c,T,d,l);if(g){g=c.fallback,_=o.mode,d=i.child,T=d.sibling;var A={mode:"hidden",children:c.children};return(_&1)===0&&o.child!==d?(c=o.child,c.childLanes=0,c.pendingProps=A,o.deletions=null):(c=jr(d,A),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?g=jr(T,g):(g=_i(g,_,l,null),g.flags|=2),g.return=o,c.return=o,c.sibling=g,o.child=c,c=g,g=o.child,_=i.child.memoizedState,_=_===null?Yf(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=i.childLanes&~l,o.memoizedState=Qf,c}return g=i.child,i=g.sibling,c=jr(g,{mode:"visible",children:c.children}),(o.mode&1)===0&&(c.lanes=l),c.return=o,c.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=c,o.memoizedState=null,c}function Xf(i,o){return o=Eu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function lu(i,o,l,c){return c!==null&&If(c),hs(o,i.child,null,l),i=Xf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function oR(i,o,l,c,d,g,_){if(l)return o.flags&256?(o.flags&=-257,c=Hf(Error(n(422))),lu(i,o,_,c)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(g=c.fallback,d=o.mode,c=Eu({mode:"visible",children:c.children},d,0,null),g=_i(g,d,_,null),g.flags|=2,c.return=o,g.return=o,c.sibling=g,o.child=c,(o.mode&1)!==0&&hs(o,i.child,null,_),o.child.memoizedState=Yf(_),o.memoizedState=Qf,g);if((o.mode&1)===0)return lu(i,o,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,g=Error(n(419)),c=Hf(g,c,void 0),lu(i,o,_,c)}if(T=(_&i.childLanes)!==0,Ut||T){if(c=at,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,tr(i,d),Sn(c,i,d,-1))}return dd(),c=Hf(Error(n(421))),lu(i,o,_,c)}return d.data==="$?"?(o.flags|=128,o.child=i.child,o=_R.bind(null,i),d._reactRetry=o,null):(i=g.treeContext,Xt=Pr(d.nextSibling),Yt=o,We=!0,yn=null,i!==null&&(sn[on++]=Zn,sn[on++]=er,sn[on++]=ci,Zn=i.id,er=i.overflow,ci=o),o=Xf(o,c.children),o.flags|=4096,o)}function h_(i,o,l){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),Pf(i.return,o,l)}function Jf(i,o,l,c,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=d)}function f_(i,o,l){var c=o.pendingProps,d=c.revealOrder,g=c.tail;if(bt(i,o,c.children,l),c=He.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&h_(i,l,o);else if(i.tag===19)h_(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}if(Ue(He,c),(o.mode&1)===0)o.memoizedState=null;else switch(d){case"forwards":for(l=o.child,d=null;l!==null;)i=l.alternate,i!==null&&tu(i)===null&&(d=l),l=l.sibling;l=d,l===null?(d=o.child,o.child=null):(d=l.sibling,l.sibling=null),Jf(o,!1,d,l,g);break;case"backwards":for(l=null,d=o.child,o.child=null;d!==null;){if(i=d.alternate,i!==null&&tu(i)===null){o.child=d;break}i=d.sibling,d.sibling=l,l=d,d=i}Jf(o,!0,l,null,g);break;case"together":Jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function uu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function rr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),gi|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=jr(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=jr(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function aR(i,o,l){switch(o.tag){case 3:l_(o),cs();break;case 5:ky(o);break;case 1:Ft(o.type)&&Hl(o);break;case 4:xf(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,d=o.memoizedProps.value;Ue(Xl,c._currentValue),c._currentValue=d;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(Ue(He,He.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?c_(i,o,l):(Ue(He,He.current&1),i=rr(i,o,l),i!==null?i.sibling:null);Ue(He,He.current&1);break;case 19:if(c=(l&o.childLanes)!==0,(i.flags&128)!==0){if(c)return f_(i,o,l);o.flags|=128}if(d=o.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ue(He,He.current),c)break;return null;case 22:case 23:return o.lanes=0,s_(i,o,l)}return rr(i,o,l)}var d_,Zf,p_,g_;d_=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Zf=function(){},p_=function(i,o,l,c){var d=i.memoizedProps;if(d!==c){i=o.stateNode,di(Mn.current);var g=null;switch(l){case"input":d=Mt(i,d),c=Mt(i,c),g=[];break;case"select":d=Q({},d,{value:void 0}),c=Q({},c,{value:void 0}),g=[];break;case"textarea":d=lo(i,d),c=lo(i,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(i.onclick=Bl)}bh(l,c);var _;l=null;for(V in d)if(!c.hasOwnProperty(V)&&d.hasOwnProperty(V)&&d[V]!=null)if(V==="style"){var T=d[V];for(_ in T)T.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(s.hasOwnProperty(V)?g||(g=[]):(g=g||[]).push(V,null));for(V in c){var A=c[V];if(T=d!=null?d[V]:void 0,c.hasOwnProperty(V)&&A!==T&&(A!=null||T!=null))if(V==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in A)A.hasOwnProperty(_)&&T[_]!==A[_]&&(l||(l={}),l[_]=A[_])}else l||(g||(g=[]),g.push(V,l)),l=A;else V==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,T=T?T.__html:void 0,A!=null&&T!==A&&(g=g||[]).push(V,A)):V==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(V,""+A):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(s.hasOwnProperty(V)?(A!=null&&V==="onScroll"&&ze("scroll",i),g||T===A||(g=[])):(g=g||[]).push(V,A))}l&&(g=g||[]).push("style",l);var V=g;(o.updateQueue=V)&&(o.flags|=4)}},g_=function(i,o,l,c){l!==c&&(o.flags|=4)};function Bo(i,o){if(!We)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function St(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(o)for(var d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=l,o}function lR(i,o,l){var c=o.pendingProps;switch(Ef(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(o),null;case 1:return Ft(o.type)&&Wl(),St(o),null;case 3:return c=o.stateNode,ps(),$e(Lt),$e(wt),Df(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Ql(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,yn!==null&&(cd(yn),yn=null))),Zf(i,o),St(o),null;case 5:bf(o);var d=di(Fo.current);if(l=o.type,i!==null&&o.stateNode!=null)p_(i,o,l,c,d),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(n(166));return St(o),null}if(i=di(Mn.current),Ql(o)){c=o.stateNode,l=o.type;var g=o.memoizedProps;switch(c[Dn]=o,c[bo]=g,i=(o.mode&1)!==0,l){case"dialog":ze("cancel",c),ze("close",c);break;case"iframe":case"object":case"embed":ze("load",c);break;case"video":case"audio":for(d=0;d<No.length;d++)ze(No[d],c);break;case"source":ze("error",c);break;case"img":case"image":case"link":ze("error",c),ze("load",c);break;case"details":ze("toggle",c);break;case"input":Qn(c,g),ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},ze("invalid",c);break;case"textarea":Jm(c,g),ze("invalid",c)}bh(l,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var T=g[_];_==="children"?typeof T=="string"?c.textContent!==T&&(g.suppressHydrationWarning!==!0&&$l(c.textContent,T,i),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&$l(c.textContent,T,i),d=["children",""+T]):s.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&ze("scroll",c)}switch(l){case"input":Oe(c),Er(c,g,!0);break;case"textarea":Oe(c),ev(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Bl)}c=d,o.updateQueue=c,c!==null&&(o.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=tv(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof c.is=="string"?i=_.createElement(l,{is:c.is}):(i=_.createElement(l),l==="select"&&(_=i,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):i=_.createElementNS(i,l),i[Dn]=o,i[bo]=c,d_(i,o,!1,!1),o.stateNode=i;e:{switch(_=Oh(l,c),l){case"dialog":ze("cancel",i),ze("close",i),d=c;break;case"iframe":case"object":case"embed":ze("load",i),d=c;break;case"video":case"audio":for(d=0;d<No.length;d++)ze(No[d],i);d=c;break;case"source":ze("error",i),d=c;break;case"img":case"image":case"link":ze("error",i),ze("load",i),d=c;break;case"details":ze("toggle",i),d=c;break;case"input":Qn(i,c),d=Mt(i,c),ze("invalid",i);break;case"option":d=c;break;case"select":i._wrapperState={wasMultiple:!!c.multiple},d=Q({},c,{value:void 0}),ze("invalid",i);break;case"textarea":Jm(i,c),d=lo(i,c),ze("invalid",i);break;default:d=c}bh(l,d),T=d;for(g in T)if(T.hasOwnProperty(g)){var A=T[g];g==="style"?iv(i,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&nv(i,A)):g==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&uo(i,A):typeof A=="number"&&uo(i,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?A!=null&&g==="onScroll"&&ze("scroll",i):A!=null&&k(i,g,A,_))}switch(l){case"input":Oe(i),Er(i,c,!1);break;case"textarea":Oe(i),ev(i);break;case"option":c.value!=null&&i.setAttribute("value",""+Ee(c.value));break;case"select":i.multiple=!!c.multiple,g=c.value,g!=null?Yn(i,!!c.multiple,g,!1):c.defaultValue!=null&&Yn(i,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(i.onclick=Bl)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return St(o),null;case 6:if(i&&o.stateNode!=null)g_(i,o,i.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(n(166));if(l=di(Fo.current),di(Mn.current),Ql(o)){if(c=o.stateNode,l=o.memoizedProps,c[Dn]=o,(g=c.nodeValue!==l)&&(i=Yt,i!==null))switch(i.tag){case 3:$l(c.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&$l(c.nodeValue,l,(i.mode&1)!==0)}g&&(o.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Dn]=o,o.stateNode=c}return St(o),null;case 13:if($e(He),c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(We&&Xt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)yy(),cs(),o.flags|=98560,g=!1;else if(g=Ql(o),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Dn]=o}else cs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;St(o),g=!1}else yn!==null&&(cd(yn),yn=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(c=c!==null,c!==(i!==null&&i.memoizedState!==null)&&c&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(He.current&1)!==0?nt===0&&(nt=3):dd())),o.updateQueue!==null&&(o.flags|=4),St(o),null);case 4:return ps(),Zf(i,o),i===null&&Ao(o.stateNode.containerInfo),St(o),null;case 10:return Rf(o.type._context),St(o),null;case 17:return Ft(o.type)&&Wl(),St(o),null;case 19:if($e(He),g=o.memoizedState,g===null)return St(o),null;if(c=(o.flags&128)!==0,_=g.rendering,_===null)if(c)Bo(g,!1);else{if(nt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=tu(i),_!==null){for(o.flags|=128,Bo(g,!1),c=_.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=l,l=o.child;l!==null;)g=l,i=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,i=_.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ue(He,He.current&1|2),o.child}i=i.sibling}g.tail!==null&&Ye()>ys&&(o.flags|=128,c=!0,Bo(g,!1),o.lanes=4194304)}else{if(!c)if(i=tu(_),i!==null){if(o.flags|=128,c=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Bo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!We)return St(o),null}else 2*Ye()-g.renderingStartTime>ys&&l!==1073741824&&(o.flags|=128,c=!0,Bo(g,!1),o.lanes=4194304);g.isBackwards?(_.sibling=o.child,o.child=_):(l=g.last,l!==null?l.sibling=_:o.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ye(),o.sibling=null,l=He.current,Ue(He,c?l&1|2:l&1),o):(St(o),null);case 22:case 23:return fd(),c=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==c&&(o.flags|=8192),c&&(o.mode&1)!==0?(Jt&1073741824)!==0&&(St(o),o.subtreeFlags&6&&(o.flags|=8192)):St(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function uR(i,o){switch(Ef(o),o.tag){case 1:return Ft(o.type)&&Wl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ps(),$e(Lt),$e(wt),Df(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return bf(o),null;case 13:if($e(He),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));cs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return $e(He),null;case 4:return ps(),null;case 10:return Rf(o.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var cu=!1,Ct=!1,cR=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ms(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Ke(i,o,c)}else l.current=null}function ed(i,o,l){try{l()}catch(c){Ke(i,o,c)}}var m_=!1;function hR(i,o){if(ff=Al,i=Kv(),rf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,T=-1,A=-1,V=0,J=0,Z=i,X=null;t:for(;;){for(var ae;Z!==l||d!==0&&Z.nodeType!==3||(T=_+d),Z!==g||c!==0&&Z.nodeType!==3||(A=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)X=Z,Z=ae;for(;;){if(Z===i)break t;if(X===l&&++V===d&&(T=_),X===g&&++J===c&&(A=_),(ae=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ae}l=T===-1||A===-1?null:{start:T,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(df={focusedElem:i,selectionRange:l},Al=!1,ue=o;ue!==null;)if(o=ue,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ue=i;else for(;ue!==null;){o=ue;try{var ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,Xe=ce.memoizedState,U=o.stateNode,x=U.getSnapshotBeforeUpdate(o.elementType===o.type?fe:_n(o.type,fe),Xe);U.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){Ke(o,o.return,te)}if(i=o.sibling,i!==null){i.return=o.return,ue=i;break}ue=o.return}return ce=m_,m_=!1,ce}function Vo(i,o,l){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&i)===i){var g=d.destroy;d.destroy=void 0,g!==void 0&&ed(o,l,g)}d=d.next}while(d!==c)}}function hu(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var c=l.create;l.destroy=c()}l=l.next}while(l!==o)}}function td(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function v_(i){var o=i.alternate;o!==null&&(i.alternate=null,v_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Dn],delete o[bo],delete o[vf],delete o[G1],delete o[K1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function y_(i){return i.tag===5||i.tag===3||i.tag===4}function __(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nd(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Bl));else if(c!==4&&(i=i.child,i!==null))for(nd(i,o,l),i=i.sibling;i!==null;)nd(i,o,l),i=i.sibling}function rd(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(c!==4&&(i=i.child,i!==null))for(rd(i,o,l),i=i.sibling;i!==null;)rd(i,o,l),i=i.sibling}var pt=null,wn=!1;function Dr(i,o,l){for(l=l.child;l!==null;)w_(i,o,l),l=l.sibling}function w_(i,o,l){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Il,l)}catch{}switch(l.tag){case 5:Ct||ms(l,o);case 6:var c=pt,d=wn;pt=null,Dr(i,o,l),pt=c,wn=d,pt!==null&&(wn?(i=pt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):pt.removeChild(l.stateNode));break;case 18:pt!==null&&(wn?(i=pt,l=l.stateNode,i.nodeType===8?mf(i.parentNode,l):i.nodeType===1&&mf(i,l),Eo(i)):mf(pt,l.stateNode));break;case 4:c=pt,d=wn,pt=l.stateNode.containerInfo,wn=!0,Dr(i,o,l),pt=c,wn=d;break;case 0:case 11:case 14:case 15:if(!Ct&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&ed(l,o,_),d=d.next}while(d!==c)}Dr(i,o,l);break;case 1:if(!Ct&&(ms(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(T){Ke(l,o,T)}Dr(i,o,l);break;case 21:Dr(i,o,l);break;case 22:l.mode&1?(Ct=(c=Ct)||l.memoizedState!==null,Dr(i,o,l),Ct=c):Dr(i,o,l);break;default:Dr(i,o,l)}}function E_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new cR),o.forEach(function(c){var d=wR.bind(null,i,c);l.has(c)||(l.add(c),c.then(d,d))})}}function En(i,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c];try{var g=i,_=o,T=_;e:for(;T!==null;){switch(T.tag){case 5:pt=T.stateNode,wn=!1;break e;case 3:pt=T.stateNode.containerInfo,wn=!0;break e;case 4:pt=T.stateNode.containerInfo,wn=!0;break e}T=T.return}if(pt===null)throw Error(n(160));w_(g,_,d),pt=null,wn=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(V){Ke(d,o,V)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)S_(o,i),o=o.sibling}function S_(i,o){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(En(o,i),Fn(i),c&4){try{Vo(3,i,i.return),hu(3,i)}catch(fe){Ke(i,i.return,fe)}try{Vo(5,i,i.return)}catch(fe){Ke(i,i.return,fe)}}break;case 1:En(o,i),Fn(i),c&512&&l!==null&&ms(l,l.return);break;case 5:if(En(o,i),Fn(i),c&512&&l!==null&&ms(l,l.return),i.flags&32){var d=i.stateNode;try{uo(d,"")}catch(fe){Ke(i,i.return,fe)}}if(c&4&&(d=i.stateNode,d!=null)){var g=i.memoizedProps,_=l!==null?l.memoizedProps:g,T=i.type,A=i.updateQueue;if(i.updateQueue=null,A!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&Kt(d,g),Oh(T,_);var V=Oh(T,g);for(_=0;_<A.length;_+=2){var J=A[_],Z=A[_+1];J==="style"?iv(d,Z):J==="dangerouslySetInnerHTML"?nv(d,Z):J==="children"?uo(d,Z):k(d,J,Z,V)}switch(T){case"input":rn(d,g);break;case"textarea":Zm(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?Yn(d,!!g.multiple,ae,!1):X!==!!g.multiple&&(g.defaultValue!=null?Yn(d,!!g.multiple,g.defaultValue,!0):Yn(d,!!g.multiple,g.multiple?[]:"",!1))}d[bo]=g}catch(fe){Ke(i,i.return,fe)}}break;case 6:if(En(o,i),Fn(i),c&4){if(i.stateNode===null)throw Error(n(162));d=i.stateNode,g=i.memoizedProps;try{d.nodeValue=g}catch(fe){Ke(i,i.return,fe)}}break;case 3:if(En(o,i),Fn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Eo(o.containerInfo)}catch(fe){Ke(i,i.return,fe)}break;case 4:En(o,i),Fn(i);break;case 13:En(o,i),Fn(i),d=i.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(od=Ye())),c&4&&E_(i);break;case 22:if(J=l!==null&&l.memoizedState!==null,i.mode&1?(Ct=(V=Ct)||J,En(o,i),Ct=V):En(o,i),Fn(i),c&8192){if(V=i.memoizedState!==null,(i.stateNode.isHidden=V)&&!J&&(i.mode&1)!==0)for(ue=i,J=i.child;J!==null;){for(Z=ue=J;ue!==null;){switch(X=ue,ae=X.child,X.tag){case 0:case 11:case 14:case 15:Vo(4,X,X.return);break;case 1:ms(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){c=X,l=X.return;try{o=c,ce.props=o.memoizedProps,ce.state=o.memoizedState,ce.componentWillUnmount()}catch(fe){Ke(c,l,fe)}}break;case 5:ms(X,X.return);break;case 22:if(X.memoizedState!==null){T_(Z);continue}}ae!==null?(ae.return=X,ue=ae):T_(Z)}J=J.sibling}e:for(J=null,Z=i;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,V?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=Z.stateNode,A=Z.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,T.style.display=rv("display",_))}catch(fe){Ke(i,i.return,fe)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=V?"":Z.memoizedProps}catch(fe){Ke(i,i.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===i)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===i)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===i)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:En(o,i),Fn(i),c&4&&E_(i);break;case 21:break;default:En(o,i),Fn(i)}}function Fn(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(y_(l)){var c=l;break e}l=l.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(uo(d,""),c.flags&=-33);var g=__(i);rd(i,g,d);break;case 3:case 4:var _=c.stateNode.containerInfo,T=__(i);nd(i,T,_);break;default:throw Error(n(161))}}catch(A){Ke(i,i.return,A)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function fR(i,o,l){ue=i,C_(i)}function C_(i,o,l){for(var c=(i.mode&1)!==0;ue!==null;){var d=ue,g=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||cu;if(!_){var T=d.alternate,A=T!==null&&T.memoizedState!==null||Ct;T=cu;var V=Ct;if(cu=_,(Ct=A)&&!V)for(ue=d;ue!==null;)_=ue,A=_.child,_.tag===22&&_.memoizedState!==null?k_(d):A!==null?(A.return=_,ue=A):k_(d);for(;g!==null;)ue=g,C_(g),g=g.sibling;ue=d,cu=T,Ct=V}I_(i)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,ue=g):I_(i)}}function I_(i){for(;ue!==null;){var o=ue;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ct||hu(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!Ct)if(l===null)c.componentDidMount();else{var d=o.elementType===o.type?l.memoizedProps:_n(o.type,l.memoizedProps);c.componentDidUpdate(d,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&Ty(o,g,c);break;case 3:var _=o.updateQueue;if(_!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Ty(o,_,l)}break;case 5:var T=o.stateNode;if(l===null&&o.flags&4){l=T;var A=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var V=o.alternate;if(V!==null){var J=V.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Eo(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ct||o.flags&512&&td(o)}catch(X){Ke(o,o.return,X)}}if(o===i){ue=null;break}if(l=o.sibling,l!==null){l.return=o.return,ue=l;break}ue=o.return}}function T_(i){for(;ue!==null;){var o=ue;if(o===i){ue=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ue=l;break}ue=o.return}}function k_(i){for(;ue!==null;){var o=ue;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{hu(4,o)}catch(A){Ke(o,l,A)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var d=o.return;try{c.componentDidMount()}catch(A){Ke(o,d,A)}}var g=o.return;try{td(o)}catch(A){Ke(o,g,A)}break;case 5:var _=o.return;try{td(o)}catch(A){Ke(o,_,A)}}}catch(A){Ke(o,o.return,A)}if(o===i){ue=null;break}var T=o.sibling;if(T!==null){T.return=o.return,ue=T;break}ue=o.return}}var dR=Math.ceil,fu=E.ReactCurrentDispatcher,id=E.ReactCurrentOwner,un=E.ReactCurrentBatchConfig,Ae=0,at=null,Ze=null,gt=0,Jt=0,vs=Nr(0),nt=0,Wo=null,gi=0,du=0,sd=0,Ho=null,jt=null,od=0,ys=1/0,ir=null,pu=!1,ad=null,Mr=null,gu=!1,Lr=null,mu=0,qo=0,ld=null,vu=-1,yu=0;function Ot(){return(Ae&6)!==0?Ye():vu!==-1?vu:vu=Ye()}function Fr(i){return(i.mode&1)===0?1:(Ae&2)!==0&&gt!==0?gt&-gt:Y1.transition!==null?(yu===0&&(yu=_v()),yu):(i=Me,i!==0||(i=window.event,i=i===void 0?16:Pv(i.type)),i)}function Sn(i,o,l,c){if(50<qo)throw qo=0,ld=null,Error(n(185));mo(i,l,c),((Ae&2)===0||i!==at)&&(i===at&&((Ae&2)===0&&(du|=l),nt===4&&Ur(i,gt)),zt(i,c),l===1&&Ae===0&&(o.mode&1)===0&&(ys=Ye()+500,ql&&xr()))}function zt(i,o){var l=i.callbackNode;Yk(i,o);var c=Rl(i,i===at?gt:0);if(c===0)l!==null&&mv(l),i.callbackNode=null,i.callbackPriority=0;else if(o=c&-c,i.callbackPriority!==o){if(l!=null&&mv(l),o===1)i.tag===0?Q1(P_.bind(null,i)):dy(P_.bind(null,i)),H1(function(){(Ae&6)===0&&xr()}),l=null;else{switch(wv(c)){case 1:l=zh;break;case 4:l=vv;break;case 16:l=Cl;break;case 536870912:l=yv;break;default:l=Cl}l=L_(l,R_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function R_(i,o){if(vu=-1,yu=0,(Ae&6)!==0)throw Error(n(327));var l=i.callbackNode;if(_s()&&i.callbackNode!==l)return null;var c=Rl(i,i===at?gt:0);if(c===0)return null;if((c&30)!==0||(c&i.expiredLanes)!==0||o)o=_u(i,c);else{o=c;var d=Ae;Ae|=2;var g=A_();(at!==i||gt!==o)&&(ir=null,ys=Ye()+500,vi(i,o));do try{mR();break}catch(T){N_(i,T)}while(!0);kf(),fu.current=g,Ae=d,Ze!==null?o=0:(at=null,gt=0,o=nt)}if(o!==0){if(o===2&&(d=$h(i),d!==0&&(c=d,o=ud(i,d))),o===1)throw l=Wo,vi(i,0),Ur(i,c),zt(i,Ye()),l;if(o===6)Ur(i,c);else{if(d=i.current.alternate,(c&30)===0&&!pR(d)&&(o=_u(i,c),o===2&&(g=$h(i),g!==0&&(c=g,o=ud(i,g))),o===1))throw l=Wo,vi(i,0),Ur(i,c),zt(i,Ye()),l;switch(i.finishedWork=d,i.finishedLanes=c,o){case 0:case 1:throw Error(n(345));case 2:yi(i,jt,ir);break;case 3:if(Ur(i,c),(c&130023424)===c&&(o=od+500-Ye(),10<o)){if(Rl(i,0)!==0)break;if(d=i.suspendedLanes,(d&c)!==c){Ot(),i.pingedLanes|=i.suspendedLanes&d;break}i.timeoutHandle=gf(yi.bind(null,i,jt,ir),o);break}yi(i,jt,ir);break;case 4:if(Ur(i,c),(c&4194240)===c)break;for(o=i.eventTimes,d=-1;0<c;){var _=31-mn(c);g=1<<_,_=o[_],_>d&&(d=_),c&=~g}if(c=d,c=Ye()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*dR(c/1960))-c,10<c){i.timeoutHandle=gf(yi.bind(null,i,jt,ir),c);break}yi(i,jt,ir);break;case 5:yi(i,jt,ir);break;default:throw Error(n(329))}}}return zt(i,Ye()),i.callbackNode===l?R_.bind(null,i):null}function ud(i,o){var l=Ho;return i.current.memoizedState.isDehydrated&&(vi(i,o).flags|=256),i=_u(i,o),i!==2&&(o=jt,jt=l,o!==null&&cd(o)),i}function cd(i){jt===null?jt=i:jt.push.apply(jt,i)}function pR(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var d=l[c],g=d.getSnapshot;d=d.value;try{if(!vn(g(),d))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ur(i,o){for(o&=~sd,o&=~du,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-mn(o),c=1<<l;i[l]=-1,o&=~c}}function P_(i){if((Ae&6)!==0)throw Error(n(327));_s();var o=Rl(i,0);if((o&1)===0)return zt(i,Ye()),null;var l=_u(i,o);if(i.tag!==0&&l===2){var c=$h(i);c!==0&&(o=c,l=ud(i,c))}if(l===1)throw l=Wo,vi(i,0),Ur(i,o),zt(i,Ye()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,yi(i,jt,ir),zt(i,Ye()),null}function hd(i,o){var l=Ae;Ae|=1;try{return i(o)}finally{Ae=l,Ae===0&&(ys=Ye()+500,ql&&xr())}}function mi(i){Lr!==null&&Lr.tag===0&&(Ae&6)===0&&_s();var o=Ae;Ae|=1;var l=un.transition,c=Me;try{if(un.transition=null,Me=1,i)return i()}finally{Me=c,un.transition=l,Ae=o,(Ae&6)===0&&xr()}}function fd(){Jt=vs.current,$e(vs)}function vi(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,W1(l)),Ze!==null)for(l=Ze.return;l!==null;){var c=l;switch(Ef(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Wl();break;case 3:ps(),$e(Lt),$e(wt),Df();break;case 5:bf(c);break;case 4:ps();break;case 13:$e(He);break;case 19:$e(He);break;case 10:Rf(c.type._context);break;case 22:case 23:fd()}l=l.return}if(at=i,Ze=i=jr(i.current,null),gt=Jt=o,nt=0,Wo=null,sd=du=gi=0,jt=Ho=null,fi!==null){for(o=0;o<fi.length;o++)if(l=fi[o],c=l.interleaved,c!==null){l.interleaved=null;var d=c.next,g=l.pending;if(g!==null){var _=g.next;g.next=d,c.next=_}l.pending=c}fi=null}return i}function N_(i,o){do{var l=Ze;try{if(kf(),nu.current=ou,ru){for(var c=qe.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}ru=!1}if(pi=0,ot=tt=qe=null,Uo=!1,jo=0,id.current=null,l===null||l.return===null){nt=1,Wo=o,Ze=null;break}e:{var g=i,_=l.return,T=l,A=o;if(o=gt,T.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=A,J=T,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var ae=e_(_);if(ae!==null){ae.flags&=-257,t_(ae,_,T,g,o),ae.mode&1&&Zy(g,V,o),o=ae,A=V;var ce=o.updateQueue;if(ce===null){var fe=new Set;fe.add(A),o.updateQueue=fe}else ce.add(A);break e}else{if((o&1)===0){Zy(g,V,o),dd();break e}A=Error(n(426))}}else if(We&&T.mode&1){var Xe=e_(_);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),t_(Xe,_,T,g,o),If(gs(A,T));break e}}g=A=gs(A,T),nt!==4&&(nt=2),Ho===null?Ho=[g]:Ho.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var U=Xy(g,A,o);Iy(g,U);break e;case 1:T=A;var x=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Mr===null||!Mr.has(z)))){g.flags|=65536,o&=-o,g.lanes|=o;var te=Jy(g,T,o);Iy(g,te);break e}}g=g.return}while(g!==null)}b_(l)}catch(de){o=de,Ze===l&&l!==null&&(Ze=l=l.return);continue}break}while(!0)}function A_(){var i=fu.current;return fu.current=ou,i===null?ou:i}function dd(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||(gi&268435455)===0&&(du&268435455)===0||Ur(at,gt)}function _u(i,o){var l=Ae;Ae|=2;var c=A_();(at!==i||gt!==o)&&(ir=null,vi(i,o));do try{gR();break}catch(d){N_(i,d)}while(!0);if(kf(),Ae=l,fu.current=c,Ze!==null)throw Error(n(261));return at=null,gt=0,nt}function gR(){for(;Ze!==null;)x_(Ze)}function mR(){for(;Ze!==null&&!$k();)x_(Ze)}function x_(i){var o=M_(i.alternate,i,Jt);i.memoizedProps=i.pendingProps,o===null?b_(i):Ze=o,id.current=null}function b_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=lR(l,o,Jt),l!==null){Ze=l;return}}else{if(l=uR(l,o),l!==null){l.flags&=32767,Ze=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{nt=6,Ze=null;return}}if(o=o.sibling,o!==null){Ze=o;return}Ze=o=i}while(o!==null);nt===0&&(nt=5)}function yi(i,o,l){var c=Me,d=un.transition;try{un.transition=null,Me=1,vR(i,o,l,c)}finally{un.transition=d,Me=c}return null}function vR(i,o,l,c){do _s();while(Lr!==null);if((Ae&6)!==0)throw Error(n(327));l=i.finishedWork;var d=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var g=l.lanes|l.childLanes;if(Xk(i,g),i===at&&(Ze=at=null,gt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gu||(gu=!0,L_(Cl,function(){return _s(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=un.transition,un.transition=null;var _=Me;Me=1;var T=Ae;Ae|=4,id.current=null,hR(i,l),S_(l,i),F1(df),Al=!!ff,df=ff=null,i.current=l,fR(l),Bk(),Ae=T,Me=_,un.transition=g}else i.current=l;if(gu&&(gu=!1,Lr=i,mu=d),g=i.pendingLanes,g===0&&(Mr=null),Hk(l.stateNode),zt(i,Ye()),o!==null)for(c=i.onRecoverableError,l=0;l<o.length;l++)d=o[l],c(d.value,{componentStack:d.stack,digest:d.digest});if(pu)throw pu=!1,i=ad,ad=null,i;return(mu&1)!==0&&i.tag!==0&&_s(),g=i.pendingLanes,(g&1)!==0?i===ld?qo++:(qo=0,ld=i):qo=0,xr(),null}function _s(){if(Lr!==null){var i=wv(mu),o=un.transition,l=Me;try{if(un.transition=null,Me=16>i?16:i,Lr===null)var c=!1;else{if(i=Lr,Lr=null,mu=0,(Ae&6)!==0)throw Error(n(331));var d=Ae;for(Ae|=4,ue=i.current;ue!==null;){var g=ue,_=g.child;if((ue.flags&16)!==0){var T=g.deletions;if(T!==null){for(var A=0;A<T.length;A++){var V=T[A];for(ue=V;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:Vo(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,ue=Z;else for(;ue!==null;){J=ue;var X=J.sibling,ae=J.return;if(v_(J),J===V){ue=null;break}if(X!==null){X.return=ae,ue=X;break}ue=ae}}}var ce=g.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var Xe=fe.sibling;fe.sibling=null,fe=Xe}while(fe!==null)}}ue=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,ue=_;else e:for(;ue!==null;){if(g=ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Vo(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,ue=U;break e}ue=g.return}}var x=i.current;for(ue=x;ue!==null;){_=ue;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,ue=z;else e:for(_=x;ue!==null;){if(T=ue,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:hu(9,T)}}catch(de){Ke(T,T.return,de)}if(T===_){ue=null;break e}var te=T.sibling;if(te!==null){te.return=T.return,ue=te;break e}ue=T.return}}if(Ae=d,xr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Il,i)}catch{}c=!0}return c}finally{Me=l,un.transition=o}}return!1}function O_(i,o,l){o=gs(l,o),o=Xy(i,o,1),i=Or(i,o,1),o=Ot(),i!==null&&(mo(i,1,o),zt(i,o))}function Ke(i,o,l){if(i.tag===3)O_(i,i,l);else for(;o!==null;){if(o.tag===3){O_(o,i,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Mr===null||!Mr.has(c))){i=gs(l,i),i=Jy(o,i,1),o=Or(o,i,1),i=Ot(),o!==null&&(mo(o,1,i),zt(o,i));break}}o=o.return}}function yR(i,o,l){var c=i.pingCache;c!==null&&c.delete(o),o=Ot(),i.pingedLanes|=i.suspendedLanes&l,at===i&&(gt&l)===l&&(nt===4||nt===3&&(gt&130023424)===gt&&500>Ye()-od?vi(i,0):sd|=l),zt(i,o)}function D_(i,o){o===0&&((i.mode&1)===0?o=1:(o=kl,kl<<=1,(kl&130023424)===0&&(kl=4194304)));var l=Ot();i=tr(i,o),i!==null&&(mo(i,o,l),zt(i,l))}function _R(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),D_(i,l)}function wR(i,o){var l=0;switch(i.tag){case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=i.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(o),D_(i,l)}var M_;M_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Lt.current)Ut=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Ut=!1,aR(i,o,l);Ut=(i.flags&131072)!==0}else Ut=!1,We&&(o.flags&1048576)!==0&&py(o,Kl,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;uu(i,o),i=o.pendingProps;var d=as(o,wt.current);ds(o,l),d=Ff(null,o,c,i,d,l);var g=Uf();return o.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ft(c)?(g=!0,Hl(o)):g=!1,o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Af(o),d.updater=au,o.stateNode=d,d._reactInternals=o,Wf(o,c,i,l),o=Kf(null,o,c,!0,g,l)):(o.tag=0,We&&g&&wf(o),bt(null,o,d,l),o=o.child),o;case 16:c=o.elementType;e:{switch(uu(i,o),i=o.pendingProps,d=c._init,c=d(c._payload),o.type=c,d=o.tag=SR(c),i=_n(c,i),d){case 0:o=Gf(null,o,c,i,l);break e;case 1:o=a_(null,o,c,i,l);break e;case 11:o=n_(null,o,c,i,l);break e;case 14:o=r_(null,o,c,_n(c.type,i),l);break e}throw Error(n(306,c,""))}return o;case 0:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:_n(c,d),Gf(i,o,c,d,l);case 1:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:_n(c,d),a_(i,o,c,d,l);case 3:e:{if(l_(o),i===null)throw Error(n(387));c=o.pendingProps,g=o.memoizedState,d=g.element,Cy(i,o),eu(o,c,null,l);var _=o.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){d=gs(Error(n(423)),o),o=u_(i,o,c,l,d);break e}else if(c!==d){d=gs(Error(n(424)),o),o=u_(i,o,c,l,d);break e}else for(Xt=Pr(o.stateNode.containerInfo.firstChild),Yt=o,We=!0,yn=null,l=Ey(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(cs(),c===d){o=rr(i,o,l);break e}bt(i,o,c,l)}o=o.child}return o;case 5:return ky(o),i===null&&Cf(o),c=o.type,d=o.pendingProps,g=i!==null?i.memoizedProps:null,_=d.children,pf(c,d)?_=null:g!==null&&pf(c,g)&&(o.flags|=32),o_(i,o),bt(i,o,_,l),o.child;case 6:return i===null&&Cf(o),null;case 13:return c_(i,o,l);case 4:return xf(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=hs(o,null,c,l):bt(i,o,c,l),o.child;case 11:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:_n(c,d),n_(i,o,c,d,l);case 7:return bt(i,o,o.pendingProps,l),o.child;case 8:return bt(i,o,o.pendingProps.children,l),o.child;case 12:return bt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(c=o.type._context,d=o.pendingProps,g=o.memoizedProps,_=d.value,Ue(Xl,c._currentValue),c._currentValue=_,g!==null)if(vn(g.value,_)){if(g.children===d.children&&!Lt.current){o=rr(i,o,l);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var T=g.dependencies;if(T!==null){_=g.child;for(var A=T.firstContext;A!==null;){if(A.context===c){if(g.tag===1){A=nr(-1,l&-l),A.tag=2;var V=g.updateQueue;if(V!==null){V=V.shared;var J=V.pending;J===null?A.next=A:(A.next=J.next,J.next=A),V.pending=A}}g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),Pf(g.return,l,o),T.lanes|=l;break}A=A.next}}else if(g.tag===10)_=g.type===o.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=l,T=_.alternate,T!==null&&(T.lanes|=l),Pf(_,l,o),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===o){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}bt(i,o,d.children,l),o=o.child}return o;case 9:return d=o.type,c=o.pendingProps.children,ds(o,l),d=an(d),c=c(d),o.flags|=1,bt(i,o,c,l),o.child;case 14:return c=o.type,d=_n(c,o.pendingProps),d=_n(c.type,d),r_(i,o,c,d,l);case 15:return i_(i,o,o.type,o.pendingProps,l);case 17:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:_n(c,d),uu(i,o),o.tag=1,Ft(c)?(i=!0,Hl(o)):i=!1,ds(o,l),Qy(o,c,d),Wf(o,c,d,l),Kf(null,o,c,!0,i,l);case 19:return f_(i,o,l);case 22:return s_(i,o,l)}throw Error(n(156,o.tag))};function L_(i,o){return gv(i,o)}function ER(i,o,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(i,o,l,c){return new ER(i,o,l,c)}function pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function SR(i){if(typeof i=="function")return pd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===ne)return 14}return 2}function jr(i,o){var l=i.alternate;return l===null?(l=cn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function wu(i,o,l,c,d,g){var _=2;if(c=i,typeof i=="function")pd(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case $:return _i(l.children,d,g,o);case G:_=8,d|=8;break;case M:return i=cn(12,l,o,d|2),i.elementType=M,i.lanes=g,i;case B:return i=cn(13,l,o,d),i.elementType=B,i.lanes=g,i;case W:return i=cn(19,l,o,d),i.elementType=W,i.lanes=g,i;case se:return Eu(l,d,g,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:_=10;break e;case D:_=9;break e;case F:_=11;break e;case ne:_=14;break e;case re:_=16,c=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=cn(_,l,o,d),o.elementType=i,o.type=c,o.lanes=g,o}function _i(i,o,l,c){return i=cn(7,i,c,o),i.lanes=l,i}function Eu(i,o,l,c){return i=cn(22,i,c,o),i.elementType=se,i.lanes=l,i.stateNode={isHidden:!1},i}function gd(i,o,l){return i=cn(6,i,null,o),i.lanes=l,i}function md(i,o,l){return o=cn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function CR(i,o,l,c,d){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function vd(i,o,l,c,d,g,_,T,A){return i=new CR(i,o,l,T,A),o===1?(o=1,g===!0&&(o|=8)):o=0,g=cn(3,null,null,o),i.current=g,g.stateNode=i,g.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Af(g),i}function IR(i,o,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:c==null?null:""+c,children:i,containerInfo:o,implementation:l}}function F_(i){if(!i)return Ar;i=i._reactInternals;e:{if(ai(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ft(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(Ft(l))return hy(i,l,o)}return o}function U_(i,o,l,c,d,g,_,T,A){return i=vd(l,c,!0,i,d,g,_,T,A),i.context=F_(null),l=i.current,c=Ot(),d=Fr(l),g=nr(c,d),g.callback=o??null,Or(l,g,d),i.current.lanes=d,mo(i,d,c),zt(i,c),i}function Su(i,o,l,c){var d=o.current,g=Ot(),_=Fr(d);return l=F_(l),o.context===null?o.context=l:o.pendingContext=l,o=nr(g,_),o.payload={element:i},c=c===void 0?null:c,c!==null&&(o.callback=c),i=Or(d,o,_),i!==null&&(Sn(i,d,_,g),Zl(i,d,_)),_}function Cu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function j_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function yd(i,o){j_(i,o),(i=i.alternate)&&j_(i,o)}function TR(){return null}var z_=typeof reportError=="function"?reportError:function(i){console.error(i)};function _d(i){this._internalRoot=i}Iu.prototype.render=_d.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Su(i,o,null,null)},Iu.prototype.unmount=_d.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;mi(function(){Su(null,i,null,null)}),o[Xn]=null}};function Iu(i){this._internalRoot=i}Iu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Cv();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Tr.length&&o!==0&&o<Tr[l].priority;l++);Tr.splice(l,0,i),l===0&&kv(i)}};function wd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Tu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function $_(){}function kR(i,o,l,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var V=Cu(_);g.call(V)}}var _=U_(o,c,i,0,null,!1,!1,"",$_);return i._reactRootContainer=_,i[Xn]=_.current,Ao(i.nodeType===8?i.parentNode:i),mi(),_}for(;d=i.lastChild;)i.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var V=Cu(A);T.call(V)}}var A=vd(i,0,!1,null,null,!1,!1,"",$_);return i._reactRootContainer=A,i[Xn]=A.current,Ao(i.nodeType===8?i.parentNode:i),mi(function(){Su(o,A,l,c)}),A}function ku(i,o,l,c,d){var g=l._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var T=d;d=function(){var A=Cu(_);T.call(A)}}Su(o,_,i,d)}else _=kR(l,o,i,d,c);return Cu(_)}Ev=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=go(o.pendingLanes);l!==0&&(Vh(o,l|1),zt(o,Ye()),(Ae&6)===0&&(ys=Ye()+500,xr()))}break;case 13:mi(function(){var c=tr(i,1);if(c!==null){var d=Ot();Sn(c,i,1,d)}}),yd(i,1)}},Wh=function(i){if(i.tag===13){var o=tr(i,134217728);if(o!==null){var l=Ot();Sn(o,i,134217728,l)}yd(i,134217728)}},Sv=function(i){if(i.tag===13){var o=Fr(i),l=tr(i,o);if(l!==null){var c=Ot();Sn(l,i,o,c)}yd(i,o)}},Cv=function(){return Me},Iv=function(i,o){var l=Me;try{return Me=i,o()}finally{Me=l}},Lh=function(i,o,l){switch(o){case"input":if(rn(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==i&&c.form===i.form){var d=Vl(c);if(!d)throw Error(n(90));st(c),rn(c,d)}}}break;case"textarea":Zm(i,l);break;case"select":o=l.value,o!=null&&Yn(i,!!l.multiple,o,!1)}},lv=hd,uv=mi;var RR={usingClientEntryPoint:!1,Events:[Oo,ss,Vl,ov,av,hd]},Go={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PR={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=dv(i),i===null?null:i.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||TR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Il=Ru.inject(PR),On=Ru}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR,$t.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(o))throw Error(n(200));return IR(i,o,null,l)},$t.createRoot=function(i,o){if(!wd(i))throw Error(n(299));var l=!1,c="",d=z_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(d=o.onRecoverableError)),o=vd(i,1,!1,null,null,l,!1,c,d),i[Xn]=o.current,Ao(i.nodeType===8?i.parentNode:i),new _d(o)},$t.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=dv(o),i=i===null?null:i.stateNode,i},$t.flushSync=function(i){return mi(i)},$t.hydrate=function(i,o,l){if(!Tu(o))throw Error(n(200));return ku(null,i,o,!0,l)},$t.hydrateRoot=function(i,o,l){if(!wd(i))throw Error(n(405));var c=l!=null&&l.hydratedSources||null,d=!1,g="",_=z_;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),o=U_(o,null,i,1,l??null,d,!1,g,_),i[Xn]=o.current,Ao(i),c)for(i=0;i<c.length;i++)l=c[i],d=l._getVersion,d=d(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,d]:o.mutableSourceEagerHydrationData.push(l,d);return new Iu(o)},$t.render=function(i,o,l){if(!Tu(o))throw Error(n(200));return ku(null,i,o,!1,l)},$t.unmountComponentAtNode=function(i){if(!Tu(i))throw Error(n(40));return i._reactRootContainer?(mi(function(){ku(null,null,i,!1,function(){i._reactRootContainer=null,i[Xn]=null})}),!0):!1},$t.unstable_batchedUpdates=hd,$t.unstable_renderSubtreeIntoContainer=function(i,o,l,c){if(!Tu(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ku(i,o,l,!1,c)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var Q_;function PE(){if(Q_)return Cd.exports;Q_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cd.exports=$R(),Cd.exports}var Y_;function BR(){if(Y_)return Nu;Y_=1;var t=PE();return Nu.createRoot=t.createRoot,Nu.hydrateRoot=t.hydrateRoot,Nu}var VR=BR();const WR="modulepreload",HR=function(t){return"/GameStorm/"+t},X_={},Wc=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=u(n.map(p=>{if(p=HR(p),p in X_)return;X_[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":WR,m||(y.as="script"),y.crossOrigin="",y.href=p,f&&y.setAttribute("nonce",f),document.head.appendChild(y),m)return new Promise((w,S)=>{y.addEventListener("load",w),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};PE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},va.apply(this,arguments)}var qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qr||(qr={}));const J_="popstate";function qR(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return mp("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tc(s)}return KR(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GR(){return Math.random().toString(36).substr(2,8)}function Z_(t,e){return{usr:t.state,key:t.key,idx:e}}function mp(t,e,n,r){return n===void 0&&(n=null),va({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ks(e):e,{state:n,key:e&&e.key||r||GR()})}function tc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h=qr.Pop,f=null,p=m();p==null&&(p=0,u.replaceState(va({},u.state,{idx:p}),""));function m(){return(u.state||{idx:null}).idx}function v(){h=qr.Pop;let C=m(),R=C==null?null:C-p;p=C,f&&f({action:h,location:I.location,delta:R})}function y(C,R){h=qr.Push;let j=mp(I.location,C,R);p=m()+1;let k=Z_(j,p),E=I.createHref(j);try{u.pushState(k,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(E)}a&&f&&f({action:h,location:I.location,delta:1})}function w(C,R){h=qr.Replace;let j=mp(I.location,C,R);p=m();let k=Z_(j,p),E=I.createHref(j);u.replaceState(k,"",E),a&&f&&f({action:h,location:I.location,delta:0})}function S(C){let R=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof C=="string"?C:tc(C);return j=j.replace(/ $/,"%20"),Ge(R,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,R)}let I={get action(){return h},get location(){return t(s,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(J_,v),f=C,()=>{s.removeEventListener(J_,v),f=null}},createHref(C){return e(s,C)},createURL:S,encodeLocation(C){let R=S(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:w,go(C){return u.go(C)}};return I}var ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ew||(ew={}));function QR(t,e,n){return n===void 0&&(n="/"),YR(t,e,n)}function YR(t,e,n,r){let s=typeof e=="string"?Ks(e):e,a=Ls(s.pathname||"/",n);if(a==null)return null;let u=AE(t);XR(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=lP(a);h=oP(u[f],p)}return h}function AE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Ge(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Gr([r,f.relativePath]),m=n.concat(f);a.children&&a.children.length>0&&(Ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),AE(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:iP(p,a.index),routesMeta:m})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of xE(a.path))s(a,u,f)}),e}function xE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=xE(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function XR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JR=/^:[\w-]+$/,ZR=3,eP=2,tP=1,nP=10,rP=-2,tw=t=>t==="*";function iP(t,e){let n=t.split("/"),r=n.length;return n.some(tw)&&(r+=rP),e&&(r+=eP),n.filter(s=>!tw(s)).reduce((s,a)=>s+(JR.test(a)?ZR:a===""?tP:nP),r)}function sP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function oP(t,e,n){let{routesMeta:r}=t,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=vp({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),y=f.route;if(!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Gr([a,v.pathname]),pathnameBase:fP(Gr([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=Gr([a,v.pathnameBase]))}return u}function vp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,m,v)=>{let{paramName:y,isOptional:w}=m;if(y==="*"){let I=h[v]||"";u=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const S=h[v];return w&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function aP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function lP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ks(t):t;return{pathname:n?n.startsWith("/")?n:cP(n,e):e,search:dP(r),hash:pP(s)}}function cP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dg(t,e){let n=hP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ks(t):(s=va({},t),Ge(!s.pathname||!s.pathname.includes("?"),kd("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),kd("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),kd("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}h=v>=0?e[v]:"/"}let f=uP(s,h),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),fP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bE=["post","put","patch","delete"];new Set(bE);const mP=["get",...bE];new Set(mP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ya.apply(this,arguments)}const Hc=L.createContext(null),OE=L.createContext(null),gr=L.createContext(null),qc=L.createContext(null),mr=L.createContext({outlet:null,matches:[],isDataRoute:!1}),DE=L.createContext(null);function vP(t,e){let{relative:n}=e===void 0?{}:e;Qs()||Ge(!1);let{basename:r,navigator:s}=L.useContext(gr),{hash:a,pathname:u,search:h}=Gc(t,{relative:n}),f=u;return r!=="/"&&(f=u==="/"?r:Gr([r,u])),s.createHref({pathname:f,search:h,hash:a})}function Qs(){return L.useContext(qc)!=null}function Ys(){return Qs()||Ge(!1),L.useContext(qc).location}function ME(t){L.useContext(gr).static||L.useLayoutEffect(t)}function LE(){let{isDataRoute:t}=L.useContext(mr);return t?bP():yP()}function yP(){Qs()||Ge(!1);let t=L.useContext(Hc),{basename:e,future:n,navigator:r}=L.useContext(gr),{matches:s}=L.useContext(mr),{pathname:a}=Ys(),u=JSON.stringify(dg(s,n.v7_relativeSplatPath)),h=L.useRef(!1);return ME(()=>{h.current=!0}),L.useCallback(function(p,m){if(m===void 0&&(m={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let v=pg(p,JSON.parse(u),a,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gr([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,u,a,t])}const _P=L.createContext(null);function wP(t){let e=L.useContext(mr).outlet;return e&&L.createElement(_P.Provider,{value:t},e)}function Gc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(gr),{matches:s}=L.useContext(mr),{pathname:a}=Ys(),u=JSON.stringify(dg(s,r.v7_relativeSplatPath));return L.useMemo(()=>pg(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function EP(t,e){return SP(t,e)}function SP(t,e,n,r){Qs()||Ge(!1);let{navigator:s}=L.useContext(gr),{matches:a}=L.useContext(mr),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=Ys(),m;if(e){var v;let C=typeof e=="string"?Ks(e):e;f==="/"||(v=C.pathname)!=null&&v.startsWith(f)||Ge(!1),m=C}else m=p;let y=m.pathname||"/",w=y;if(f!=="/"){let C=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=QR(t,{pathname:w}),I=RP(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Gr([f,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Gr([f,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&I?L.createElement(qc.Provider,{value:{location:ya({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:qr.Pop}},I):I}function CP(){let t=xP(),e=gP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,null)}const IP=L.createElement(CP,null);class TP extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(mr.Provider,{value:this.props.routeContext},L.createElement(DE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kP(t){let{routeContext:e,match:n,children:r}=t,s=L.useContext(Hc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(mr.Provider,{value:e},r)}function RP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(s=n)==null?void 0:s.errors;if(h!=null){let m=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);m>=0||Ge(!1),u=u.slice(0,Math.min(u.length,m+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<u.length;m++){let v=u[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:y,errors:w}=n,S=v.route.loader&&y[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||S){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,v,y)=>{let w,S=!1,I=null,C=null;n&&(w=h&&v.route.id?h[v.route.id]:void 0,I=v.route.errorElement||IP,f&&(p<0&&y===0?(OP("route-fallback"),S=!0,C=null):p===y&&(S=!0,C=v.route.hydrateFallbackElement||null)));let R=e.concat(u.slice(0,y+1)),j=()=>{let k;return w?k=I:S?k=C:v.route.Component?k=L.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=m,L.createElement(kP,{match:v,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?L.createElement(TP,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:j(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):j()},null)}var FE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FE||{}),UE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UE||{});function PP(t){let e=L.useContext(Hc);return e||Ge(!1),e}function NP(t){let e=L.useContext(OE);return e||Ge(!1),e}function AP(t){let e=L.useContext(mr);return e||Ge(!1),e}function jE(t){let e=AP(),n=e.matches[e.matches.length-1];return n.route.id||Ge(!1),n.route.id}function xP(){var t;let e=L.useContext(DE),n=NP(),r=jE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bP(){let{router:t}=PP(FE.UseNavigateStable),e=jE(UE.UseNavigateStable),n=L.useRef(!1);return ME(()=>{n.current=!0}),L.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ya({fromRouteId:e},a)))},[t,e])}const nw={};function OP(t,e,n){nw[t]||(nw[t]=!0)}function DP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zE(t){let{to:e,replace:n,state:r,relative:s}=t;Qs()||Ge(!1);let{future:a,static:u}=L.useContext(gr),{matches:h}=L.useContext(mr),{pathname:f}=Ys(),p=LE(),m=pg(e,dg(h,a.v7_relativeSplatPath),f,s==="path"),v=JSON.stringify(m);return L.useEffect(()=>p(JSON.parse(v),{replace:n,state:r,relative:s}),[p,v,s,n,r]),null}function Kc(t){return wP(t.context)}function Cn(t){Ge(!1)}function MP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=qr.Pop,navigator:a,static:u=!1,future:h}=t;Qs()&&Ge(!1);let f=e.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:f,navigator:a,static:u,future:ya({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof r=="string"&&(r=Ks(r));let{pathname:m="/",search:v="",hash:y="",state:w=null,key:S="default"}=r,I=L.useMemo(()=>{let C=Ls(m,f);return C==null?null:{location:{pathname:C,search:v,hash:y,state:w,key:S},navigationType:s}},[f,m,v,y,w,S,s]);return I==null?null:L.createElement(gr.Provider,{value:p},L.createElement(qc.Provider,{children:n,value:I}))}function LP(t){let{children:e,location:n}=t;return EP(yp(e),n)}new Promise(()=>{});function yp(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){n.push.apply(n,yp(r.props.children,a));return}r.type!==Cn&&Ge(!1),!r.props.index||!r.props.children||Ge(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=yp(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function $E(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function FP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UP(t,e){return t.button===0&&(!e||e==="_self")&&!FP(t)}const jP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zP=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$P="6";try{window.__reactRouterVersion=$P}catch{}const BP=L.createContext({isTransitioning:!1}),VP="startTransition",rw=UR[VP];function WP(t){let{basename:e,children:n,future:r,window:s}=t,a=L.useRef();a.current==null&&(a.current=qR({window:s,v5Compat:!0}));let u=a.current,[h,f]=L.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},m=L.useCallback(v=>{p&&rw?rw(()=>f(v)):f(v)},[f,p]);return L.useLayoutEffect(()=>u.listen(m),[u,m]),L.useEffect(()=>DP(r),[r]),L.createElement(MP,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}const HP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=L.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:m,viewTransition:v}=e,y=$E(e,jP),{basename:w}=L.useContext(gr),S,I=!1;if(typeof p=="string"&&qP.test(p)&&(S=p,HP))try{let k=new URL(window.location.href),E=p.startsWith("//")?new URL(k.protocol+p):new URL(p),P=Ls(E.pathname,w);E.origin===k.origin&&P!=null?p=P+E.search+E.hash:I=!0}catch{}let C=vP(p,{relative:s}),R=KP(p,{replace:u,state:h,target:f,preventScrollReset:m,relative:s,viewTransition:v});function j(k){r&&r(k),k.defaultPrevented||R(k)}return L.createElement("a",nc({},y,{href:S||C,onClick:I||a?r:j,ref:n,target:f}))}),Au=L.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:u=!1,style:h,to:f,viewTransition:p,children:m}=e,v=$E(e,zP),y=Gc(f,{relative:v.relative}),w=Ys(),S=L.useContext(OE),{navigator:I,basename:C}=L.useContext(gr),R=S!=null&&QP(y)&&p===!0,j=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,k=w.pathname,E=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(k=k.toLowerCase(),E=E?E.toLowerCase():null,j=j.toLowerCase()),E&&C&&(E=Ls(E,C)||E);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=k===j||!u&&k.startsWith(j)&&k.charAt(P)==="/",$=E!=null&&(E===j||!u&&E.startsWith(j)&&E.charAt(j.length)==="/"),G={isActive:O,isPending:$,isTransitioning:R},M=O?r:void 0,b;typeof a=="function"?b=a(G):b=[a,O?"active":null,$?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let D=typeof h=="function"?h(G):h;return L.createElement(BE,nc({},v,{"aria-current":M,className:b,ref:n,style:D,to:f,viewTransition:p}),typeof m=="function"?m(G):m)});var _p;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_p||(_p={}));var iw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iw||(iw={}));function GP(t){let e=L.useContext(Hc);return e||Ge(!1),e}function KP(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=LE(),p=Ys(),m=Gc(t,{relative:u});return L.useCallback(v=>{if(UP(v,n)){v.preventDefault();let y=r!==void 0?r:tc(p)===tc(m);f(t,{replace:y,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[p,f,m,r,s,n,t,a,u,h])}function QP(t,e){e===void 0&&(e={});let n=L.useContext(BP);n==null&&Ge(!1);let{basename:r}=GP(_p.useViewTransitionState),s=Gc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vp(s.pathname,u)!=null||vp(s.pathname,a)!=null}var sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=function(t,e){if(!t)throw Xs(e)},Xs=function(t){return new Error("Firebase Database ("+VE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},YP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},gg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,m=a>>2,v=(a&3)<<4|h>>4;let y=(h&15)<<2|p>>6,w=p&63;f||(w=64,u||(y=64)),r.push(n[m],n[v],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||v==null)throw new XP;const y=a<<2|h>>4;if(r.push(y),p!==64){const w=h<<4&240|p>>2;if(r.push(w),v!==64){const S=p<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HE=function(t){const e=WE(t);return gg.encodeByteArray(e,!0)},rc=function(t){return HE(t).replace(/\./g,"")},ic=function(t){try{return gg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){return qE(void 0,t)}function qE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ZP(n)||(t[n]=qE(t[n],e[n]));return t}function ZP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=()=>eN().__FIREBASE_DEFAULTS__,nN=()=>{if(typeof process>"u"||typeof sw>"u")return;const t=sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ic(t[1]);return e&&JSON.parse(e)},mg=()=>{try{return tN()||nN()||rN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GE=t=>{var e,n;return(n=(e=mg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KE=t=>{const e=GE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QE=()=>{var t;return(t=mg())===null||t===void 0?void 0:t.config},YE=t=>{var e;return(e=mg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rc(JSON.stringify(n)),rc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function iN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oN(){return VE.NODE_ADMIN===!0}function ZE(){try{return typeof indexedDB=="object"}catch{return!1}}function aN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="FirebaseError";class pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lN,Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gi.prototype.create)}}class Gi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?uN(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new pn(s,h,r)}}function uN(t,e){return t.replace(cN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){return JSON.parse(t)}function ht(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=function(t){let e={},n={},r={},s="";try{const a=t.split(".");e=_a(ic(a[0])||""),n=_a(ic(a[1])||""),s=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},hN=function(t){const e=eS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},fN=function(t){const e=eS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function wp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sc(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function oc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(ow(a)&&ow(u)){if(!oc(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ow(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const y=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(y<<1|y>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p,m;for(let v=0;v<80;v++){v<40?v<20?(p=h^a&(u^h),m=1518500249):(p=a^u^h,m=1859775393):v<60?(p=a&u|h&(a|u),m=2400959708):(p=a^u^h,m=3395469782);const y=(s<<5|s>>>27)+p+f+m+r[v]&4294967295;f=h,h=u,u=(a<<30|a>>>2)&4294967295,a=s,s=y}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const a=this.buf_;let u=this.inbuf_;for(;s<n;){if(u===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[u]=e.charCodeAt(s),++u,++s,u===this.blockSize){this.compress_(a),u=0;break}}else for(;s<n;)if(a[u]=e[s],++u,++s,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[s]>>a&255,++r;return e}}function pN(t,e){const n=new gN(t,e);return n.subscribe.bind(n)}class gN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rd),s.error===void 0&&(s.error=Rd),s.complete===void 0&&(s.complete=Rd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rd(){}function tS(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const a=s-55296;r++,ie(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;s=65536+(a<<10)+u}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Qc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,_N=2,wN=4*60*60*1e3,EN=.5;function SN(t,e=yN,n=_N){const r=e*Math.pow(n,t),s=Math.round(EN*r*(Math.random()-.5)*2);return Math.min(wN,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class tn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TN(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IN(t){return t===Si?void 0:t}function TN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const RN={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},PN=be.INFO,NN={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},AN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=NN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ka{constructor(e){this.name=e,this._logLevel=PN,this._logHandler=AN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const xN=(t,e)=>e.some(n=>t instanceof n);let aw,lw;function bN(){return aw||(aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ON(){return lw||(lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,Ep=new WeakMap,rS=new WeakMap,Pd=new WeakMap,_g=new WeakMap;function DN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Kr(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),_g.set(e,t),e}function MN(t){if(Ep.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Ep.set(t,e)}let Sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ep.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LN(t){Sp=t(Sp)}function FN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nd(this),e,...n);return rS.set(r,e.sort?e.sort():[e]),Kr(r)}:ON().includes(t)?function(...e){return t.apply(Nd(this),e),Kr(nS.get(this))}:function(...e){return Kr(t.apply(Nd(this),e))}}function UN(t){return typeof t=="function"?FN(t):(t instanceof IDBTransaction&&MN(t),xN(t,bN())?new Proxy(t,Sp):t)}function Kr(t){if(t instanceof IDBRequest)return DN(t);if(Pd.has(t))return Pd.get(t);const e=UN(t);return e!==t&&(Pd.set(t,e),_g.set(e,t)),e}const Nd=t=>_g.get(t);function jN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=Kr(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Kr(u.result),f.oldVersion,f.newVersion,Kr(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const zN=["get","getKey","getAll","getAllKeys","count"],$N=["put","add","delete","clear"],Ad=new Map;function uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ad.get(e))return Ad.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$N.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zN.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&f.done]))[0]};return Ad.set(e,a),a}LN(t=>({...t,get:(e,n,r)=>uw(e,n)||t.get(e,n,r),has:(e,n)=>!!uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cp="@firebase/app",cw="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Ka("@firebase/app"),WN="@firebase/app-compat",HN="@firebase/analytics-compat",qN="@firebase/analytics",GN="@firebase/app-check-compat",KN="@firebase/app-check",QN="@firebase/auth",YN="@firebase/auth-compat",XN="@firebase/database",JN="@firebase/database-compat",ZN="@firebase/functions",eA="@firebase/functions-compat",tA="@firebase/installations",nA="@firebase/installations-compat",rA="@firebase/messaging",iA="@firebase/messaging-compat",sA="@firebase/performance",oA="@firebase/performance-compat",aA="@firebase/remote-config",lA="@firebase/remote-config-compat",uA="@firebase/storage",cA="@firebase/storage-compat",hA="@firebase/firestore",fA="@firebase/firestore-compat",dA="firebase",pA="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",gA={[Cp]:"fire-core",[WN]:"fire-core-compat",[qN]:"fire-analytics",[HN]:"fire-analytics-compat",[KN]:"fire-app-check",[GN]:"fire-app-check-compat",[QN]:"fire-auth",[YN]:"fire-auth-compat",[XN]:"fire-rtdb",[JN]:"fire-rtdb-compat",[ZN]:"fire-fn",[eA]:"fire-fn-compat",[tA]:"fire-iid",[nA]:"fire-iid-compat",[rA]:"fire-fcm",[iA]:"fire-fcm-compat",[sA]:"fire-perf",[oA]:"fire-perf-compat",[aA]:"fire-rc",[lA]:"fire-rc-compat",[uA]:"fire-gcs",[cA]:"fire-gcs-compat",[hA]:"fire-fst",[fA]:"fire-fst-compat","fire-js":"fire-js",[dA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Map,Tp=new Map;function mA(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fn(t){const e=t.name;if(Tp.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,t);for(const n of wa.values())mA(n,t);return!0}function Zs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qr=new Gi("app","Firebase",vA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=pA;function wg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Qr.create("bad-app-name",{appName:String(s)});if(n||(n=QE()),!n)throw Qr.create("no-options");const a=wa.get(s);if(a){if(oc(n,a.options)&&oc(r,a.config))return a;throw Qr.create("duplicate-app",{appName:s})}const u=new kN(s);for(const f of Tp.values())u.addComponent(f);const h=new yA(n,r,u);return wa.set(s,h),h}function Eg(t=Ip){const e=wa.get(t);if(!e&&t===Ip&&QE())return wg();if(!e)throw Qr.create("no-app",{appName:t});return e}function _A(){return Array.from(wa.values())}function et(t,e,n){var r;let s=(r=gA[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(h.join(" "));return}fn(new tn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebase-heartbeat-database",EA=1,Ea="firebase-heartbeat-store";let xd=null;function iS(){return xd||(xd=jN(wA,EA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ea)}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),xd}async function SA(t){try{return await(await iS()).transaction(Ea).objectStore(Ea).get(sS(t))}catch(e){if(e instanceof pn)Mi.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function hw(t,e){try{const r=(await iS()).transaction(Ea,"readwrite");await r.objectStore(Ea).put(e,sS(t)),await r.done}catch(n){if(n instanceof pn)Mi.warn(n.message);else{const r=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function sS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=1024,IA=30*24*60*60*1e3;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=IA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fw(),{heartbeatsToSend:n,unsentEntries:r}=kA(this._heartbeatsCache.heartbeats),s=rc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function fw(){return new Date().toISOString().substring(0,10)}function kA(t,e=CA){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),dw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZE()?aN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await SA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dw(t){return rc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){fn(new tn("platform-logger",e=>new BN(e),"PRIVATE")),fn(new tn("heartbeat",e=>new TA(e),"PRIVATE")),et(Cp,cw,t),et(Cp,cw,"esm2017"),et("fire-js","")}PA("");function Sg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NA=oS,aS=new Gi("auth","Firebase",oS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Ka("@firebase/auth");function AA(t,...e){ac.logLevel<=be.WARN&&ac.warn(`Auth (${yr}): ${t}`,...e)}function Ku(t,...e){ac.logLevel<=be.ERROR&&ac.error(`Auth (${yr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw Cg(t,...e)}function $n(t,...e){return Cg(t,...e)}function lS(t,e,n){const r=Object.assign(Object.assign({},NA()),{[e]:n});return new Gi("auth","Firebase",r).create(e,{appName:t.name})}function xA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),lS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aS.create(t,...e)}function Se(t,e,...n){if(!t)throw Cg(e,...n)}function ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ku(e),new Error(e)}function fr(t,e){t||ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bA(){return pw()==="http:"||pw()==="https:"}function pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||iN()||"connection"in navigator)?navigator.onLine:!0}function DA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=yg()||JE()}get(){return OA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new Qa(3e4,6e4);function cS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ya(t,e,n,r,s={}){return hS(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Js(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),uS.fetch()(fS(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},a))})}async function hS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MA),e);try{const s=new UA(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw xu(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw xu(t,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw lS(t,m,p);Vn(t,m)}}catch(s){if(s instanceof pn)throw s;Vn(t,"network-request-failed",{message:String(s)})}}async function FA(t,e,n,r,s={}){const a=await Ya(t,e,n,r,s);return"mfaPendingCredential"in a&&Vn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function fS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ig(t.config,s):`${t.config.apiScheme}://${s}`}class UA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),LA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$n(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(t,e){return Ya(t,"POST","/v1/accounts:delete",e)}async function zA(t,e){return Ya(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),s=Tg(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:aa(bd(s.auth_time)),issuedAtTime:aa(bd(s.iat)),expirationTime:aa(bd(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bd(t){return Number(t)*1e3}function Tg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{const s=ic(n);return s?JSON.parse(s):(Ku("Failed to decode base64 JWT payload"),null)}catch(s){return Ku("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function BA(t){const e=Tg(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pn&&VA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=aa(this.lastLoginAt),this.creationTime=aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Sa(t,zA(n,{idToken:r}));Se(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?GA(a.providerUserInfo):[],h=qA(t.providerData,u),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),m=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new dS(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function HA(t){const e=Gn(t);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qA(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function GA(t){return t.map(e=>{var{providerId:n}=e,r=Sg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e){const n=await hS(t,{},async()=>{const r=Js({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=fS(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",uS.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await KA(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new Ca;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dS(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Sa(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $A(this,e)}reload(){return HA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Sa(this,jA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,h,f,p,m;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,w=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,I=(h=n.tenantId)!==null&&h!==void 0?h:void 0,C=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,R=(p=n.createdAt)!==null&&p!==void 0?p:void 0,j=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:k,emailVerified:E,isAnonymous:P,providerData:O,stsTokenManager:$}=n;Se(k&&$,e,"internal-error");const G=Ca.fromJSON(this.name,$);Se(typeof k=="string",e,"internal-error"),$r(v,e.name),$r(y,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof P=="boolean",e,"internal-error"),$r(w,e.name),$r(S,e.name),$r(I,e.name),$r(C,e.name),$r(R,e.name),$r(j,e.name);const M=new bi({uid:k,auth:e,email:y,emailVerified:E,displayName:v,isAnonymous:P,photoURL:S,phoneNumber:w,tenantId:I,stsTokenManager:G,createdAt:R,lastLoginAt:j});return O&&Array.isArray(O)&&(M.providerData=O.map(b=>Object.assign({},b))),C&&(M._redirectEventId=C),M}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ca;s.updateFromServerResponse(n);const a=new bi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lc(a),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;function lr(t){fr(t instanceof Function,"Expected a class definition");let e=gw.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pS.type="NONE";const mw=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e,n){return`firebase:${t}:${e}:${n}`}class ks{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Qu(this.userKey,s.apiKey,a),this.fullPersistenceKey=Qu("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ks(lr(mw),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||lr(mw);const u=Qu(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const m=await p._get(u);if(m){const v=bi._fromJSON(e,m);p!==a&&(h=v),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ks(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ks(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_S(e))return"Blackberry";if(wS(e))return"Webos";if(kg(e))return"Safari";if((e.includes("chrome/")||mS(e))&&!e.includes("edge/"))return"Chrome";if(yS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gS(t=xt()){return/firefox\//i.test(t)}function kg(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mS(t=xt()){return/crios\//i.test(t)}function vS(t=xt()){return/iemobile/i.test(t)}function yS(t=xt()){return/android/i.test(t)}function _S(t=xt()){return/blackberry/i.test(t)}function wS(t=xt()){return/webos/i.test(t)}function Yc(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QA(t=xt()){var e;return Yc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YA(){return sN()&&document.documentMode===10}function ES(t=xt()){return Yc(t)||yS(t)||wS(t)||_S(t)||/windows phone/i.test(t)||vS(t)}function XA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e=[]){let n;switch(t){case"Browser":n=vw(xt());break;case"Worker":n=`${vw(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yr}/${r}`}async function CS(t,e){return Ya(t,"GET","/v2/recaptchaConfig",cS(t,e))}function yw(t){return t!==void 0&&t.enterprise!==void 0}class IS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function TS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=$n("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",JA().appendChild(r)})}function ZA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ex="https://www.google.com/recaptcha/enterprise.js?render=",tx="recaptcha-enterprise",nx="NO_RECAPTCHA";class rx{constructor(e){this.type=tx,this.auth=Xa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{CS(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new IS(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;yw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(nx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&yw(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}TS(ex+h).then(()=>{s(h,a,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _w(this),this.idTokenSubscription=new _w(this),this.beforeStateQueue=new ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ks.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Gn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}async initializeRecaptchaConfig(){const e=await CS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new IS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new rx(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ks.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),u=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(u,this,"internal-error"),u.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xa(t){return Gn(t)}class _w{constructor(e){this.auth=e,this.observer=null,this.addObserver=pN(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){const n=Zs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(oc(a,e??{}))return s;Vn(s,"already-initialized")}return n.initialize({options:e})}function ax(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lx(t,e,n){const r=Xa(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=kS(e),{host:u,port:h}=ux(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),cx()}function kS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ux(t){const e=kS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:ww(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:ww(u)}}}function ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e){return FA(t,"POST","/v1/accounts:signInWithIdp",cS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="http://localhost";class Li extends RS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Sg(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Li(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}buildRequest(){const e={requestUri:hx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Js(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ja{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ja{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ja{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await bi._fromIdTokenResponse(e,r,s),u=Ew(r);return new Us({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ew(r);return new Us({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ew(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends pn{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new uc(e,n,r,s)}}function PS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(t,a,e,r):a})}async function fx(t,e,n=!1){const r=await Sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const a=await Sa(t,PS(r,s,e,t),n);Se(a.idToken,r,"internal-error");const u=Tg(a.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(t.uid===h,r,"user-mismatch"),Us._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e,n=!1){const r="signIn",s=await PS(t,r,e),a=await Us._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}function NS(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function gx(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){const t=xt();return kg(t)||Yc(t)}const vx=1e3,yx=10;class xS extends AS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=mx()&&XA(),this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);YA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yx):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xS.type="LOCAL";const _x=xS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends AS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bS.type="SESSION";const OS=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(n.origin,a)),f=await wx(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=Pg("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(y.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function Sx(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function Cx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ix(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Tx(){return DS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firebaseLocalStorageDb",kx=1,hc="firebaseLocalStorage",LS="fbase_key";class Za{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jc(t,e){return t.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function Rx(){const t=indexedDB.deleteDatabase(MS);return new Za(t).toPromise()}function Rp(){const t=indexedDB.open(MS,kx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hc,{keyPath:LS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hc)?e(r):(r.close(),await Rx(),e(await Rp()))})})}async function Sw(t,e,n){const r=Jc(t,!0).put({[LS]:e,value:n});return new Za(r).toPromise()}async function Px(t,e){const n=Jc(t,!1).get(e),r=await new Za(n).toPromise();return r===void 0?null:r.value}function Cw(t,e){const n=Jc(t,!0).delete(e);return new Za(n).toPromise()}const Nx=800,Ax=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ax)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(Tx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Cx(),!this.activeServiceWorker)return;this.sender=new Ex(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ix()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await Sw(e,cc,"1"),await Cw(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Px(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Jc(s,!1).getAll();return new Za(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const xx=FS;new Qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e){return e?lr(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends RS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bx(t){return px(t.auth,new Ng(t),t.bypassAuthState)}function Ox(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),dx(n,new Ng(t),t.bypassAuthState)}async function Dx(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),fx(n,new Ng(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bx;case"linkViaPopup":case"linkViaRedirect":return Dx;case"reauthViaPopup":case"reauthViaRedirect":return Ox;default:Vn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Qa(2e3,1e4);async function Z3(t,e,n){const r=Xa(t);xA(t,e,Rg);const s=US(r,n);return new Ri(r,"signInViaPopup",e,s).executeNotNull()}class Ri extends jS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ri.currentPopupAction&&Ri.currentPopupAction.cancel(),Ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mx.get())};e()}}Ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="pendingRedirect",Yu=new Map;class Fx extends jS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const r=await Ux(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ux(t,e){const n=$x(e),r=zx(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jx(t,e){Yu.set(t._key(),e)}function zx(t){return lr(t._redirectPersistence)}function $x(t){return Qu(Lx,t.config.apiKey,t.name)}async function Bx(t,e,n=!1){const r=Xa(t),s=US(r,e),u=await new Fx(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=10*60*1e3;class Wx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iw(e))}saveEventToCache(e){this.cachedEventUids.add(Iw(e)),this.lastProcessedEventTime=Date.now()}}function Iw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e={}){return Ya(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kx=/^https?/;async function Qx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qx(t);for(const n of e)try{if(Yx(n))return}catch{}Vn(t,"unauthorized-domain")}function Yx(t){const e=kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!Kx.test(n))return!1;if(Gx.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Qa(3e4,6e4);function Tw(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jx(t){return new Promise((e,n)=>{var r,s,a;function u(){Tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tw(),n($n(t,"network-request-failed"))},timeout:Xx.get()})}if(!((s=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Bn().gapi)===null||a===void 0)&&a.load)u();else{const h=ZA("iframefcb");return Bn()[h]=()=>{gapi.load?u():n($n(t,"network-request-failed"))},TS(`https://apis.google.com/js/api.js?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Xu=null,e})}let Xu=null;function Zx(t){return Xu=Xu||Jx(t),Xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Qa(5e3,15e3),tb="__/auth/iframe",nb="emulator/auth/iframe",rb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ib=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sb(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ig(e,nb):`https://${t.config.authDomain}/${tb}`,r={apiKey:e.apiKey,appName:t.name,v:yr},s=ib.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Js(r).slice(1)}`}async function ob(t){const e=await Zx(t),n=Bn().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:sb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=$n(t,"network-request-failed"),h=Bn().setTimeout(()=>{a(u)},eb.get());function f(){Bn().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lb=500,ub=600,cb="_blank",hb="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fb(t,e,n,r=lb,s=ub){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},ab),{width:r.toString(),height:s.toString(),top:a,left:u}),p=xt().toLowerCase();n&&(h=mS(p)?cb:n),gS(p)&&(e=e||hb,f.scrollbars="yes");const m=Object.entries(f).reduce((y,[w,S])=>`${y}${w}=${S},`,"");if(QA(p)&&h!=="_self")return db(e||"",h),new kw(null);const v=window.open(e||"",h,m);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new kw(v)}function db(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__/auth/handler",gb="emulator/auth/handler",mb=encodeURIComponent("fac");async function Rw(t,e,n,r,s,a){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yr,eventId:s};if(e instanceof Rg){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",wp(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))u[m]=v}if(e instanceof Ja){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const m of Object.keys(h))h[m]===void 0&&delete h[m];const f=await t._getAppCheckToken(),p=f?`#${mb}=${encodeURIComponent(f)}`:"";return`${vb(t)}?${Js(h).slice(1)}${p}`}function vb({config:t}){return t.emulator?Ig(t,gb):`https://${t.authDomain}/${pb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class yb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OS,this._completeRedirectFn=Bx,this._overrideRedirectResult=jx}async _openPopup(e,n,r,s){var a;fr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Rw(e,n,r,kp(),s);return fb(e,u,Pg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Rw(e,n,r,kp(),s);return Sx(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(fr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ob(e),r=new Wx(e);return n.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Od,{type:Od},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Od];u!==void 0&&n(!!u),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Qx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ES()||kg()||Yc()}}const _b=yb;var Pw="@firebase/auth",Nw="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Sb(t){fn(new tn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(t)},p=new sx(r,s,a,f);return ax(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fn(new tn("auth-internal",e=>{const n=Xa(e.getProvider("auth").getImmediate());return(r=>new wb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(Pw,Nw,Eb(t)),et(Pw,Nw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=5*60,Ib=YE("authIdTokenMaxAge")||Cb;let Aw=null;const Tb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ib)return;const s=n==null?void 0:n.token;Aw!==s&&(Aw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kb(t=Eg()){const e=Zs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ox(t,{popupRedirectResolver:_b,persistence:[xx,_x,OS]}),r=YE("authTokenSyncURL");if(r){const a=Tb(r);gx(n,a,()=>a(n.currentUser)),NS(n,u=>a(u))}const s=GE("auth");return s&&lx(n,`http://${s}`),n}Sb("Browser");var xw={};const bw="@firebase/database",Ow="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $S="";function Rb(t){$S=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_a(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Pb(e)}}catch{}return new Nb},Pi=BS("localStorage"),Ab=BS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Ka("@firebase/database"),xb=function(){let t=1;return function(){return t++}}(),VS=function(t){const e=vN(t),n=new dN;n.update(e);const r=n.digest();return gg.encodeByteArray(r)},el=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=el.apply(null,r):typeof r=="object"?e+=ht(r):e+=r,e+=" "}return e};let la=null,Dw=!0;const bb=function(t,e){ie(!0,"Can't turn on custom loggers persistently."),Ps.logLevel=be.VERBOSE,la=Ps.log.bind(Ps)},Tt=function(...t){if(Dw===!0&&(Dw=!1,la===null&&Ab.get("logging_enabled")===!0&&bb()),la){const e=el.apply(null,t);la(e)}},tl=function(t){return function(...e){Tt(t,...e)}},Pp=function(...t){const e="FIREBASE INTERNAL ERROR: "+el(...t);Ps.error(e)},Fi=function(...t){const e=`FIREBASE FATAL ERROR: ${el(...t)}`;throw Ps.error(e),new Error(e)},en=function(...t){const e="FIREBASE WARNING: "+el(...t);Ps.warn(e)},Ob=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&en("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},WS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Db=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},js="[MIN_NAME]",Ui="[MAX_NAME]",eo=function(t,e){if(t===e)return 0;if(t===js||e===Ui)return-1;if(e===js||t===Ui)return 1;{const n=Mw(t),r=Mw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Mb=function(t,e){return t===e?0:t<e?-1:1},Qo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ht(e))},Ag=function(t){if(typeof t!="object"||t===null)return ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ht(e[r]),n+=":",n+=Ag(t[e[r]]);return n+="}",n},HS=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const qS=function(t){ie(!WS(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,a,u,h,f;t===0?(a=0,u=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=h+r,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(a=0,u=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(f=n;f;f-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(s?1:0),p.reverse();const m=p.join("");let v="";for(f=0;f<64;f+=8){let y=parseInt(m.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},Lb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Fb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ub(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const jb=new RegExp("^-?(0*)\\d{1,10}$"),zb=-2147483648,$b=2147483647,Mw=function(t){if(jb.test(t)){const e=Number(t);if(e>=zb&&e<=$b)return e}return null},nl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw en("Exception was thrown by user callback.",n),e},Math.floor(0))}},Bb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ua=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){en(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',en(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="5",GS="v",KS="s",QS="r",YS="f",XS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JS="ls",ZS="p",Np="ac",eC="websocket",tC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,s,a=!1,u="",h=!1,f=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function qb(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function nC(t,e,n){ie(typeof e=="string","typeof type must == string"),ie(typeof n=="object","typeof params must == object");let r;if(e===eC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===tC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qb(t)&&(n.ns=t.namespace);const s=[];return Ht(n,(a,u)=>{s.push(a+"="+u)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.counters_={}}incrementCounter(e,n=1){vr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return JP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd={},Md={};function bg(t){const e=t.toString();return Dd[e]||(Dd[e]=new Gb),Dd[e]}function Kb(t,e){const n=t.toString();return Md[n]||(Md[n]=e()),Md[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&nl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="start",Yb="close",Xb="pLPCommand",Jb="pRTLPCB",rC="id",iC="pw",sC="ser",Zb="cb",eO="seg",tO="ts",nO="d",rO="dframe",oC=1870,aC=30,iO=oC-aC,sO=25e3,oO=3e4;class Cs{constructor(e,n,r,s,a,u,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tl(e),this.stats_=bg(n),this.urlFn=f=>(this.appCheckToken&&(f[Np]=this.appCheckToken),nC(n,tC,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Qb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oO)),Db(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Og((...a)=>{const[u,h,f,p,m]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Lw)this.id=h,this.password=f;else if(u===Yb)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...a)=>{const[u,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[Lw]="t",r[sC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Zb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[GS]=xg,this.transportSessionId&&(r[KS]=this.transportSessionId),this.lastSessionId&&(r[JS]=this.lastSessionId),this.applicationId&&(r[ZS]=this.applicationId),this.appCheckToken&&(r[Np]=this.appCheckToken),typeof location<"u"&&location.hostname&&XS.test(location.hostname)&&(r[QS]=YS);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cs.forceAllow_=!0}static forceDisallow(){Cs.forceDisallow_=!0}static isAvailable(){return Cs.forceAllow_?!0:!Cs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Lb()&&!Fb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=HE(n),s=HS(r,iO);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[rO]="t",r[rC]=e,r[iC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Og{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xb(),window[Xb+this.uniqueCallbackIdentifier]=e,window[Jb+this.uniqueCallbackIdentifier]=n,this.myIFrame=Og.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Tt("frame writing exception"),h.stack&&Tt(h.stack),Tt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Tt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rC]=this.myID,e[iC]=this.myPW,e[sC]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+aC+r.length<=oC;){const u=this.pendingSegs.shift();r=r+"&"+eO+s+"="+u.seg+"&"+tO+s+"="+u.ts+"&"+nO+s+"="+u.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(sO)),a=()=>{clearTimeout(s),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Tt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=16384,lO=45e3;let fc=null;typeof MozWebSocket<"u"?fc=MozWebSocket:typeof WebSocket<"u"&&(fc=WebSocket);class Tn{constructor(e,n,r,s,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tl(this.connId),this.stats_=bg(n),this.connURL=Tn.connectionURL_(n,u,h,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,a){const u={};return u[GS]=xg,typeof location<"u"&&location.hostname&&XS.test(location.hostname)&&(u[QS]=YS),n&&(u[KS]=n),r&&(u[JS]=r),s&&(u[Np]=s),a&&(u[ZS]=a),nC(e,eC,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pi.set("previous_websocket_failure",!0);try{let r;oN(),this.mySock=new fc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&fc!==null&&!Tn.forceDisallow_}static previouslyFailed(){return Pi.isInMemoryStorage||Pi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=_a(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ie(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=HS(n,aO);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tn.responsesRequiredToBeHealthy=2;Tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Cs,Tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Tn&&Tn.isAvailable();let r=n&&!Tn.previouslyFailed();if(e.webSocketOnly&&(n||en("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tn];else{const s=this.transports_=[];for(const a of Ia.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Ia.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ia.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=6e4,cO=5e3,hO=10*1024,fO=100*1024,Ld="t",Fw="d",dO="s",Uw="r",pO="e",jw="o",zw="a",$w="n",Bw="p",gO="h";class mO{constructor(e,n,r,s,a,u,h,f,p,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tl("c:"+this.id+":"),this.transportManager_=new Ia(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ua(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ld in e){const n=e[Ld];n===zw?this.upgradeIfSecondaryHealthy_():n===Uw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qo("t",e),r=Qo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$w,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qo("t",e),r=Qo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qo(Ld,e);if(Fw in e){const r=e[Fw];if(n===gO){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===$w){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dO?this.onConnectionShutdown_(r):n===Uw?this.onReset_(r):n===pO?Pp("Server Error: "+r):n===jw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xg!==r&&en("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ua(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ua(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.allowedEvents_=e,this.listeners_={},ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!r||r===s[a].context)){s.splice(a,1);return}}validateEventType_(e){ie(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends uC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new dc}getInitialEvent(e){return ie(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=32,Ww=768;class Fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function De(){return new Fe("")}function ke(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Jr(t){return t.pieces_.length-t.pieceNum_}function je(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Fe(t.pieces_,e)}function cC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Fe(e,0)}function rt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Fe(n,0)}function Re(t){return t.pieceNum_>=t.pieces_.length}function Vt(t,e){const n=ke(t),r=ke(e);if(n===null)return e;if(n===r)return Vt(je(t),je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dg(t,e){if(Jr(t)!==Jr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function kn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Jr(t)>Jr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class yO{constructor(e,n){this.errorPrefix_=n,this.parts_=hC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qc(this.parts_[r]);dC(this)}}function _O(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qc(e),dC(t)}function wO(t){const e=t.parts_.pop();t.byteLength_-=Qc(e),t.parts_.length>0&&(t.byteLength_-=1)}function dC(t){if(t.byteLength_>Ww)throw new Error(t.errorPrefix_+"has a key path longer than "+Ww+" bytes ("+t.byteLength_+").");if(t.parts_.length>Vw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vw+") or object contains a cycle "+Ci(t))}function Ci(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends uC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Mg}getInitialEvent(e){return ie(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=1e3,EO=60*5*1e3,Hw=30*1e3,SO=1.3,CO=3e4,IO="server_kill",qw=3;class hr extends lC{constructor(e,n,r,s,a,u,h,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=hr.nextPersistentConnectionId_++,this.log_=tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yo,this.maxReconnectDelay_=EO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&dc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(ht(a)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new vg,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,s){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r},u="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(u,a,h=>{const f=h.d,p=h.s;hr.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vr(e,"w")){const r=Fs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();en(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const a=s.s,u=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},u="n";s&&(a.q=r,a.t=s),this.sendRequest(u,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,a){this.initConnection_();const u={p:n,d:r};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ht(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pp("Unrecognized action received from server: "+ht(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CO&&(this.reconnectDelay_=Yo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+hr.nextConnectionId_++,a=this.lastSessionId;let u=!1,h=null;const f=function(){h?h.close():(u=!0,r())},p=function(v){ie(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:f,sendRequest:p};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);u?Tt("getToken() completed but was canceled"):(Tt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,h=new mO(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{en(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(IO)},a))}catch(v){this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&en(v),f())}}}interrupt(e){Tt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wp(this.interruptReasons_)&&(this.reconnectDelay_=Yo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>Ag(a)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Fe(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Tt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qw&&(this.reconnectDelay_=Hw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Tt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$S.replace(/\./g,"-")]=1,yg()?e["framework.cordova"]=1:JE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=dc.getInstance().currentlyOnline();return wp(this.interruptReasons_)&&e}}hr.nextPersistentConnectionId_=0;hr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ie(js,e),s=new Ie(js,n);return this.compare(r,s)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;class pC extends Zc{static get __EMPTY_NODE(){return bu}static set __EMPTY_NODE(e){bu=e}compare(e,n){return eo(e.name,n.name)}isDefinedOn(e){throw Xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(Ui,bu)}makePost(e,n){return ie(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,bu)}toString(){return".key"}}const Ns=new pC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?r(e.key,n):1,s&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??Wt.EMPTY_NODE,this.right=a??Wt.EMPTY_NODE}copy(e,n,r,s,a){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Wt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class TO{copy(e,n,r,s,a){return this}insert(e,n,r){return new ct(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Wt{constructor(e,n=Wt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Wt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(e){return new Wt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ou(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ou(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ou(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ou(this.root_,null,this.comparator_,!0,e)}}Wt.EMPTY_NODE=new TO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e){return eo(t.name,e.name)}function Lg(t,e){return eo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap;function RO(t){Ap=t}const gC=function(t){return typeof t=="number"?"number:"+qS(t):"string:"+t},mC=function(t){if(t.isLeafNode()){const e=t.val();ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vr(e,".sv"),"Priority must be a string or number.")}else ie(t===Ap||t.isEmpty(),"priority of unexpected type.");ie(t===Ap||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gw;class ut{constructor(e,n=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mC(this.priorityNode_)}static set __childrenNodeConstructor(e){Gw=e}static get __childrenNodeConstructor(){return Gw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Re(e)?this:ke(e)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ke(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ie(r!==".priority"||Jr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=qS(this.value_):e+=this.value_,this.lazyHash_=VS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ut.__childrenNodeConstructor?-1:(ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=ut.VALUE_TYPE_ORDER.indexOf(n),a=ut.VALUE_TYPE_ORDER.indexOf(r);return ie(s>=0,"Unknown leaf type: "+n),ie(a>=0,"Unknown leaf type: "+r),s===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vC,yC;function PO(t){vC=t}function NO(t){yC=t}class AO extends Zc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),a=r.compareTo(s);return a===0?eo(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(Ui,new ut("[PRIORITY-POST]",yC))}makePost(e,n){const r=vC(e);return new Ie(n,new ut("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qe=new AO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=Math.log(2);class bO{constructor(e){const n=a=>parseInt(Math.log(a)/xO,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pc=function(t,e,n,r){t.sort(e);const s=function(f,p){const m=p-f;let v,y;if(m===0)return null;if(m===1)return v=t[f],y=n?n(v):v,new ct(y,v.node,ct.BLACK,null,null);{const w=parseInt(m/2,10)+f,S=s(f,w),I=s(w+1,p);return v=t[w],y=n?n(v):v,new ct(y,v.node,ct.BLACK,S,I)}},a=function(f){let p=null,m=null,v=t.length;const y=function(S,I){const C=v-S,R=v;v-=S;const j=s(C+1,R),k=t[C],E=n?n(k):k;w(new ct(E,k.node,I,null,j))},w=function(S){p?(p.left=S,p=S):(m=S,p=S)};for(let S=0;S<f.count;++S){const I=f.nextBitIsOne(),C=Math.pow(2,f.count-(S+1));I?y(C,ct.BLACK):(y(C,ct.BLACK),y(C,ct.RED))}return m},u=new bO(t.length),h=a(u);return new Wt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;const ws={};class ur{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ie(ws&&Qe,"ChildrenNode.ts has not been loaded"),Fd=Fd||new ur({".priority":ws},{".priority":Qe}),Fd}get(e){const n=Fs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Wt?n:null}hasIndex(e){return vr(this.indexSet_,e.toString())}addIndex(e,n){ie(e!==Ns,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const a=n.getIterator(Ie.Wrap);let u=a.getNext();for(;u;)s=s||e.isDefinedOn(u.node),r.push(u),u=a.getNext();let h;s?h=pc(r,e.getCompare()):h=ws;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const m=Object.assign({},this.indexes_);return m[f]=h,new ur(m,p)}addToIndexes(e,n){const r=sc(this.indexes_,(s,a)=>{const u=Fs(this.indexSet_,a);if(ie(u,"Missing index implementation for "+a),s===ws)if(u.isDefinedOn(e.node)){const h=[],f=n.getIterator(Ie.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&h.push(p),p=f.getNext();return h.push(e),pc(h,u.getCompare())}else return ws;else{const h=n.get(e.name);let f=s;return h&&(f=f.remove(new Ie(e.name,h))),f.insert(e,e.node)}});return new ur(r,this.indexSet_)}removeFromIndexes(e,n){const r=sc(this.indexes_,s=>{if(s===ws)return s;{const a=n.get(e.name);return a?s.remove(new Ie(e.name,a)):s}});return new ur(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo;class ye{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mC(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xo||(Xo=new ye(new Wt(Lg),null,ur.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xo}updatePriority(e){return this.children_.isEmpty()?this:new ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Xo:n}}getChild(e){const n=ke(e);return n===null?this:this.getImmediateChild(n).getChild(je(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ie(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ie(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?Xo:this.priorityNode_;return new ye(s,u,a)}}updateChild(e,n){const r=ke(e);if(r===null)return n;{ie(ke(e)!==".priority"||Jr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(je(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,a=!0;if(this.forEachChild(Qe,(u,h)=>{n[u]=h.val(e),r++,a&&ye.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):a=!1}),!e&&a&&s<2*r){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+gC(this.getPriority().val())+":"),this.forEachChild(Qe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":VS(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new Ie(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ie.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rl?-1:0}withIndex(e){if(e===Ns||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ns||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qe),s=n.getIterator(Qe);let a=r.getNext(),u=s.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=s.getNext()}return a===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Ns?null:this.indexMap_.get(e.toString())}}ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class OO extends ye{constructor(){super(new Wt(Lg),ye.EMPTY_NODE,ur.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ye.EMPTY_NODE}isEmpty(){return!1}}const rl=new OO;Object.defineProperties(Ie,{MIN:{value:new Ie(js,ye.EMPTY_NODE)},MAX:{value:new Ie(Ui,rl)}});pC.__EMPTY_NODE=ye.EMPTY_NODE;ut.__childrenNodeConstructor=ye;RO(rl);NO(rl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=!0;function kt(t,e=null){if(t===null)return ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ut(n,kt(e))}if(!(t instanceof Array)&&DO){const n=[];let r=!1;if(Ht(t,(u,h)=>{if(u.substring(0,1)!=="."){const f=kt(h);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new Ie(u,f)))}}),n.length===0)return ye.EMPTY_NODE;const a=pc(n,kO,u=>u.name,Lg);if(r){const u=pc(n,Qe.getCompare());return new ye(a,kt(e),new ur({".priority":u},{".priority":Qe}))}else return new ye(a,kt(e),ur.Default)}else{let n=ye.EMPTY_NODE;return Ht(t,(r,s)=>{if(vr(t,r)&&r.substring(0,1)!=="."){const a=kt(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(kt(e))}}PO(kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO extends Zc{constructor(e){super(),this.indexPath_=e,ie(!Re(e)&&ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),a=r.compareTo(s);return a===0?eo(e.name,n.name):a}makePost(e,n){const r=kt(e),s=ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,s)}maxPost(){const e=ye.EMPTY_NODE.updateChild(this.indexPath_,rl);return new Ie(Ui,e)}toString(){return hC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO extends Zc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?eo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const r=kt(e);return new Ie(n,r)}toString(){return".value"}}const FO=new LO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return{type:"value",snapshotNode:t}}function zs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ta(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ka(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function UO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.index_=e}updateChild(e,n,r,s,a,u){ie(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(s).equals(r.getChild(s))&&h.isEmpty()===r.isEmpty()||(u!=null&&(r.isEmpty()?e.hasChild(n)?u.trackChildChange(Ta(n,h)):ie(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(zs(n,r)):u.trackChildChange(ka(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Qe,(s,a)=>{n.hasChild(s)||r.trackChildChange(Ta(s,a))}),n.isLeafNode()||n.forEachChild(Qe,(s,a)=>{if(e.hasChild(s)){const u=e.getImmediateChild(s);u.equals(a)||r.trackChildChange(ka(s,a,u))}else r.trackChildChange(zs(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ye.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.indexedFilter_=new Fg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ra.getStartPost_(e),this.endPost_=Ra.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,a,u){return this.matches(new Ie(n,r))||(r=ye.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,a,u)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ye.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(ye.EMPTY_NODE);const a=this;return n.forEachChild(Qe,(u,h)=>{a.matches(new Ie(u,h))||(s=s.updateImmediateChild(u,ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ra(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,a,u){return this.rangedFilter_.matches(new Ie(n,r))||(r=ye.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,a,u):this.fullLimitUpdateChild_(e,n,r,a,u)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=ye.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=ye.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))s=s.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(ye.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let u=0;for(;a.hasNext();){const h=a.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:s=s.updateImmediateChild(h.name,ye.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,a){let u;if(this.reverse_){const v=this.index_.getCompare();u=(y,w)=>v(w,y)}else u=this.index_.getCompare();const h=e;ie(h.numChildren()===this.limit_,"");const f=new Ie(n,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(f);if(h.hasChild(n)){const v=h.getImmediateChild(n);let y=s.getChildAfterChild(this.index_,p,this.reverse_);for(;y!=null&&(y.name===n||h.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const w=y==null?1:u(y,f);if(m&&!r.isEmpty()&&w>=0)return a!=null&&a.trackChildChange(ka(n,r,v)),h.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(Ta(n,v));const I=h.updateImmediateChild(n,ye.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(a!=null&&a.trackChildChange(zs(y.name,y.node)),I.updateImmediateChild(y.name,y.node)):I}}else return r.isEmpty()?e:m&&u(p,f)>=0?(a!=null&&(a.trackChildChange(Ta(p.name,p.node)),a.trackChildChange(zs(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(p.name,ye.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:js}hasEnd(){return this.endSet_}getIndexEndValue(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ui}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const e=new Ug;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zO(t){return t.loadsAllData()?new Fg(t.getIndex()):t.hasLimit()?new jO(t):new Ra(t)}function Kw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qe?n="$priority":t.index_===FO?n="$value":t.index_===Ns?n="$key":(ie(t.index_ instanceof MO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ht(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ht(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ht(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ht(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ht(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Qw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends lC{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=tl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ie(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=gc.getListenId_(e,r),h={};this.listens_[u]=h;const f=Kw(e._queryParams);this.restRequest_(a+".json",f,(p,m)=>{let v=m;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(a,v,!1,r),Fs(this.listens_,u)===h){let y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",s(y,null)}})}unlisten(e,n){const r=gc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Kw(e._queryParams),r=e._path.toString(),s=new vg;return this.restRequest_(r+".json",n,(a,u)=>{let h=u;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(r,h,!1,null),s.resolve(h)):s.reject(new Error(h))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Js(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=_a(h.responseText)}catch{en("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,f)}else h.status!==401&&h.status!==404&&en("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.rootNode_=ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){return{value:null,children:new Map}}function wC(t,e,n){if(Re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ke(e);t.children.has(r)||t.children.set(r,mc());const s=t.children.get(r);e=je(e),wC(s,e,n)}}function xp(t,e,n){t.value!==null?n(e,t.value):BO(t,(r,s)=>{const a=new Fe(e.toString()+"/"+r);xp(s,a,n)})}function BO(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ht(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=10*1e3,WO=30*1e3,HO=5*60*1e3;class qO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new VO(e);const r=Yw+(WO-Yw)*Math.random();ua(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ht(e,(s,a)=>{a>0&&vr(this.statsToReport_,s)&&(n[s]=a,r=!0)}),r&&this.server_.reportStats(n),ua(this.reportStats_.bind(this),Math.floor(Math.random()*2*HO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rn||(Rn={}));function EC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=EC()}operationForChild(e){if(Re(this.path)){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Fe(e));return new vc(De(),n,this.revert)}}else return ie(ke(this.path)===e,"operationForChild called for unrelated child."),new vc(je(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.source=e,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return Re(this.path)?new Pa(this.source,De()):new Pa(this.source,je(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(e){return Re(this.path)?new ji(this.source,De(),this.snap.getImmediateChild(e)):new ji(this.source,je(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(e){if(Re(this.path)){const n=this.children.subtree(new Fe(e));return n.isEmpty()?null:n.value?new ji(this.source,De(),n.value):new Na(this.source,De(),n)}else return ie(ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Na(this.source,je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ke(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function KO(t,e,n,r){const s=[],a=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(UO(u.childName,u.snapshotNode))}),Jo(t,s,"child_removed",e,r,n),Jo(t,s,"child_added",e,r,n),Jo(t,s,"child_moved",a,r,n),Jo(t,s,"child_changed",e,r,n),Jo(t,s,"value",e,r,n),s}function Jo(t,e,n,r,s,a){const u=r.filter(h=>h.type===n);u.sort((h,f)=>YO(t,h,f)),u.forEach(h=>{const f=QO(t,h,a);s.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(f,t.query_))})})}function QO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function YO(t,e,n){if(e.childName==null||n.childName==null)throw Xs("Should only compare child_ events.");const r=new Ie(e.childName,e.snapshotNode),s=new Ie(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e){return{eventCache:t,serverCache:e}}function ca(t,e,n,r){return eh(new zi(e,n,r),t.serverCache)}function SC(t,e,n,r){return eh(t.eventCache,new zi(e,n,r))}function bp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $i(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud;const XO=()=>(Ud||(Ud=new Wt(Mb)),Ud);class Be{constructor(e,n=XO()){this.value=e,this.children=n}static fromObject(e){let n=new Be(null);return Ht(e,(r,s)=>{n=n.set(new Fe(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:De(),value:this.value};if(Re(e))return null;{const r=ke(e),s=this.children.get(r);if(s!==null){const a=s.findRootMostMatchingPathAndValue(je(e),n);return a!=null?{path:rt(new Fe(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Re(e))return this;{const n=ke(e),r=this.children.get(n);return r!==null?r.subtree(je(e)):new Be(null)}}set(e,n){if(Re(e))return new Be(n,this.children);{const r=ke(e),a=(this.children.get(r)||new Be(null)).set(je(e),n),u=this.children.insert(r,a);return new Be(this.value,u)}}remove(e){if(Re(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const n=ke(e),r=this.children.get(n);if(r){const s=r.remove(je(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new Be(null):new Be(this.value,a)}else return this}}get(e){if(Re(e))return this.value;{const n=ke(e),r=this.children.get(n);return r?r.get(je(e)):null}}setTree(e,n){if(Re(e))return n;{const r=ke(e),a=(this.children.get(r)||new Be(null)).setTree(je(e),n);let u;return a.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,a),new Be(this.value,u)}}fold(e){return this.fold_(De(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,a)=>{r[s]=a.fold_(rt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,De(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Re(e))return null;{const a=ke(e),u=this.children.get(a);return u?u.findOnPath_(je(e),rt(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,De(),n)}foreachOnPath_(e,n,r){if(Re(e))return this;{this.value&&r(n,this.value);const s=ke(e),a=this.children.get(s);return a?a.foreachOnPath_(je(e),rt(n,s),r):new Be(null)}}foreach(e){this.foreach_(De(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(rt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.writeTree_=e}static empty(){return new Nn(new Be(null))}}function ha(t,e,n){if(Re(e))return new Nn(new Be(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let a=r.value;const u=Vt(s,e);return a=a.updateChild(u,n),new Nn(t.writeTree_.set(s,a))}else{const s=new Be(n),a=t.writeTree_.setTree(e,s);return new Nn(a)}}}function Xw(t,e,n){let r=t;return Ht(n,(s,a)=>{r=ha(r,rt(e,s),a)}),r}function Jw(t,e){if(Re(e))return Nn.empty();{const n=t.writeTree_.setTree(e,new Be(null));return new Nn(n)}}function Op(t,e){return Ki(t,e)!=null}function Ki(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vt(n.path,e)):null}function Zw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qe,(r,s)=>{e.push(new Ie(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ie(r,s.value))}),e}function Yr(t,e){if(Re(e))return t;{const n=Ki(t,e);return n!=null?new Nn(new Be(n)):new Nn(t.writeTree_.subtree(e))}}function Dp(t){return t.writeTree_.isEmpty()}function $s(t,e){return CC(De(),t.writeTree_,e)}function CC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(ie(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=CC(rt(t,s),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(rt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){return RC(e,t)}function JO(t,e,n,r,s){ie(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ha(t.visibleWrites,e,n)),t.lastWriteId=r}function ZO(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function eD(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);ie(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,a=!1,u=t.allWrites.length-1;for(;s&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&tD(h,r.path)?s=!1:kn(r.path,h.path)&&(a=!0)),u--}if(s){if(a)return nD(t),!0;if(r.snap)t.visibleWrites=Jw(t.visibleWrites,r.path);else{const h=r.children;Ht(h,f=>{t.visibleWrites=Jw(t.visibleWrites,rt(r.path,f))})}return!0}else return!1}function tD(t,e){if(t.snap)return kn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&kn(rt(t.path,n),e))return!0;return!1}function nD(t){t.visibleWrites=IC(t.allWrites,rD,De()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rD(t){return t.visible}function IC(t,e,n){let r=Nn.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const u=a.path;let h;if(a.snap)kn(n,u)?(h=Vt(n,u),r=ha(r,h,a.snap)):kn(u,n)&&(h=Vt(u,n),r=ha(r,De(),a.snap.getChild(h)));else if(a.children){if(kn(n,u))h=Vt(n,u),r=Xw(r,h,a.children);else if(kn(u,n))if(h=Vt(u,n),Re(h))r=Xw(r,De(),a.children);else{const f=Fs(a.children,ke(h));if(f){const p=f.getChild(je(h));r=ha(r,De(),p)}}}else throw Xs("WriteRecord should have .snap or .children")}}return r}function TC(t,e,n,r,s){if(!r&&!s){const a=Ki(t.visibleWrites,e);if(a!=null)return a;{const u=Yr(t.visibleWrites,e);if(Dp(u))return n;if(n==null&&!Op(u,De()))return null;{const h=n||ye.EMPTY_NODE;return $s(u,h)}}}else{const a=Yr(t.visibleWrites,e);if(!s&&Dp(a))return n;if(!s&&n==null&&!Op(a,De()))return null;{const u=function(p){return(p.visible||s)&&(!r||!~r.indexOf(p.writeId))&&(kn(p.path,e)||kn(e,p.path))},h=IC(t.allWrites,u,e),f=n||ye.EMPTY_NODE;return $s(h,f)}}}function iD(t,e,n){let r=ye.EMPTY_NODE;const s=Ki(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Qe,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(n){const a=Yr(t.visibleWrites,e);return n.forEachChild(Qe,(u,h)=>{const f=$s(Yr(a,new Fe(u)),h);r=r.updateImmediateChild(u,f)}),Zw(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const a=Yr(t.visibleWrites,e);return Zw(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function sD(t,e,n,r,s){ie(r||s,"Either existingEventSnap or existingServerSnap must exist");const a=rt(e,n);if(Op(t.visibleWrites,a))return null;{const u=Yr(t.visibleWrites,a);return Dp(u)?s.getChild(n):$s(u,s.getChild(n))}}function oD(t,e,n,r){const s=rt(e,n),a=Ki(t.visibleWrites,s);if(a!=null)return a;if(r.isCompleteForChild(n)){const u=Yr(t.visibleWrites,s);return $s(u,r.getNode().getImmediateChild(n))}else return null}function aD(t,e){return Ki(t.visibleWrites,e)}function lD(t,e,n,r,s,a,u){let h;const f=Yr(t.visibleWrites,e),p=Ki(f,De());if(p!=null)h=p;else if(n!=null)h=$s(f,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const m=[],v=u.getCompare(),y=a?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let w=y.getNext();for(;w&&m.length<s;)v(w,r)!==0&&m.push(w),w=y.getNext();return m}else return[]}function uD(){return{visibleWrites:Nn.empty(),allWrites:[],lastWriteId:-1}}function yc(t,e,n,r){return TC(t.writeTree,t.treePath,e,n,r)}function Bg(t,e){return iD(t.writeTree,t.treePath,e)}function e0(t,e,n,r){return sD(t.writeTree,t.treePath,e,n,r)}function _c(t,e){return aD(t.writeTree,rt(t.treePath,e))}function cD(t,e,n,r,s,a){return lD(t.writeTree,t.treePath,e,n,r,s,a)}function Vg(t,e,n){return oD(t.writeTree,t.treePath,e,n)}function kC(t,e){return RC(rt(t.treePath,e),t.writeTree)}function RC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ie(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,ka(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Ta(r,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,zs(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,ka(r,e.snapshotNode,s.oldSnap));else throw Xs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const PC=new fD;class Wg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new zi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$i(this.viewCache_),a=cD(this.writes_,s,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){return{filter:t}}function pD(t,e){ie(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ie(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function gD(t,e,n,r,s){const a=new hD;let u,h;if(n.type===Rn.OVERWRITE){const p=n;p.source.fromUser?u=Mp(t,e,p.path,p.snap,r,s,a):(ie(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Re(p.path),u=wc(t,e,p.path,p.snap,r,s,h,a))}else if(n.type===Rn.MERGE){const p=n;p.source.fromUser?u=vD(t,e,p.path,p.children,r,s,a):(ie(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=Lp(t,e,p.path,p.children,r,s,h,a))}else if(n.type===Rn.ACK_USER_WRITE){const p=n;p.revert?u=wD(t,e,p.path,r,s,a):u=yD(t,e,p.path,p.affectedTree,r,s,a)}else if(n.type===Rn.LISTEN_COMPLETE)u=_D(t,e,n.path,r,a);else throw Xs("Unknown operation type: "+n.type);const f=a.getChanges();return mD(e,u,f),{viewCache:u,changes:f}}function mD(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=bp(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(_C(bp(e)))}}function NC(t,e,n,r,s,a){const u=e.eventCache;if(_c(r,n)!=null)return e;{let h,f;if(Re(n))if(ie(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=$i(e),m=p instanceof ye?p:ye.EMPTY_NODE,v=Bg(r,m);h=t.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const p=yc(r,$i(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=ke(n);if(p===".priority"){ie(Jr(n)===1,"Can't have a priority with additional path components");const m=u.getNode();f=e.serverCache.getNode();const v=e0(r,n,m,f);v!=null?h=t.filter.updatePriority(m,v):h=u.getNode()}else{const m=je(n);let v;if(u.isCompleteForChild(p)){f=e.serverCache.getNode();const y=e0(r,n,u.getNode(),f);y!=null?v=u.getNode().getImmediateChild(p).updateChild(m,y):v=u.getNode().getImmediateChild(p)}else v=Vg(r,p,e.serverCache);v!=null?h=t.filter.updateChild(u.getNode(),p,v,m,s,a):h=u.getNode()}}return ca(e,h,u.isFullyInitialized()||Re(n),t.filter.filtersNodes())}}function wc(t,e,n,r,s,a,u,h){const f=e.serverCache;let p;const m=u?t.filter:t.filter.getIndexedFilter();if(Re(n))p=m.updateFullNode(f.getNode(),r,null);else if(m.filtersNodes()&&!f.isFiltered()){const w=f.getNode().updateChild(n,r);p=m.updateFullNode(f.getNode(),w,null)}else{const w=ke(n);if(!f.isCompleteForPath(n)&&Jr(n)>1)return e;const S=je(n),C=f.getNode().getImmediateChild(w).updateChild(S,r);w===".priority"?p=m.updatePriority(f.getNode(),C):p=m.updateChild(f.getNode(),w,C,S,PC,null)}const v=SC(e,p,f.isFullyInitialized()||Re(n),m.filtersNodes()),y=new Wg(s,v,a);return NC(t,v,n,s,y,h)}function Mp(t,e,n,r,s,a,u){const h=e.eventCache;let f,p;const m=new Wg(s,e,a);if(Re(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),f=ca(e,p,!0,t.filter.filtersNodes());else{const v=ke(n);if(v===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),f=ca(e,p,h.isFullyInitialized(),h.isFiltered());else{const y=je(n),w=h.getNode().getImmediateChild(v);let S;if(Re(y))S=r;else{const I=m.getCompleteChild(v);I!=null?cC(y)===".priority"&&I.getChild(fC(y)).isEmpty()?S=I:S=I.updateChild(y,r):S=ye.EMPTY_NODE}if(w.equals(S))f=e;else{const I=t.filter.updateChild(h.getNode(),v,S,y,m,u);f=ca(e,I,h.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function t0(t,e){return t.eventCache.isCompleteForChild(e)}function vD(t,e,n,r,s,a,u){let h=e;return r.foreach((f,p)=>{const m=rt(n,f);t0(e,ke(m))&&(h=Mp(t,h,m,p,s,a,u))}),r.foreach((f,p)=>{const m=rt(n,f);t0(e,ke(m))||(h=Mp(t,h,m,p,s,a,u))}),h}function n0(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Lp(t,e,n,r,s,a,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;Re(n)?p=r:p=new Be(null).setTree(n,r);const m=e.serverCache.getNode();return p.children.inorderTraversal((v,y)=>{if(m.hasChild(v)){const w=e.serverCache.getNode().getImmediateChild(v),S=n0(t,w,y);f=wc(t,f,new Fe(v),S,s,a,u,h)}}),p.children.inorderTraversal((v,y)=>{const w=!e.serverCache.isCompleteForChild(v)&&y.value===null;if(!m.hasChild(v)&&!w){const S=e.serverCache.getNode().getImmediateChild(v),I=n0(t,S,y);f=wc(t,f,new Fe(v),I,s,a,u,h)}}),f}function yD(t,e,n,r,s,a,u){if(_c(s,n)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(Re(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return wc(t,e,n,f.getNode().getChild(n),s,a,h,u);if(Re(n)){let p=new Be(null);return f.getNode().forEachChild(Ns,(m,v)=>{p=p.set(new Fe(m),v)}),Lp(t,e,n,p,s,a,h,u)}else return e}else{let p=new Be(null);return r.foreach((m,v)=>{const y=rt(n,m);f.isCompleteForPath(y)&&(p=p.set(m,f.getNode().getChild(y)))}),Lp(t,e,n,p,s,a,h,u)}}function _D(t,e,n,r,s){const a=e.serverCache,u=SC(e,a.getNode(),a.isFullyInitialized()||Re(n),a.isFiltered());return NC(t,u,n,r,PC,s)}function wD(t,e,n,r,s,a){let u;if(_c(r,n)!=null)return e;{const h=new Wg(r,e,s),f=e.eventCache.getNode();let p;if(Re(n)||ke(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=yc(r,$i(e));else{const v=e.serverCache.getNode();ie(v instanceof ye,"serverChildren would be complete if leaf node"),m=Bg(r,v)}m=m,p=t.filter.updateFullNode(f,m,a)}else{const m=ke(n);let v=Vg(r,m,e.serverCache);v==null&&e.serverCache.isCompleteForChild(m)&&(v=f.getImmediateChild(m)),v!=null?p=t.filter.updateChild(f,m,v,je(n),h,a):e.eventCache.getNode().hasChild(m)?p=t.filter.updateChild(f,m,ye.EMPTY_NODE,je(n),h,a):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=yc(r,$i(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,a)))}return u=e.serverCache.isFullyInitialized()||_c(r,De())!=null,ca(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Fg(r.getIndex()),a=zO(r);this.processor_=dD(a);const u=n.serverCache,h=n.eventCache,f=s.updateFullNode(ye.EMPTY_NODE,u.getNode(),null),p=a.updateFullNode(ye.EMPTY_NODE,h.getNode(),null),m=new zi(f,u.isFullyInitialized(),s.filtersNodes()),v=new zi(p,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=eh(v,m),this.eventGenerator_=new GO(this.query_)}get query(){return this.query_}}function SD(t){return t.viewCache_.serverCache.getNode()}function CD(t,e){const n=$i(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Re(e)&&!n.getImmediateChild(ke(e)).isEmpty())?n.getChild(e):null}function r0(t){return t.eventRegistrations_.length===0}function ID(t,e){t.eventRegistrations_.push(e)}function i0(t,e,n){const r=[];if(n){ie(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(n,s);u&&r.push(u)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const u=t.eventRegistrations_[a];if(!u.matches(e))s.push(u);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function s0(t,e,n,r){e.type===Rn.MERGE&&e.source.queryId!==null&&(ie($i(t.viewCache_),"We should always have a full cache before handling merges"),ie(bp(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=gD(t.processor_,s,e,n,r);return pD(t.processor_,a.viewCache),ie(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,AC(t,a.changes,a.viewCache.eventCache.getNode(),null)}function TD(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qe,(a,u)=>{r.push(zs(a,u))}),n.isFullyInitialized()&&r.push(_C(n.getNode())),AC(t,r,n.getNode(),e)}function AC(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return KO(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;class kD{constructor(){this.views=new Map}}function RD(t){ie(!Ec,"__referenceConstructor has already been defined"),Ec=t}function PD(){return ie(Ec,"Reference.ts has not been loaded"),Ec}function ND(t){return t.views.size===0}function Hg(t,e,n,r){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return ie(a!=null,"SyncTree gave us an op for an invalid query."),s0(a,e,n,r)}else{let a=[];for(const u of t.views.values())a=a.concat(s0(u,e,n,r));return a}}function AD(t,e,n,r,s){const a=e._queryIdentifier,u=t.views.get(a);if(!u){let h=yc(n,s?r:null),f=!1;h?f=!0:r instanceof ye?(h=Bg(n,r),f=!1):(h=ye.EMPTY_NODE,f=!1);const p=eh(new zi(h,f,!1),new zi(r,s,!1));return new ED(e,p)}return u}function xD(t,e,n,r,s,a){const u=AD(t,e,r,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),ID(u,n),TD(u,n)}function bD(t,e,n,r){const s=e._queryIdentifier,a=[];let u=[];const h=Zr(t);if(s==="default")for(const[f,p]of t.views.entries())u=u.concat(i0(p,n,r)),r0(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||a.push(p.query));else{const f=t.views.get(s);f&&(u=u.concat(i0(f,n,r)),r0(f)&&(t.views.delete(s),f.query._queryParams.loadsAllData()||a.push(f.query)))}return h&&!Zr(t)&&a.push(new(PD())(e._repo,e._path)),{removed:a,events:u}}function xC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function As(t,e){let n=null;for(const r of t.views.values())n=n||CD(r,e);return n}function bC(t,e){if(e._queryParams.loadsAllData())return th(t);{const r=e._queryIdentifier;return t.views.get(r)}}function OC(t,e){return bC(t,e)!=null}function Zr(t){return th(t)!=null}function th(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc;function OD(t){ie(!Sc,"__referenceConstructor has already been defined"),Sc=t}function DD(){return ie(Sc,"Reference.ts has not been loaded"),Sc}let MD=1;class o0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=uD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LD(t,e,n,r,s){return JO(t.pendingWriteTree_,e,n,r,s),s?il(t,new ji(EC(),e,n)):[]}function Is(t,e,n=!1){const r=ZO(t.pendingWriteTree_,e);if(eD(t.pendingWriteTree_,e)){let a=new Be(null);return r.snap!=null?a=a.set(De(),!0):Ht(r.children,u=>{a=a.set(new Fe(u),!0)}),il(t,new vc(r.path,a,n))}else return[]}function nh(t,e,n){return il(t,new ji(jg(),e,n))}function FD(t,e,n){const r=Be.fromObject(n);return il(t,new Na(jg(),e,r))}function UD(t,e){return il(t,new Pa(jg(),e))}function jD(t,e,n){const r=qg(t,n);if(r){const s=Gg(r),a=s.path,u=s.queryId,h=Vt(a,e),f=new Pa(zg(u),h);return Kg(t,a,f)}else return[]}function Fp(t,e,n,r,s=!1){const a=e._path,u=t.syncPointTree_.get(a);let h=[];if(u&&(e._queryIdentifier==="default"||OC(u,e))){const f=bD(u,e,n,r);ND(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const p=f.removed;if(h=f.events,!s){const m=p.findIndex(y=>y._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(a,(y,w)=>Zr(w));if(m&&!v){const y=t.syncPointTree_.subtree(a);if(!y.isEmpty()){const w=BD(y);for(let S=0;S<w.length;++S){const I=w[S],C=I.query,R=FC(t,I);t.listenProvider_.startListening(fa(C),Cc(t,C),R.hashFn,R.onComplete)}}}!v&&p.length>0&&!r&&(m?t.listenProvider_.stopListening(fa(e),null):p.forEach(y=>{const w=t.queryToTagMap.get(rh(y));t.listenProvider_.stopListening(fa(y),w)}))}VD(t,p)}return h}function zD(t,e,n,r){const s=qg(t,r);if(s!=null){const a=Gg(s),u=a.path,h=a.queryId,f=Vt(u,e),p=new ji(zg(h),f,n);return Kg(t,u,p)}else return[]}function $D(t,e,n,r){const s=qg(t,r);if(s){const a=Gg(s),u=a.path,h=a.queryId,f=Vt(u,e),p=Be.fromObject(n),m=new Na(zg(h),f,p);return Kg(t,u,m)}else return[]}function a0(t,e,n,r=!1){const s=e._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(s,(y,w)=>{const S=Vt(y,s);a=a||As(w,S),u=u||Zr(w)});let h=t.syncPointTree_.get(s);h?(u=u||Zr(h),a=a||As(h,De())):(h=new kD,t.syncPointTree_=t.syncPointTree_.set(s,h));let f;a!=null?f=!0:(f=!1,a=ye.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((w,S)=>{const I=As(S,De());I&&(a=a.updateImmediateChild(w,I))}));const p=OC(h,e);if(!p&&!e._queryParams.loadsAllData()){const y=rh(e);ie(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=WD();t.queryToTagMap.set(y,w),t.tagToQueryMap.set(w,y)}const m=$g(t.pendingWriteTree_,s);let v=xD(h,e,n,m,a,f);if(!p&&!u&&!r){const y=bC(h,e);v=v.concat(HD(t,e,y))}return v}function DC(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,h)=>{const f=Vt(u,e),p=As(h,f);if(p)return p});return TC(s,e,a,n,!0)}function il(t,e){return MC(e,t.syncPointTree_,null,$g(t.pendingWriteTree_,De()))}function MC(t,e,n,r){if(Re(t.path))return LC(t,e,n,r);{const s=e.get(De());n==null&&s!=null&&(n=As(s,De()));let a=[];const u=ke(t.path),h=t.operationForChild(u),f=e.children.get(u);if(f&&h){const p=n?n.getImmediateChild(u):null,m=kC(r,u);a=a.concat(MC(h,f,p,m))}return s&&(a=a.concat(Hg(s,t,r,n))),a}}function LC(t,e,n,r){const s=e.get(De());n==null&&s!=null&&(n=As(s,De()));let a=[];return e.children.inorderTraversal((u,h)=>{const f=n?n.getImmediateChild(u):null,p=kC(r,u),m=t.operationForChild(u);m&&(a=a.concat(LC(m,h,f,p)))}),s&&(a=a.concat(Hg(s,t,r,n))),a}function FC(t,e){const n=e.query,r=Cc(t,n);return{hashFn:()=>(SD(e)||ye.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?jD(t,n._path,r):UD(t,n._path);{const a=Ub(s,n);return Fp(t,n,null,a)}}}}function Cc(t,e){const n=rh(e);return t.queryToTagMap.get(n)}function rh(t){return t._path.toString()+"$"+t._queryIdentifier}function qg(t,e){return t.tagToQueryMap.get(e)}function Gg(t){const e=t.indexOf("$");return ie(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Fe(t.substr(0,e))}}function Kg(t,e,n){const r=t.syncPointTree_.get(e);ie(r,"Missing sync point for query tag that we're tracking");const s=$g(t.pendingWriteTree_,e);return Hg(r,n,s,null)}function BD(t){return t.fold((e,n,r)=>{if(n&&Zr(n))return[th(n)];{let s=[];return n&&(s=xC(n)),Ht(r,(a,u)=>{s=s.concat(u)}),s}})}function fa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(DD())(t._repo,t._path):t}function VD(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=rh(r),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function WD(){return MD++}function HD(t,e,n){const r=e._path,s=Cc(t,e),a=FC(t,n),u=t.listenProvider_.startListening(fa(e),s,a.hashFn,a.onComplete),h=t.syncPointTree_.subtree(r);if(s)ie(!Zr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((p,m,v)=>{if(!Re(p)&&m&&Zr(m))return[th(m).query];{let y=[];return m&&(y=y.concat(xC(m).map(w=>w.query))),Ht(v,(w,S)=>{y=y.concat(S)}),y}});for(let p=0;p<f.length;++p){const m=f[p];t.listenProvider_.stopListening(fa(m),Cc(t,m))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qg(n)}node(){return this.node_}}class Yg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rt(this.path_,e);return new Yg(this.syncTree_,n)}node(){return DC(this.syncTree_,this.path_)}}const qD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},l0=function(t,e,n){if(!t||typeof t!="object")return t;if(ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return KD(t[".sv"],e);ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ie(!1,"Unexpected server value: "+t)}},KD=function(t,e,n){t.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ie(!1,"Unexpected increment value: "+r);const s=e.node();if(ie(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const u=s.getValue();return typeof u!="number"?r:u+r},QD=function(t,e,n,r){return Xg(e,new Yg(n,t),r)},YD=function(t,e,n){return Xg(t,new Qg(e),n)};function Xg(t,e,n){const r=t.getPriority().val(),s=l0(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,h=l0(u.getValue(),e,n);return h!==u.getValue()||s!==u.getPriority().val()?new ut(h,kt(s)):t}else{const u=t;return a=u,s!==u.getPriority().val()&&(a=a.updatePriority(new ut(s))),u.forEachChild(Qe,(h,f)=>{const p=Xg(f,e.getImmediateChild(h),n);p!==f&&(a=a.updateImmediateChild(h,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Zg(t,e){let n=e instanceof Fe?e:new Fe(e),r=t,s=ke(n);for(;s!==null;){const a=Fs(r.node.children,s)||{children:{},childCount:0};r=new Jg(s,r,a),n=je(n),s=ke(n)}return r}function to(t){return t.node.value}function UC(t,e){t.node.value=e,Up(t)}function jC(t){return t.node.childCount>0}function XD(t){return to(t)===void 0&&!jC(t)}function ih(t,e){Ht(t.node.children,(n,r)=>{e(new Jg(n,t,r))})}function zC(t,e,n,r){n&&e(t),ih(t,s=>{zC(s,e,!0)})}function JD(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sl(t){return new Fe(t.parent===null?t.name:sl(t.parent)+"/"+t.name)}function Up(t){t.parent!==null&&ZD(t.parent,t.name,t)}function ZD(t,e,n){const r=XD(n),s=vr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Up(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Up(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/[\[\].#$\/\u0000-\u001F\u007F]/,tM=/[\[\].#$\u0000-\u001F\u007F]/,jd=10*1024*1024,$C=function(t){return typeof t=="string"&&t.length!==0&&!eM.test(t)},BC=function(t){return typeof t=="string"&&t.length!==0&&!tM.test(t)},nM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),BC(t)},VC=function(t,e,n){const r=n instanceof Fe?new yO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ci(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ci(r)+" with contents = "+e.toString());if(WS(e))throw new Error(t+"contains "+e.toString()+" "+Ci(r));if(typeof e=="string"&&e.length>jd/3&&Qc(e)>jd)throw new Error(t+"contains a string greater than "+jd+" utf8 bytes "+Ci(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(Ht(e,(u,h)=>{if(u===".value")s=!0;else if(u!==".priority"&&u!==".sv"&&(a=!0,!$C(u)))throw new Error(t+" contains an invalid key ("+u+") "+Ci(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_O(r,u),VC(t,h,r),wO(r)}),s&&a)throw new Error(t+' contains ".value" child '+Ci(r)+" in addition to actual children.")}},WC=function(t,e,n,r){if(!BC(n))throw new Error(tS(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rM=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WC(t,e,n)},iM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$C(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!nM(n))throw new Error(tS(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HC(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],a=s.getPath();n!==null&&!Dg(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function qC(t,e,n){HC(t,n),GC(t,r=>Dg(r,e))}function Qi(t,e,n){HC(t,n),GC(t,r=>kn(r,e)||kn(e,r))}function GC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const a=s.path;e(a)?(oM(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function oM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();la&&Tt("event: "+n.toString()),nl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="repo_interrupt",lM=25;class uM{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mc(),this.transactionQueueTree_=new Jg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cM(t,e,n){if(t.stats_=bg(t.repoInfo_),t.forceRestClient_||Bb())t.server_=new gc(t.repoInfo_,(r,s,a,u)=>{u0(t,r,s,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>c0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new hr(t.repoInfo_,e,(r,s,a,u)=>{u0(t,r,s,a,u)},r=>{c0(t,r)},r=>{fM(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Kb(t.repoInfo_,()=>new qO(t.stats_,t.server_)),t.infoData_=new $O,t.infoSyncTree_=new o0({startListening:(r,s,a,u)=>{let h=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(h=nh(t.infoSyncTree_,r._path,f),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),em(t,"connected",!1),t.serverSyncTree_=new o0({startListening:(r,s,a,u)=>(t.server_.listen(r,a,s,(h,f)=>{const p=u(h,f);Qi(t.eventQueue_,r._path,p)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function hM(t){const n=t.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function KC(t){return qD({timestamp:hM(t)})}function u0(t,e,n,r,s){t.dataUpdateCount++;const a=new Fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(s)if(r){const f=sc(n,p=>kt(p));u=$D(t.serverSyncTree_,a,f,s)}else{const f=kt(n);u=zD(t.serverSyncTree_,a,f,s)}else if(r){const f=sc(n,p=>kt(p));u=FD(t.serverSyncTree_,a,f)}else{const f=kt(n);u=nh(t.serverSyncTree_,a,f)}let h=a;u.length>0&&(h=nm(t,a)),Qi(t.eventQueue_,h,u)}function c0(t,e){em(t,"connected",e),e===!1&&pM(t)}function fM(t,e){Ht(e,(n,r)=>{em(t,n,r)})}function em(t,e,n){const r=new Fe("/.info/"+e),s=kt(n);t.infoData_.updateSnapshot(r,s);const a=nh(t.infoSyncTree_,r,s);Qi(t.eventQueue_,r,a)}function dM(t){return t.nextWriteId_++}function pM(t){QC(t,"onDisconnectEvents");const e=KC(t),n=mc();xp(t.onDisconnect_,De(),(s,a)=>{const u=QD(s,a,t.serverSyncTree_,e);wC(n,s,u)});let r=[];xp(n,De(),(s,a)=>{r=r.concat(nh(t.serverSyncTree_,s,a));const u=_M(t,s);nm(t,u)}),t.onDisconnect_=mc(),Qi(t.eventQueue_,De(),r)}function gM(t,e,n){let r;ke(e._path)===".info"?r=a0(t.infoSyncTree_,e,n):r=a0(t.serverSyncTree_,e,n),qC(t.eventQueue_,e._path,r)}function h0(t,e,n){let r;ke(e._path)===".info"?r=Fp(t.infoSyncTree_,e,n):r=Fp(t.serverSyncTree_,e,n),qC(t.eventQueue_,e._path,r)}function mM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aM)}function QC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Tt(n,...e)}function YC(t,e,n){return DC(t.serverSyncTree_,e,n)||ye.EMPTY_NODE}function tm(t,e=t.transactionQueueTree_){if(e||sh(t,e),to(e)){const n=JC(t,e);ie(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&vM(t,sl(e),n)}else jC(e)&&ih(e,n=>{tm(t,n)})}function vM(t,e,n){const r=n.map(p=>p.currentWriteId),s=YC(t,e,r);let a=s;const u=s.hash();for(let p=0;p<n.length;p++){const m=n[p];ie(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=Vt(e,m.path);a=a.updateChild(v,m.currentOutputSnapshotRaw)}const h=a.val(!0),f=e;t.server_.put(f.toString(),h,p=>{QC(t,"transaction put response",{path:f.toString(),status:p});let m=[];if(p==="ok"){const v=[];for(let y=0;y<n.length;y++)n[y].status=2,m=m.concat(Is(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&v.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();sh(t,Zg(t.transactionQueueTree_,e)),tm(t,t.transactionQueueTree_),Qi(t.eventQueue_,e,m);for(let y=0;y<v.length;y++)nl(v[y])}else{if(p==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{en("transaction at "+f.toString()+" failed: "+p);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=p}nm(t,e)}},u)}function nm(t,e){const n=XC(t,e),r=sl(n),s=JC(t,n);return yM(t,s,r),r}function yM(t,e,n){if(e.length===0)return;const r=[];let s=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],p=Vt(n,f.path);let m=!1,v;if(ie(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,v=f.abortReason,s=s.concat(Is(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=lM)m=!0,v="maxretry",s=s.concat(Is(t.serverSyncTree_,f.currentWriteId,!0));else{const y=YC(t,f.path,u);f.currentInputSnapshot=y;const w=e[h].update(y.val());if(w!==void 0){VC("transaction failed: Data returned ",w,f.path);let S=kt(w);typeof w=="object"&&w!=null&&vr(w,".priority")||(S=S.updatePriority(y.getPriority()));const C=f.currentWriteId,R=KC(t),j=YD(S,y,R);f.currentOutputSnapshotRaw=S,f.currentOutputSnapshotResolved=j,f.currentWriteId=dM(t),u.splice(u.indexOf(C),1),s=s.concat(LD(t.serverSyncTree_,f.path,j,f.currentWriteId,f.applyLocally)),s=s.concat(Is(t.serverSyncTree_,C,!0))}else m=!0,v="nodata",s=s.concat(Is(t.serverSyncTree_,f.currentWriteId,!0))}Qi(t.eventQueue_,n,s),s=[],m&&(e[h].status=2,function(y){setTimeout(y,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(v),!1,null))))}sh(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)nl(r[h]);tm(t,t.transactionQueueTree_)}function XC(t,e){let n,r=t.transactionQueueTree_;for(n=ke(e);n!==null&&to(r)===void 0;)r=Zg(r,n),e=je(e),n=ke(e);return r}function JC(t,e){const n=[];return ZC(t,e,n),n.sort((r,s)=>r.order-s.order),n}function ZC(t,e,n){const r=to(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);ih(e,s=>{ZC(t,s,n)})}function sh(t,e){const n=to(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,UC(e,n.length>0?n:void 0)}ih(e,r=>{sh(t,r)})}function _M(t,e){const n=sl(XC(t,e)),r=Zg(t.transactionQueueTree_,e);return JD(r,s=>{zd(t,s)}),zd(t,r),zC(r,s=>{zd(t,s)}),n}function zd(t,e){const n=to(e);if(n){const r=[];let s=[],a=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(ie(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):(ie(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),s=s.concat(Is(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&r.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));a===-1?UC(e,void 0):n.length=a+1,Qi(t.eventQueue_,sl(e),s);for(let u=0;u<r.length;u++)nl(r[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function EM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):en(`Invalid query segment '${n}' in query '${t}'`)}return e}const f0=function(t,e){const n=SM(t),r=n.namespace;n.domain==="firebase.com"&&Fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ob();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Hb(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Fe(n.pathString)}},SM=function(t){let e="",n="",r="",s="",a="",u=!0,h="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let m=t.indexOf("/");m===-1&&(m=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(m,v)),m<v&&(s=wM(t.substring(m,v)));const y=EM(t.substring(Math.min(t.length,v)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),a=r}"ns"in y&&(a=y.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:u,scheme:h,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ht(this.snapshot.exportVal())}}class tI{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ie(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Re(this._path)?null:cC(this._path)}get ref(){return new _r(this._repo,this._path)}get _queryIdentifier(){const e=Qw(this._queryParams),n=Ag(e);return n==="{}"?"default":n}get _queryObject(){return Qw(this._queryParams)}isEqual(e){if(e=Gn(e),!(e instanceof rm))return!1;const n=this._repo===e._repo,r=Dg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+vO(this._path)}}class _r extends rm{constructor(e,n){super(e,n,new Ug,!1)}get parent(){const e=fC(this._path);return e===null?null:new _r(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Aa{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Fe(e),r=jp(this.ref,e);return new Aa(this._node.getChild(n),r,Qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Aa(s,jp(this.ref,r),Qe)))}hasChild(e){const n=new Fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jp(t,e){return t=Gn(t),ke(t._path)===null?rM("child","path",e):WC("child","path",e),new _r(t._repo,rt(t._path,e))}class im{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new eI("value",this,new Aa(e.snapshotNode,new _r(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tI(this,e,n):null}matches(e){return e instanceof im?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class sm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tI(this,e,n):null}createEvent(e,n){ie(e.childName!=null,"Child events should have a childName.");const r=jp(new _r(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new eI(e.type,this,new Aa(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof sm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ol(t,e,n,r,s){let a;if(typeof r=="object"&&(a=void 0,s=r),typeof r=="function"&&(a=r),s&&s.onlyOnce){const f=n,p=(m,v)=>{h0(t._repo,t,h),f(m,v)};p.userCallback=n.userCallback,p.context=n.context,n=p}const u=new CM(n,a||void 0),h=e==="value"?new im(u):new sm(e,u);return gM(t._repo,t,h),()=>h0(t._repo,t,h)}function IM(t,e,n,r){return ol(t,"value",e,n,r)}function TM(t,e,n,r){return ol(t,"child_added",e,n,r)}function kM(t,e,n,r){return ol(t,"child_changed",e,n,r)}function RM(t,e,n,r){return ol(t,"child_moved",e,n,r)}function PM(t,e,n,r){return ol(t,"child_removed",e,n,r)}RD(_r);OD(_r);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="FIREBASE_DATABASE_EMULATOR_HOST",zp={};let AM=!1;function xM(t,e,n,r,s){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||Fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tt("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=f0(a,s),h=u.repoInfo,f;typeof process<"u"&&xw&&(f=xw[NM]),f?(a=`http://${f}?ns=${h.namespace}`,u=f0(a,s),h=u.repoInfo):u.repoInfo.secure;const p=new Wb(t.name,t.options,e);iM("Invalid Firebase Database URL",u),Re(u.path)||Fi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=OM(h,t,p,new Vb(t.name,n));return new DM(m,t)}function bM(t,e){const n=zp[e];(!n||n[t.key]!==t)&&Fi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mM(t),delete n[t.key]}function OM(t,e,n,r){let s=zp[e.name];s||(s={},zp[e.name]=s);let a=s[t.toURLString()];return a&&Fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new uM(t,AM,n,r),s[t.toURLString()]=a,a}class DM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _r(this._repo,De())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fi("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){Rb(yr),fn(new tn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return xM(r,s,a,n)},"PUBLIC").setMultipleInstances(!0)),et(bw,Ow,t),et(bw,Ow,"esm2017")}hr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};MM();var LM="firebase",FM="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */et(LM,FM,"app");var UM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,om=om||{},we=UM||self;function oh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ah(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function jM(t,e,n){return t.call.apply(t.bind,arguments)}function zM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=jM:Nt=zM,Nt.apply(null,arguments)}function Du(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[s].apply(r,u)}}function ri(){this.s=this.s,this.o=this.o}var $M=0;ri.prototype.s=!1;ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$M!=0)};ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function am(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function d0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(oh(r)){const s=t.length||0,a=r.length||0;t.length=s+a;for(let u=0;u<a;u++)t[s+u]=r[u]}else t.push(r)}}function At(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var BM=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{we.addEventListener("test",()=>{},e),we.removeEventListener("test",()=>{},e)}catch{}return t}();function xa(t){return/^[\s\xa0]*$/.test(t)}function lh(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function Un(t){return lh().indexOf(t)!=-1}function lm(t){return lm[" "](t),t}lm[" "]=function(){};function VM(t,e){var n=F2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var WM=Un("Opera"),ba=Un("Trident")||Un("MSIE"),rI=Un("Edge"),$p=rI||ba,iI=Un("Gecko")&&!(lh().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge"))&&!(Un("Trident")||Un("MSIE"))&&!Un("Edge"),HM=lh().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge");function sI(){var t=we.document;return t?t.documentMode:void 0}e:{var p0="",$d=function(){var t=lh();if(iI)return/rv:([^\);]+)(\)|;)/.exec(t);if(rI)return/Edge\/([\d\.]+)/.exec(t);if(ba)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HM)return/WebKit\/(\S+)/.exec(t);if(WM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if($d&&(p0=$d?$d[1]:""),ba){var g0=sI();if(g0!=null&&g0>parseFloat(p0))break e}}we.document&&ba&&sI();function Oa(t,e){if(At.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iI){e:{try{lm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:qM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Oa.$.h.call(this)}}dt(Oa,At);var qM={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var uh="closure_listenable_"+(1e6*Math.random()|0),GM=0;function KM(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++GM,this.fa=this.ia=!1}function ch(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function um(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function QM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function oI(t){const e={};for(const n in t)e[n]=t[n];return e}const m0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aI(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let a=0;a<m0.length;a++)n=m0[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hh(t){this.src=t,this.g={},this.h=0}hh.prototype.add=function(t,e,n,r,s){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var u=Vp(t,e,r,s);return-1<u?(e=t[u],n||(e.ia=!1)):(e=new KM(e,this.src,a,!!r,s),e.ia=n,t.push(e)),e};function Bp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=nI(r,e),a;(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(ch(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Vp(t,e,n,r){for(var s=0;s<t.length;++s){var a=t[s];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==r)return s}return-1}var cm="closure_lm_"+(1e6*Math.random()|0),Bd={};function lI(t,e,n,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)lI(t,e[a],n,r,s);return null}return n=hI(n),t&&t[uh]?t.O(e,n,ah(r)?!!r.capture:!1,s):YM(t,e,n,!1,r,s)}function YM(t,e,n,r,s,a){if(!e)throw Error("Invalid event type");var u=ah(s)?!!s.capture:!!s,h=fm(t);if(h||(t[cm]=h=new hh(t)),n=h.add(e,n,r,u,a),n.proxy)return n;if(r=XM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BM||(s=u),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(cI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XM(){function t(n){return e.call(t.src,t.listener,n)}const e=JM;return t}function uI(t,e,n,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)uI(t,e[a],n,r,s);else r=ah(r)?!!r.capture:!!r,n=hI(n),t&&t[uh]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=Vp(a,n,r,s),-1<n&&(ch(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=fm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vp(e,n,r,s)),(n=-1<t?e[t]:null)&&hm(n))}function hm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[uh])Bp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fm(e))?(Bp(n,t),n.h==0&&(n.src=null,e[cm]=null)):ch(t)}}}function cI(t){return t in Bd?Bd[t]:Bd[t]="on"+t}function JM(t,e){if(t.fa)t=!0;else{e=new Oa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&hm(t),t=n.call(r,e)}return t}function fm(t){return t=t[cm],t instanceof hh?t:null}var Vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function hI(t){return typeof t=="function"?t:(t[Vd]||(t[Vd]=function(e){return t.handleEvent(e)}),t[Vd])}function ft(){ri.call(this),this.i=new hh(this),this.S=this,this.J=null}dt(ft,ri);ft.prototype[uh]=!0;ft.prototype.removeEventListener=function(t,e,n,r){uI(this,t,e,n,r)};function _t(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new At(e,t);else if(e instanceof At)e.target=e.target||t;else{var s=e;e=new At(r,t),aI(e,s)}if(s=!0,n)for(var a=n.length-1;0<=a;a--){var u=e.g=n[a];s=Mu(u,r,!0,e)&&s}if(u=e.g=t,s=Mu(u,r,!0,e)&&s,s=Mu(u,r,!1,e)&&s,n)for(a=0;a<n.length;a++)u=e.g=n[a],s=Mu(u,r,!1,e)&&s}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ch(n[r]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Mu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==n){var h=u.listener,f=u.la||u.src;u.ia&&Bp(t.i,u),s=h.call(f,r)!==!1&&s}}return s&&!r.defaultPrevented}var dm=we.JSON.stringify;class ZM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function e2(){var t=pm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class t2{constructor(){this.h=this.g=null}add(e,n){const r=fI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var fI=new ZM(()=>new n2,t=>t.reset());class n2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function r2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function i2(t){we.setTimeout(()=>{throw t},0)}let Da,Ma=!1,pm=new t2,dI=()=>{const t=we.Promise.resolve(void 0);Da=()=>{t.then(s2)}};var s2=()=>{for(var t;t=e2();){try{t.h.call(t.g)}catch(n){i2(n)}var e=fI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ma=!1};function fh(t,e){ft.call(this),this.h=t||1,this.g=e||we,this.j=Nt(this.qb,this),this.l=Date.now()}dt(fh,ft);oe=fh.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_t(this,"tick"),this.ga&&(gm(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){fh.$.N.call(this),gm(this),delete this.g};function mm(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function pI(t){t.g=mm(()=>{t.g=null,t.i&&(t.i=!1,pI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class o2 extends ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pI(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(t){ri.call(this),this.h=t,this.g={}}dt(La,ri);var v0=[];function gI(t,e,n,r){Array.isArray(n)||(n&&(v0[0]=n.toString()),n=v0);for(var s=0;s<n.length;s++){var a=lI(e,n[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function mI(t){um(t.g,function(e,n){this.g.hasOwnProperty(n)&&hm(e)},t),t.g={}}La.prototype.N=function(){La.$.N.call(this),mI(this)};La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dh(){this.g=!0}dh.prototype.Ea=function(){this.g=!1};function a2(t,e,n,r,s,a){t.info(function(){if(t.g)if(a)for(var u="",h=a.split("&"),f=0;f<h.length;f++){var p=h[f].split("=");if(1<p.length){var m=p[0];p=p[1];var v=m.split("_");u=2<=v.length&&v[1]=="type"?u+(m+"="+p+"&"):u+(m+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+u})}function l2(t,e,n,r,s,a,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+a+" "+u})}function Ts(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+c2(t,n)+(r?" "+r:"")})}function u2(t,e){t.info(function(){return"TIMEOUT: "+e})}dh.prototype.info=function(){};function c2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if(a!="noop"&&a!="stop"&&a!="close")for(var u=1;u<s.length;u++)s[u]=""}}}}return dm(n)}catch{return e}}var no={},y0=null;function vm(){return y0=y0||new ft}no.Ta="serverreachability";function vI(t){At.call(this,no.Ta,t)}dt(vI,At);function Fa(t){const e=vm();_t(e,new vI(e))}no.STAT_EVENT="statevent";function yI(t,e){At.call(this,no.STAT_EVENT,t),this.stat=e}dt(yI,At);function Dt(t){const e=vm();_t(e,new yI(e,t))}no.Ua="timingevent";function _I(t,e){At.call(this,no.Ua,t),this.size=e}dt(_I,At);function al(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var ym={NO_ERROR:0,TIMEOUT:8},h2={};function _m(){}_m.prototype.h=null;function _0(t){return t.h||(t.h=t.i())}function f2(){}var ll={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wm(){At.call(this,"d")}dt(wm,At);function Em(){At.call(this,"c")}dt(Em,At);var Wp;function ph(){}dt(ph,_m);ph.prototype.g=function(){return new XMLHttpRequest};ph.prototype.i=function(){return{}};Wp=new ph;function ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new La(this),this.P=d2,t=$p?125:void 0,this.V=new fh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wI}function wI(){this.i=null,this.g="",this.h=!1}var d2=45e3,Hp={},Ic={};oe=ul.prototype;oe.setTimeout=function(t){this.P=t};function qp(t,e,n){t.L=1,t.v=mh(dr(e)),t.s=n,t.S=!0,EI(t,null)}function EI(t,e){t.G=Date.now(),cl(t),t.A=dr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),NI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new wI,t.g=YI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new o2(Nt(t.Pa,t,t.g),t.O)),gI(t.U,t.g,"readystatechange",t.nb),e=t.I?oI(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fa(),a2(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&jn(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const m=jn(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>m)&&(m!=3||$p||this.g&&(this.h.h||this.g.ja()||C0(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?Fa(3):Fa(2)),gh(this);var n=this.g.da();this.ca=n;t:if(SI(this)){var r=C0(this.g);t="";var s=r.length,a=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),da(this);var u="";break t}this.h.i=new we.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=n==200,l2(this.j,this.u,this.A,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xa(h)){var p=h;break t}}p=null}if(n=p)Ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gp(this,n);else{this.i=!1,this.o=3,Dt(12),Ni(this),da(this);break e}}this.S?(CI(this,m,u),$p&&this.i&&m==3&&(gI(this.U,this.V,"tick",this.mb),this.V.start())):(Ts(this.j,this.m,u,null),Gp(this,u)),m==4&&Ni(this),this.i&&!this.J&&(m==4?qI(this.l,this):(this.i=!1,cl(this)))}else D2(this.g),n==400&&0<u.indexOf("Unknown SID")?(this.o=3,Dt(12)):(this.o=0,Dt(13)),Ni(this),da(this)}}}catch{}finally{}};function SI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function CI(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=p2(t,n),s==Ic){e==4&&(t.o=4,Dt(14),r=!1),Ts(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Hp){t.o=4,Dt(15),Ts(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ts(t.j,t.m,s,null),Gp(t,s);SI(t)&&s!=Ic&&s!=Hp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Dt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rm(e),e.M=!0,Dt(11))):(Ts(t.j,t.m,n,"[Invalid Chunked Response]"),Ni(t),da(t))}oe.mb=function(){if(this.g){var t=jn(this.g),e=this.g.ja();this.C<e.length&&(gh(this),CI(this,t,e),this.i&&t!=4&&cl(this))}};function p2(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ic:(n=Number(e.substring(n,r)),isNaN(n)?Hp:(r+=1,r+n>e.length?Ic:(e=e.slice(r,r+n),t.C=r+n,e)))}oe.cancel=function(){this.J=!0,Ni(this)};function cl(t){t.Y=Date.now()+t.P,II(t,t.P)}function II(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=al(Nt(t.lb,t),e)}function gh(t){t.B&&(we.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(u2(this.j,this.A),this.L!=2&&(Fa(),Dt(17)),Ni(this),this.o=2,da(this)):II(this,this.Y-t)};function da(t){t.l.H==0||t.J||qI(t.l,t)}function Ni(t){gh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gm(t.V),mI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Gp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Kp(n.i,t))){if(!t.K&&Kp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Rc(n),wh(n);else break e;km(n),Dt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=al(Nt(n.ib,n),6e3));if(1>=bI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&Rc(n),!xa(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let p=s[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const m=p[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const v=p[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=p[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const S=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var a=r.i;a.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(Sm(a,a.h),a.h=null))}if(r.F){const I=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Ve(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var u=t;if(r.wa=QI(r,r.J?r.pa:null,r.Y),u.K){OI(r.i,u);var h=u,f=r.L;f&&h.setTimeout(f),h.B&&(gh(h),cl(h)),r.g=u}else WI(r);0<n.j.length&&Eh(n)}else p[0]!="stop"&&p[0]!="close"||Ai(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Ai(n,7):Tm(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}Fa(4)}catch{}}function g2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(oh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function m2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(oh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function TI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(oh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=m2(t),r=g2(t),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],n&&n[a],t)}var kI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var a=t[n].substring(0,r);s=t[n].substring(r+1)}else a=t[n];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Oi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Oi){this.h=t.h,Tc(this,t.j),this.s=t.s,this.g=t.g,kc(this,t.m),this.l=t.l;var e=t.i,n=new Ua;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),w0(this,n),this.o=t.o}else t&&(e=String(t).match(kI))?(this.h=!1,Tc(this,e[1]||"",!0),this.s=ia(e[2]||""),this.g=ia(e[3]||"",!0),kc(this,e[4]),this.l=ia(e[5]||"",!0),w0(this,e[6]||"",!0),this.o=ia(e[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}Oi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sa(e,E0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sa(e,E0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sa(n,n.charAt(0)=="/"?w2:_2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sa(n,S2)),t.join("")};function dr(t){return new Oi(t)}function Tc(t,e,n){t.j=n?ia(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function w0(t,e,n){e instanceof Ua?(t.i=e,C2(t.i,t.h)):(n||(e=sa(e,E2)),t.i=new Ua(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function mh(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ia(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,y2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function y2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var E0=/[#\/\?@]/g,_2=/[#\?:]/g,w2=/[#\?]/g,E2=/[#\?@]/g,S2=/#/g;function Ua(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ii(t){t.g||(t.g=new Map,t.h=0,t.i&&v2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=Ua.prototype;oe.add=function(t,e){ii(this),this.i=null,t=ro(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function RI(t,e){ii(t),e=ro(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PI(t,e){return ii(t),e=ro(t,e),t.g.has(e)}oe.forEach=function(t,e){ii(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};oe.ta=function(){ii(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let a=0;a<s.length;a++)n.push(e[r])}return n};oe.Z=function(t){ii(this);let e=[];if(typeof t=="string")PI(this,t)&&(e=e.concat(this.g.get(ro(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return ii(this),this.i=null,t=ro(this,t),PI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NI(t,e,n){RI(t,e),0<n.length&&(t.i=null,t.g.set(ro(t,e),am(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const a=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var s=a;u[r]!==""&&(s+="="+encodeURIComponent(String(u[r]))),t.push(s)}}return this.i=t.join("&")};function ro(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function C2(t,e){e&&!t.j&&(ii(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(RI(this,r),NI(this,s,n))},t)),t.j=e}var I2=class{constructor(t,e){this.g=t,this.map=e}};function AI(t){this.l=t||T2,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T2=10;function xI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function bI(t){return t.h?1:t.g?t.g.size:0}function Kp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Sm(t,e){t.g?t.g.add(e):t.h=e}function OI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AI.prototype.cancel=function(){if(this.i=DI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function DI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return am(t.i)}var k2=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function R2(){this.g=new k2}function P2(t,e,n){const r=n||"";try{TI(t,function(s,a){let u=s;ah(s)&&(u=dm(s)),e.push(r+a+"="+encodeURIComponent(u))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function N2(t,e){const n=new dh;if(we.Image){const r=new Image;r.onload=Du(Lu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Du(Lu,n,r,"TestLoadImage: error",!1,e),r.onabort=Du(Lu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Du(Lu,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Lu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function vh(t){this.l=t.fc||null,this.j=t.ob||!1}dt(vh,_m);vh.prototype.g=function(){return new yh(this.l,this.j)};vh.prototype.i=function(t){return function(){return t}}({});function yh(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(yh,ft);var Cm=0;oe=yh.prototype;oe.open=function(t,e){if(this.readyState!=Cm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ja(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=Cm};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function MI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hl(this):ja(this),this.readyState==3&&MI(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,hl(this))};oe.Ya=function(t){this.g&&(this.response=t,hl(this))};oe.ka=function(){this.g&&hl(this)};function hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ja(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ja(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(yh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var A2=we.JSON.parse;function Je(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=LI,this.L=this.M=!1}dt(Je,ft);var LI="",x2=/^https?$/i,b2=["POST","PUT"];oe=Je.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wp.g(),this.C=this.u?_0(this.u):_0(Wp),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){S0(this,a);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const a of r.keys())n.set(a,r.get(a));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(a=>a.toLowerCase()=="content-type"),s=we.FormData&&t instanceof we.FormData,!(0<=nI(b2,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of n)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jI(this),0<this.B&&((this.L=O2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=mm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){S0(this,a)}};function O2(t){return ba&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof om<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))};function S0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,FI(t),_h(t)}function FI(t){t.F||(t.F=!0,_t(t,"complete"),_t(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_t(this,"complete"),_t(this,"abort"),_h(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_h(this,!0)),Je.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?UI(this):this.kb())};oe.kb=function(){UI(this)};function UI(t){if(t.h&&typeof om<"u"&&(!t.C[1]||jn(t)!=4||t.da()!=2)){if(t.v&&jn(t)==4)mm(t.La,0,t);else if(_t(t,"readystatechange"),jn(t)==4){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var s=String(t.I).match(kI)[1]||null;!s&&we.self&&we.self.location&&(s=we.self.location.protocol.slice(0,-1)),r=!x2.test(s?s.toLowerCase():"")}n=r}if(n)_t(t,"complete"),_t(t,"success");else{t.m=6;try{var a=2<jn(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",FI(t)}}finally{_h(t)}}}}function _h(t,e){if(t.g){jI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||_t(t,"ready");try{n.onreadystatechange=r}catch{}}}function jI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function jn(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),A2(e)}};function C0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case LI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function D2(t){const e={};t=(t.g&&2<=jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(xa(t[r]))continue;var n=r2(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const a=e[s]||[];e[s]=a,a.push(n)}QM(e,function(r){return r.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zI(t){let e="";return um(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Im(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function Zo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $I(t){this.Ga=0,this.j=[],this.l=new dh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zo("baseRetryDelayMs",5e3,t),this.hb=Zo("retryDelaySeedMs",1e4,t),this.eb=Zo("forwardChannelMaxRetries",2,t),this.xa=Zo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AI(t&&t.concurrentRequestLimit),this.Ja=new R2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=$I.prototype;oe.ra=8;oe.H=1;function Tm(t){if(BI(t),t.H==3){var e=t.W++,n=dr(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),fl(t,n),e=new ul(t,t.l,e),e.L=2,e.v=mh(dr(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.v,n=!0),n||(e.g=YI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cl(e)}KI(t)}function wh(t){t.g&&(Rm(t),t.g.cancel(),t.g=null)}function BI(t){wh(t),t.u&&(we.clearTimeout(t.u),t.u=null),Rc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function Eh(t){if(!xI(t.i)&&!t.m){t.m=!0;var e=t.Na;Da||dI(),Ma||(Da(),Ma=!0),pm.add(e,t),t.C=0}}function M2(t,e){return bI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=al(Nt(t.Na,t,e),GI(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new ul(this,this.l,t);let a=this.s;if(this.U&&(a?(a=oI(a),aI(a,this.U)):a=this.U),this.o!==null||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=VI(this,s,e),n=dr(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),fl(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(zI(a)))+"&"+e:this.o&&Im(n,this.o,a)),Sm(this.i,s),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),s.aa=!0,qp(s,n,null)):qp(s,n,e),this.H=2}}else this.H==3&&(t?I0(this,t):this.j.length==0||xI(this.i)||I0(this))};function I0(t,e){var n;e?n=e.m:n=t.W++;const r=dr(t.I);Ve(r,"SID",t.K),Ve(r,"RID",n),Ve(r,"AID",t.V),fl(t,r),t.o&&t.s&&Im(r,t.o,t.s),n=new ul(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=VI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Sm(t.i,n),qp(n,r,e)}function fl(t,e){t.na&&um(t.na,function(n,r){Ve(e,r,n)}),t.h&&TI({},function(n,r){Ve(e,r,n)})}function VI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nt(t.h.Va,t.h,t):null;e:{var s=t.j;let a=-1;for(;;){const u=["count="+n];a==-1?0<n?(a=s[0].g,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let f=0;f<n;f++){let p=s[f].g;const m=s[f].map;if(p-=a,0>p)a=Math.max(0,s[f].g-100),h=!1;else try{P2(m,u,"req"+p+"_")}catch{r&&r(m)}}if(h){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Da||dI(),Ma||(Da(),Ma=!0),pm.add(e,t),t.A=0}}function km(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=al(Nt(t.Ma,t),GI(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,HI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=al(Nt(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),wh(this),HI(this))};function Rm(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function HI(t){t.g=new ul(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=dr(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),fl(t,e),t.o&&t.s&&Im(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=mh(dr(e)),n.s=null,n.S=!0,EI(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,wh(this),km(this),Dt(19))};function Rc(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function qI(t,e){var n=null;if(t.g==e){Rc(t),Rm(t),t.g=null;var r=2}else if(Kp(t.i,e))n=e.F,OI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=vm(),_t(r,new _I(r,n)),Eh(t)}else WI(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&M2(t,e)||r==2&&km(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function GI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nt(t.pb,t);n||(n=new Oi("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||Tc(n,"https"),mh(n)),N2(n.toString(),r)}else Dt(2);t.H=0,t.h&&t.h.za(e),KI(t),BI(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function KI(t){if(t.H=0,t.ma=[],t.h){const e=DI(t.i);(e.length!=0||t.j.length!=0)&&(d0(t.ma,e),d0(t.ma,t.j),t.i.i.length=0,am(t.j),t.j.length=0),t.h.ya()}}function QI(t,e,n){var r=n instanceof Oi?dr(n):new Oi(n);if(r.g!="")e&&(r.g=e+"."+r.g),kc(r,r.m);else{var s=we.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new Oi(null);r&&Tc(a,r),e&&(a.g=e),s&&kc(a,s),n&&(a.l=n),r=a}return n=t.F,e=t.Da,n&&e&&Ve(r,n,e),Ve(r,"VER",t.ra),fl(t,r),r}function YI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Je(new vh({ob:!0})):new Je(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function XI(){}oe=XI.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function dn(t,e){ft.call(this),this.g=new $I(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new io(this)}dt(dn,ft);dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=QI(t,null,t.Y),Eh(t)};dn.prototype.close=function(){Tm(this.g)};dn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dm(t),t=n);e.j.push(new I2(e.fb++,t)),e.H==3&&Eh(e)};dn.prototype.N=function(){this.g.h=null,delete this.j,Tm(this.g),delete this.g,dn.$.N.call(this)};function JI(t){wm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(JI,wm);function ZI(){Em.call(this),this.status=1}dt(ZI,Em);function io(t){this.g=t}dt(io,XI);io.prototype.Ba=function(){_t(this.g,"a")};io.prototype.Aa=function(t){_t(this.g,new JI(t))};io.prototype.za=function(t){_t(this.g,new ZI)};io.prototype.ya=function(){_t(this.g,"b")};function L2(){this.blockSize=-1}function Wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(Wn,L2);Wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Wd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var a=t.g[3],u=e+(a^n&(s^a))+r[0]+3614090360&4294967295;e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[1]+3905402710&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[2]+606105819&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[3]+3250441966&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(a^n&(s^a))+r[4]+4118548399&4294967295,e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[5]+1200080426&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[6]+2821735955&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[7]+4249261313&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(a^n&(s^a))+r[8]+1770035416&4294967295,e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[9]+2336552879&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[10]+4294925233&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[11]+2304563134&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(a^n&(s^a))+r[12]+1804603682&4294967295,e=n+(u<<7&4294967295|u>>>25),u=a+(s^e&(n^s))+r[13]+4254626195&4294967295,a=e+(u<<12&4294967295|u>>>20),u=s+(n^a&(e^n))+r[14]+2792965006&4294967295,s=a+(u<<17&4294967295|u>>>15),u=n+(e^s&(a^e))+r[15]+1236535329&4294967295,n=s+(u<<22&4294967295|u>>>10),u=e+(s^a&(n^s))+r[1]+4129170786&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[6]+3225465664&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[11]+643717713&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[0]+3921069994&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(s^a&(n^s))+r[5]+3593408605&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[10]+38016083&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[15]+3634488961&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[4]+3889429448&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(s^a&(n^s))+r[9]+568446438&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[14]+3275163606&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[3]+4107603335&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[8]+1163531501&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(s^a&(n^s))+r[13]+2850285829&4294967295,e=n+(u<<5&4294967295|u>>>27),u=a+(n^s&(e^n))+r[2]+4243563512&4294967295,a=e+(u<<9&4294967295|u>>>23),u=s+(e^n&(a^e))+r[7]+1735328473&4294967295,s=a+(u<<14&4294967295|u>>>18),u=n+(a^e&(s^a))+r[12]+2368359562&4294967295,n=s+(u<<20&4294967295|u>>>12),u=e+(n^s^a)+r[5]+4294588738&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[8]+2272392833&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[11]+1839030562&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[14]+4259657740&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(n^s^a)+r[1]+2763975236&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[4]+1272893353&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[7]+4139469664&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[10]+3200236656&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(n^s^a)+r[13]+681279174&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[0]+3936430074&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[3]+3572445317&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[6]+76029189&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(n^s^a)+r[9]+3654602809&4294967295,e=n+(u<<4&4294967295|u>>>28),u=a+(e^n^s)+r[12]+3873151461&4294967295,a=e+(u<<11&4294967295|u>>>21),u=s+(a^e^n)+r[15]+530742520&4294967295,s=a+(u<<16&4294967295|u>>>16),u=n+(s^a^e)+r[2]+3299628645&4294967295,n=s+(u<<23&4294967295|u>>>9),u=e+(s^(n|~a))+r[0]+4096336452&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[7]+1126891415&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[14]+2878612391&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[5]+4237533241&4294967295,n=s+(u<<21&4294967295|u>>>11),u=e+(s^(n|~a))+r[12]+1700485571&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[3]+2399980690&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[10]+4293915773&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[1]+2240044497&4294967295,n=s+(u<<21&4294967295|u>>>11),u=e+(s^(n|~a))+r[8]+1873313359&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[15]+4264355552&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[6]+2734768916&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[13]+1309151649&4294967295,n=s+(u<<21&4294967295|u>>>11),u=e+(s^(n|~a))+r[4]+4149444226&4294967295,e=n+(u<<6&4294967295|u>>>26),u=a+(n^(e|~s))+r[11]+3174756917&4294967295,a=e+(u<<10&4294967295|u>>>22),u=s+(e^(a|~n))+r[2]+718787259&4294967295,s=a+(u<<15&4294967295|u>>>17),u=n+(a^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+a&4294967295}Wn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(s==0)for(;a<=n;)Wd(this,t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<e;)if(r[s++]=t.charCodeAt(a++),s==this.blockSize){Wd(this,r),s=0;break}}else for(;a<e;)if(r[s++]=t[a++],s==this.blockSize){Wd(this,r),s=0;break}}this.h=s,this.i+=e};Wn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Le(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var a=t[s]|0;r&&a==e||(n[s]=a,r=!1)}this.g=n}var F2={};function Pm(t){return-128<=t&&128>t?VM(t,function(e){return new Le([e|0],0>e?-1:0)}):new Le([t|0],0>t?-1:0)}function zn(t){if(isNaN(t)||!isFinite(t))return xs;if(0>t)return vt(zn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qp;return new Le(e,0)}function eT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return vt(eT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zn(Math.pow(e,8)),r=xs,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),e);8>a?(a=zn(Math.pow(e,a)),r=r.R(a).add(zn(u))):(r=r.R(n),r=r.add(zn(u)))}return r}var Qp=4294967296,xs=Pm(0),Yp=Pm(1),T0=Pm(16777216);oe=Le.prototype;oe.ea=function(){if(hn(this))return-vt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qp+r)*e,e*=Qp}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(cr(this))return"0";if(hn(this))return"-"+vt(this).toString(t);for(var e=zn(Math.pow(t,6)),n=this,r="";;){var s=Nc(n,e).g;n=Pc(n,s.R(e));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,cr(n))return a+r;for(;6>a.length;)a="0"+a;r=a+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function cr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hn(t){return t.h==-1}oe.X=function(t){return t=Pc(this,t),hn(t)?-1:cr(t)?0:1};function vt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Le(n,~t.h).add(Yp)}oe.abs=function(){return hn(this)?vt(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var a=r+(this.D(s)&65535)+(t.D(s)&65535),u=(a>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=u>>>16,a&=65535,u&=65535,n[s]=u<<16|a}return new Le(n,n[n.length-1]&-2147483648?-1:0)};function Pc(t,e){return t.add(vt(e))}oe.R=function(t){if(cr(this)||cr(t))return xs;if(hn(this))return hn(t)?vt(this).R(vt(t)):vt(vt(this).R(t));if(hn(t))return vt(this.R(vt(t)));if(0>this.X(T0)&&0>t.X(T0))return zn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var a=this.D(r)>>>16,u=this.D(r)&65535,h=t.D(s)>>>16,f=t.D(s)&65535;n[2*r+2*s]+=u*f,Fu(n,2*r+2*s),n[2*r+2*s+1]+=a*f,Fu(n,2*r+2*s+1),n[2*r+2*s+1]+=u*h,Fu(n,2*r+2*s+1),n[2*r+2*s+2]+=a*h,Fu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Le(n,0)};function Fu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ea(t,e){this.g=t,this.h=e}function Nc(t,e){if(cr(e))throw Error("division by zero");if(cr(t))return new ea(xs,xs);if(hn(t))return e=Nc(vt(t),e),new ea(vt(e.g),vt(e.h));if(hn(e))return e=Nc(t,vt(e)),new ea(vt(e.g),e.h);if(30<t.g.length){if(hn(t)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yp,r=e;0>=r.X(t);)n=k0(n),r=k0(r);var s=Es(n,1),a=Es(r,1);for(r=Es(r,2),n=Es(n,2);!cr(r);){var u=a.add(r);0>=u.X(t)&&(s=s.add(n),a=u),r=Es(r,1),n=Es(n,1)}return e=Pc(t,s.R(e)),new ea(s,e)}for(s=xs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),a=zn(n),u=a.R(e);hn(u)||0<u.X(t);)n-=r,a=zn(n),u=a.R(e);cr(a)&&(a=Yp),s=s.add(a),t=Pc(t,u)}return new ea(s,t)}oe.gb=function(t){return Nc(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Le(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Le(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Le(n,this.h^t.h)};function k0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Le(n,t.h)}function Es(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],a=0;a<r;a++)s[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new Le(s,t.h)}dn.prototype.send=dn.prototype.u;dn.prototype.open=dn.prototype.m;dn.prototype.close=dn.prototype.close;ym.NO_ERROR=0;ym.TIMEOUT=8;ym.HTTP_ERROR=6;h2.COMPLETE="complete";f2.EventType=ll;ll.OPEN="a";ll.CLOSE="b";ll.ERROR="c";ll.MESSAGE="d";ft.prototype.listen=ft.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;Wn.prototype.digest=Wn.prototype.l;Wn.prototype.reset=Wn.prototype.reset;Wn.prototype.update=Wn.prototype.j;Le.prototype.add=Le.prototype.add;Le.prototype.multiply=Le.prototype.R;Le.prototype.modulo=Le.prototype.gb;Le.prototype.compare=Le.prototype.X;Le.prototype.toNumber=Le.prototype.ea;Le.prototype.toString=Le.prototype.toString;Le.prototype.getBits=Le.prototype.D;Le.fromNumber=zn;Le.fromString=eT;var U2=Le;const R0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let It=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Ka("@firebase/firestore");function Zt(t,...e){if(Bs.logLevel<=be.DEBUG){const n=e.map(Am);Bs.debug(`Firestore (${dl}): ${t}`,...n)}}function Nm(t,...e){if(Bs.logLevel<=be.ERROR){const n=e.map(Am);Bs.error(`Firestore (${dl}): ${t}`,...n)}}function j2(t,...e){if(Bs.logLevel<=be.WARN){const n=e.map(Am);Bs.warn(`Firestore (${dl}): ${t}`,...n)}}function Am(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t="Unexpected state"){const e=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: `+t;throw Nm(e),new Error(e)}function Xp(t,e){t||xm()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition",UNAVAILABLE:"unavailable"};let Pt=class extends pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class $2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let B2=class{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new bs,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bs)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xp(typeof r.accessToken=="string"),new tT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xp(e===null||typeof e=="string"),new It(e)}},V2=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};class W2{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new V2(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let H2=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class q2{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=a=>{a.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Zt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?s(a):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xp(typeof n.token=="string"),this.T=n.token,new H2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K2=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=G2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}};function nT(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,s,a,u,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}class Ac{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P0,Ne;(Ne=P0||(P0={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new U2([4294967295,4294967295],0);function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&Zt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,h=new bm(e,n,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(Rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X2(t,e){if(Nm("AsyncQueue",`${e}: ${t}`),nT(t))return new Pt(Rt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=K2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{Zt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Zt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pt(Rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=X2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function Z2(t,e,n,r){if(e===!0&&r===!0)throw new Pt(Rt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eL(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xm()}function tL(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pt(Rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eL(t);throw new Pt(Rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pt(Rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pt(Rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class iT{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pt(Rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pt(Rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new z2;switch(n.type){case"firstParty":return new W2(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pt(Rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=N0.get(e);n&&(Zt("ComponentProvider","Removing Datastore"),N0.delete(e),n.terminate())}(this),Promise.resolve()}}function nL(t,e,n,r={}){var s;const a=(t=tL(t,iT))._getSettings(),u=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&j2("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=It.MOCK_USER;else{h=XE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Pt(Rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new It(p)}t._authCredentials=new $2(new tT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Y2(this,"async_queue_retry"),this.Xc=()=>{const n=Hd();n&&Zt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Hd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new bs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!nT(e))throw e;Zt("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Nm("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=bm.createAndSchedule(this,e,n,r,a=>this.na(a));return this.zc.push(s),s}Zc(){this.Wc&&xm()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class iL extends iT{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rL,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oL(this),this._firestoreClient.terminate()}}function sL(t,e){const n=typeof t=="object"?t:Eg(),r=typeof t=="string"?t:"(default)",s=Zs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=KE("firestore");a&&nL(s,...a)}return s}function oL(t){var e,n,r;const s=t._freezeSettings(),a=function(u,h,f,p){return new Q2(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,rT(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new J2(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}(function(t,e=!0){(function(n){dl=n})(yr),fn(new tn("firestore",(n,{instanceIdentifier:r,options:s})=>{const a=n.getProvider("app").getImmediate(),u=new iL(new B2(n.getProvider("auth-internal")),new q2(n.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pt(Rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(h.options.projectId,f)}(a,r),a);return s=Object.assign({useFetchStreams:e},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),et(R0,"3.13.0",t),et(R0,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="us-central1";class uL{constructor(e,n,r,s,a=x0,u){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new lL(n,r,s),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin,this.region=x0}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const b0="@firebase/functions",O0="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="auth-internal",hL="app-check-internal",fL="messaging-internal";function dL(t,e){const n=(r,{instanceIdentifier:s})=>{const a=r.getProvider("app").getImmediate(),u=r.getProvider(cL),h=r.getProvider(fL),f=r.getProvider(hL);return new uL(a,u,h,f,s,t)};fn(new tn(aL,n,"PUBLIC").setMultipleInstances(!0)),et(b0,O0,e),et(b0,O0,"esm2017")}dL(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebasestorage.googleapis.com",pL="storageBucket",gL=2*60*1e3,mL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends pn{constructor(e,n,r=0){super(qd(e),`Firebase Storage: ${n} (${qd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hn||(Hn={}));function qd(t){return"storage/"+t}function vL(){const t="An unknown error occurred, please check the error payload for server response.";return new Kn(Hn.UNKNOWN,t)}function yL(){return new Kn(Hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _L(){return new Kn(Hn.CANCELED,"User canceled the upload/download.")}function wL(t){return new Kn(Hn.INVALID_URL,"Invalid URL '"+t+"'.")}function EL(t){return new Kn(Hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function D0(t){return new Kn(Hn.INVALID_ARGUMENT,t)}function oT(){return new Kn(Hn.APP_DELETED,"The Firebase app was deleted.")}function SL(t){return new Kn(Hn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pn.makeFromUrl(e,n)}catch{return new Pn(e,"")}if(r.path==="")return r;throw EL(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function p(E){E.path_=decodeURIComponent(E.path)}const m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${m}/b/${s}/o${y}`,"i"),S={bucket:1,path:3},I=n===sT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",R=new RegExp(`^https?://${I}/${s}/${C}`,"i"),k=[{regex:h,indices:f,postModify:a},{regex:w,indices:S,postModify:p},{regex:R,indices:{bucket:1,path:2},postModify:p}];for(let E=0;E<k.length;E++){const P=k[E],O=P.regex.exec(e);if(O){const $=O[P.indices.bucket];let G=O[P.indices.path];G||(G=""),r=new Pn($,G),P.postModify(r);break}}if(r==null)throw wL(e);return r}}class CL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e,n){let r=1,s=null,a=null,u=!1,h=0;function f(){return h===2}let p=!1;function m(...C){p||(p=!0,e.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,t(w,f())},C)}function y(){a&&clearTimeout(a)}function w(C,...R){if(p){y();return}if(C){y(),m.call(null,C,...R);return}if(f()||u){y(),m.call(null,C,...R);return}r<64&&(r*=2);let k;h===1?(h=2,k=0):k=(r+Math.random())*1e3,v(k)}let S=!1;function I(C){S||(S=!0,y(),!p&&(s!==null?(C||(h=2),clearTimeout(s),v(0)):C||(h=1)))}return v(0),a=setTimeout(()=>{u=!0,I(!0)},n),I}function TL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){return t!==void 0}function M0(t,e,n,r){if(r<e)throw D0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw D0(`Invalid value for '${t}'. Expected ${n} or less.`)}function RL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xc||(xc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,s,a,u,h,f,p,m,v,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Uu(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===xc.NO_ERROR,f=a.getStatus();if(!h||PL(f,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===xc.ABORT;r(!1,new Uu(!1,null,m));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Uu(p,a))})},n=(r,s)=>{const a=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());kL(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=vL();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(s.canceled){const f=this.appDelete_?oT():_L();u(f)}else{const f=yL();u(f)}};this.canceled_?n(!1,new Uu(!1,null,!0)):this.backoffId_=IL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function AL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DL(t,e,n,r,s,a,u=!0){const h=RL(t.urlParams),f=t.url+h,p=Object.assign({},t.headers);return bL(p,e),AL(p,n),xL(p,a),OL(p,r),new NL(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this._service=e,n instanceof Pn?this._location=n:this._location=Pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bc(e,n)}get root(){const e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LL(this._location.path)}get storage(){return this._service}get parent(){const e=ML(this._location.path);if(e===null)return null;const n=new Pn(this._location.bucket,e);return new bc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SL(e)}}function L0(t,e){const n=e==null?void 0:e[pL];return n==null?null:Pn.makeFromBucketSpec(n,t)}function FL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:XE(s,t.app.options.projectId))}class UL{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=sT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gL,this._maxUploadRetryTime=mL,this._requests=new Set,s!=null?this._bucket=Pn.makeFromBucketSpec(s,this._host):this._bucket=L0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=L0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bc(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new CL(oT());{const u=DL(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const F0="@firebase/storage",U0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="storage";function jL(t=Eg(),e){t=Gn(t);const r=Zs(t,aT).getImmediate({identifier:e}),s=KE("storage");return s&&zL(r,...s),r}function zL(t,e,n,r={}){FL(t,e,n,r)}function $L(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new UL(n,r,s,e,yr)}function BL(){fn(new tn(aT,$L,"PUBLIC").setMultipleInstances(!0)),et(F0,U0,""),et(F0,U0,"esm2017")}BL();const VL=(t,e)=>e.some(n=>t instanceof n);let j0,z0;function WL(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HL(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,Jp=new WeakMap,uT=new WeakMap,Gd=new WeakMap,Om=new WeakMap;function qL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Xr(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,t)}).catch(()=>{}),Om.set(e,t),e}function GL(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KL(t){Zp=t(Zp)}function QL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kd(this),e,...n);return uT.set(r,e.sort?e.sort():[e]),Xr(r)}:HL().includes(t)?function(...e){return t.apply(Kd(this),e),Xr(lT.get(this))}:function(...e){return Xr(t.apply(Kd(this),e))}}function YL(t){return typeof t=="function"?QL(t):(t instanceof IDBTransaction&&GL(t),VL(t,WL())?new Proxy(t,Zp):t)}function Xr(t){if(t instanceof IDBRequest)return qL(t);if(Gd.has(t))return Gd.get(t);const e=YL(t);return e!==t&&(Gd.set(t,e),Om.set(e,t)),e}const Kd=t=>Om.get(t);function XL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=Xr(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Xr(u.result),f.oldVersion,f.newVersion,Xr(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",()=>s())}).catch(()=>{}),h}const JL=["get","getKey","getAll","getAllKeys","count"],ZL=["put","add","delete","clear"],Qd=new Map;function $0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ZL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JL.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&f.done]))[0]};return Qd.set(e,a),a}KL(t=>({...t,get:(e,n,r)=>$0(e,n)||t.get(e,n,r),has:(e,n)=>!!$0(e,n)||t.has(e,n)}));const cT="@firebase/installations",Dm="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=1e4,fT=`w:${Dm}`,dT="FIS_v2",eF="https://firebaseinstallations.googleapis.com/v1",tF=60*60*1e3,nF="installations",rF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bi=new Gi(nF,rF,iF);function pT(t){return t instanceof pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT({projectId:t}){return`${eF}/projects/${t}/installations`}function mT(t){return{token:t.token,requestStatus:2,expiresIn:oF(t.expiresIn),creationTime:Date.now()}}async function vT(t,e){const r=(await e.json()).error;return Bi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sF(t,{refreshToken:e}){const n=yT(t);return n.append("Authorization",aF(e)),n}async function _T(t){const e=await t();return e.status>=500&&e.status<600?t():e}function oF(t){return Number(t.replace("s","000"))}function aF(t){return`${dT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gT(t),s=yT(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={fid:n,authVersion:dT,appId:t.appId,sdkVersion:fT},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await _T(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:mT(p.authToken)}}else throw await vT("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=/^[cdef][\w-]{21}$/,eg="";function hF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=fF(t);return cF.test(n)?n:eg}catch{return eg}}function fF(t){return uF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;function ST(t,e){const n=Sh(t);CT(n,e),dF(n,e)}function CT(t,e){const n=ET.get(t);if(n)for(const r of n)r(e)}function dF(t,e){const n=pF();n&&n.postMessage({key:t,fid:e}),gF()}let xi=null;function pF(){return!xi&&"BroadcastChannel"in self&&(xi=new BroadcastChannel("[Firebase] FID Change"),xi.onmessage=t=>{CT(t.data.key,t.data.fid)}),xi}function gF(){ET.size===0&&xi&&(xi.close(),xi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="firebase-installations-database",vF=1,Vi="firebase-installations-store";let Yd=null;function Mm(){return Yd||(Yd=XL(mF,vF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vi)}}})),Yd}async function Oc(t,e){const n=Sh(t),s=(await Mm()).transaction(Vi,"readwrite"),a=s.objectStore(Vi),u=await a.get(n);return await a.put(e,n),await s.done,(!u||u.fid!==e.fid)&&ST(t,e.fid),e}async function IT(t){const e=Sh(t),r=(await Mm()).transaction(Vi,"readwrite");await r.objectStore(Vi).delete(e),await r.done}async function Ch(t,e){const n=Sh(t),s=(await Mm()).transaction(Vi,"readwrite"),a=s.objectStore(Vi),u=await a.get(n),h=e(u);return h===void 0?await a.delete(n):await a.put(h,n),await s.done,h&&(!u||u.fid!==h.fid)&&ST(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){let e;const n=await Ch(t.appConfig,r=>{const s=yF(r),a=_F(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===eg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yF(t){const e=t||{fid:hF(),registrationStatus:0};return TT(e)}function _F(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Bi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:EF(t)}:{installationEntry:e}}async function wF(t,e){try{const n=await lF(t,e);return Oc(t.appConfig,n)}catch(n){throw pT(n)&&n.customData.serverCode===409?await IT(t.appConfig):await Oc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function EF(t){let e=await B0(t.appConfig);for(;e.registrationStatus===1;)await wT(100),e=await B0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Lm(t);return r||n}return e}function B0(t){return Ch(t,e=>{if(!e)throw Bi.create("installation-not-found");return TT(e)})}function TT(t){return SF(t)?{fid:t.fid,registrationStatus:0}:t}function SF(t){return t.registrationStatus===1&&t.registrationTime+hT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF({appConfig:t,heartbeatServiceProvider:e},n){const r=IF(t,n),s=sF(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={installation:{sdkVersion:fT,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await _T(()=>fetch(r,h));if(f.ok){const p=await f.json();return mT(p)}else throw await vT("Generate Auth Token",f)}function IF(t,{fid:e}){return`${gT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t,e=!1){let n;const r=await Ch(t.appConfig,a=>{if(!kT(a))throw Bi.create("not-registered");const u=a.authToken;if(!e&&RF(u))return a;if(u.requestStatus===1)return n=TF(t,e),a;{if(!navigator.onLine)throw Bi.create("app-offline");const h=NF(a);return n=kF(t,h),h}});return n?await n:r.authToken}async function TF(t,e){let n=await V0(t.appConfig);for(;n.authToken.requestStatus===1;)await wT(100),n=await V0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Fm(t,e):r}function V0(t){return Ch(t,e=>{if(!kT(e))throw Bi.create("not-registered");const n=e.authToken;return AF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kF(t,e){try{const n=await CF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Oc(t.appConfig,r),n}catch(n){if(pT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Oc(t.appConfig,r)}throw n}}function kT(t){return t!==void 0&&t.registrationStatus===2}function RF(t){return t.requestStatus===2&&!PF(t)}function PF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tF}function NF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function AF(t){return t.requestStatus===1&&t.requestTime+hT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Lm(e);return r?r.catch(console.error):Fm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bF(t,e=!1){const n=t;return await OF(n),(await Fm(n,e)).token}async function OF(t){const{registrationPromise:e}=await Lm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){if(!t||!t.options)throw Xd("App Configuration");if(!t.name)throw Xd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xd(t){return Bi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="installations",MF="installations-internal",LF=t=>{const e=t.getProvider("app").getImmediate(),n=DF(e),r=Zs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FF=t=>{const e=t.getProvider("app").getImmediate(),n=Zs(e,RT).getImmediate();return{getId:()=>xF(n),getToken:s=>bF(n,s)}};function UF(){fn(new tn(RT,LF,"PUBLIC")),fn(new tn(MF,FF,"PRIVATE"))}UF();et(cT,Dm);et(cT,Dm,"esm2017");const Jd="@firebase/remote-config",W0="0.4.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},Bt=new Gi("remoteconfig","Remote Config",zF);function $F(t){const e=Gn(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n,r,s){this.client=e,this.storage=n,this.storageCache=r,this.logger=s}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,s=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${s}.`),s}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const s=await this.client.fetch(e),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),await Promise.all(a),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r,s,a,u){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=s,this.apiKey=a,this.appId=u}async fetch(e){const[n,r]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:VF()},f={method:"POST",headers:u,body:JSON.stringify(h)},p=fetch(a,f),m=new Promise((C,R)=>{e.signal.addEventListener(()=>{const j=new Error("The operation was aborted.");j.name="AbortError",R(j)})});let v;try{await Promise.race([p,m]),v=await p}catch(C){let R="fetch-client-network";throw(C==null?void 0:C.name)==="AbortError"&&(R="fetch-timeout"),Bt.create(R,{originalErrorMessage:C==null?void 0:C.message})}let y=v.status;const w=v.headers.get("ETag")||void 0;let S,I;if(v.status===200){let C;try{C=await v.json()}catch(R){throw Bt.create("fetch-client-parse",{originalErrorMessage:R==null?void 0:R.message})}S=C.entries,I=C.state}if(I==="INSTANCE_STATE_UNSPECIFIED"?y=500:I==="NO_CHANGE"?y=304:(I==="NO_TEMPLATE"||I==="EMPTY_CONFIG")&&(S={}),y!==304&&y!==200)throw Bt.create("fetch-status",{httpStatus:y});return{status:y,eTag:w,config:S}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(Bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qF(t){if(!(t instanceof pn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class GF{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await HF(e.signal,n);try{const s=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),s}catch(s){if(!qF(s))throw s;const a={throttleEndTimeMillis:Date.now()+SN(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(a),this.attemptFetch(e,a)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=60*1e3,QF=12*60*60*1e3;class YF{constructor(e,n,r,s,a){this.app=e,this._client=n,this._storageCache=r,this._storage=s,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:KF,minimumFetchIntervalMillis:QF},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e){const n=t.target.error||void 0;return Bt.create(e,{originalErrorMessage:n&&(n==null?void 0:n.message)})}const Ii="app_namespace_store",XF="firebase_remote_config",JF=1;function ZF(){return new Promise((t,e)=>{try{const n=indexedDB.open(XF,JF);n.onerror=r=>{e(Ju(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Ii,{keyPath:"compositeKey"})}}}catch(n){e(Bt.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}})}class e4{constructor(e,n,r,s=ZF()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=s}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,s)=>{const u=n.transaction([Ii],"readonly").objectStore(Ii),h=this.createCompositeKey(e);try{const f=u.get(h);f.onerror=p=>{s(Ju(p,"storage-get"))},f.onsuccess=p=>{const m=p.target.result;r(m?m.value:void 0)}}catch(f){s(Bt.create("storage-get",{originalErrorMessage:f==null?void 0:f.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((s,a)=>{const h=r.transaction([Ii],"readwrite").objectStore(Ii),f=this.createCompositeKey(e);try{const p=h.put({compositeKey:f,value:n});p.onerror=m=>{a(Ju(m,"storage-set"))},p.onsuccess=()=>{s()}}catch(p){a(Bt.create("storage-set",{originalErrorMessage:p==null?void 0:p.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,s)=>{const u=n.transaction([Ii],"readwrite").objectStore(Ii),h=this.createCompositeKey(e);try{const f=u.delete(h);f.onerror=p=>{s(Ju(p,"storage-delete"))},f.onsuccess=()=>{r()}}catch(f){s(Bt.create("storage-delete",{originalErrorMessage:f==null?void 0:f.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),s=await e;s&&(this.lastFetchStatus=s);const a=await n;a&&(this.lastSuccessfulFetchTimestampMillis=a);const u=await r;u&&(this.activeConfig=u)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){fn(new tn(jF,t,"PUBLIC").setMultipleInstances(!0)),et(Jd,W0),et(Jd,W0,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bt.create("registration-window");if(!ZE())throw Bt.create("indexed-db-unavailable");const{projectId:a,apiKey:u,appId:h}=r.options;if(!a)throw Bt.create("registration-project-id");if(!u)throw Bt.create("registration-api-key");if(!h)throw Bt.create("registration-app-id");n=n||"firebase";const f=new e4(h,r.name,n),p=new t4(f),m=new Ka(Jd);m.logLevel=be.ERROR;const v=new WF(s,yr,n,a,u,h),y=new GF(v,f),w=new BF(y,f,p,m),S=new YF(r,w,p,f,m);return $F(S),S}}n4();var tg=function(t,e){return tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},tg(t,e)};function wr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function r4(t,e,n,r){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(r.next(m))}catch(v){u(v)}}function f(m){try{p(r.throw(m))}catch(v){u(v)}}function p(m){m.done?a(m.value):s(m.value).then(h,f)}p((r=r.apply(t,[])).next())})}function PT(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(m){p=[6,m],s=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Vs(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ws(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],u;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(h){u={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return a}function Hs(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Os(t){return this instanceof Os?(this.v=t,this):new Os(t)}function i4(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(y){r[y]&&(s[y]=function(w){return new Promise(function(S,I){a.push([y,w,S,I])>1||h(y,w)})})}function h(y,w){try{f(r[y](w))}catch(S){v(a[0][3],S)}}function f(y){y.value instanceof Os?Promise.resolve(y.value.v).then(p,m):v(a[0][2],y)}function p(y){h("next",y)}function m(y){h("throw",y)}function v(y,w){y(w),a.shift(),a.length&&h(a[0][0],a[0][1])}}function s4(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vs=="function"?Vs(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(u){return new Promise(function(h,f){u=t[a](u),s(h,f,u.done,u.value)})}}function s(a,u,h,f){Promise.resolve(f).then(function(p){a({value:p,done:h})},u)}}function it(t){return typeof t=="function"}function Um(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zd=Um(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Dc(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pl=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,s,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var h=Vs(u),f=h.next();!f.done;f=h.next()){var p=f.value;p.remove(this)}}catch(I){e={error:I}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}else u.remove(this);var m=this.initialTeardown;if(it(m))try{m()}catch(I){a=I instanceof Zd?I.errors:[I]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var y=Vs(v),w=y.next();!w.done;w=y.next()){var S=w.value;try{H0(S)}catch(I){a=a??[],I instanceof Zd?a=Hs(Hs([],Ws(a)),Ws(I.errors)):a.push(I)}}}catch(I){r={error:I}}finally{try{w&&!w.done&&(s=y.return)&&s.call(y)}finally{if(r)throw r.error}}}if(a)throw new Zd(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)H0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Dc(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Dc(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),NT=pl.EMPTY;function AT(t){return t instanceof pl||t&&"closed"in t&&it(t.remove)&&it(t.add)&&it(t.unsubscribe)}function H0(t){it(t)?t():t.unsubscribe()}var o4={Promise:void 0},a4={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Hs([t,e],Ws(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function xT(t){a4.setTimeout(function(){throw t})}function q0(){}function Zu(t){t()}var jm=function(t){wr(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,AT(n)&&n.add(r)):r.destination=c4,r}return e.create=function(n,r,s){return new za(n,r,s)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(pl),l4=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){ju(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){ju(r)}else ju(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){ju(n)}},t}(),za=function(t){wr(e,t);function e(n,r,s){var a=t.call(this)||this,u;return it(n)||!n?u={next:n??void 0,error:r??void 0,complete:s??void 0}:u=n,a.destination=new l4(u),a}return e}(jm);function ju(t){xT(t)}function u4(t){throw t}var c4={closed:!0,next:q0,error:u4,complete:q0},zm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function bT(t){return t}function h4(t){return t.length===0?bT:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var qt=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var s=this,a=d4(e)?e:new za(e,n,r);return Zu(function(){var u=s,h=u.operator,f=u.source;a.add(h?h.call(a,f):f?s._subscribe(a):s._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=G0(n),new n(function(s,a){var u=new za({next:function(h){try{e(h)}catch(f){a(f),u.unsubscribe()}},error:a,complete:s});r.subscribe(u)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[zm]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return h4(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=G0(e),new e(function(r,s){var a;n.subscribe(function(u){return a=u},function(u){return s(u)},function(){return r(a)})})},t.create=function(e){return new t(e)},t}();function G0(t){var e;return(e=t??o4.Promise)!==null&&e!==void 0?e:Promise}function f4(t){return t&&it(t.next)&&it(t.error)&&it(t.complete)}function d4(t){return t&&t instanceof jm||f4(t)&&AT(t)}function p4(t){return it(t==null?void 0:t.lift)}function so(t){return function(e){if(p4(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $a(t,e,n,r,s){return new g4(t,e,n,r,s)}var g4=function(t){wr(e,t);function e(n,r,s,a,u,h){var f=t.call(this,n)||this;return f.onFinalize=u,f.shouldUnsubscribe=h,f._next=r?function(p){try{r(p)}catch(m){n.error(m)}}:t.prototype._next,f._error=a?function(p){try{a(p)}catch(m){n.error(m)}finally{this.unsubscribe()}}:t.prototype._error,f._complete=s?function(){try{s()}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._complete,f}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(jm),m4=Um(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ih=function(t){wr(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new K0(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new m4},e.prototype.next=function(n){var r=this;Zu(function(){var s,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var u=Vs(r.currentObservers),h=u.next();!h.done;h=u.next()){var f=h.value;f.next(n)}}catch(p){s={error:p}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}}})},e.prototype.error=function(n){var r=this;Zu(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},e.prototype.complete=function(){var n=this;Zu(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,s=this,a=s.hasError,u=s.isStopped,h=s.observers;return a||u?NT:(this.currentObservers=null,h.push(n),new pl(function(){r.currentObservers=null,Dc(h,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,a=r.thrownError,u=r.isStopped;s?n.error(a):u&&n.complete()},e.prototype.asObservable=function(){var n=new qt;return n.source=this,n},e.create=function(n,r){return new K0(n,r)},e}(qt),K0=function(t){wr(e,t);function e(n,r){var s=t.call(this)||this;return s.destination=n,s.source=r,s}return e.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},e.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:NT},e}(Ih),$m={now:function(){return($m.delegate||Date).now()},delegate:void 0},v4=function(t){wr(e,t);function e(n,r,s){n===void 0&&(n=1/0),r===void 0&&(r=1/0),s===void 0&&(s=$m);var a=t.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=s,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return e.prototype.next=function(n){var r=this,s=r.isStopped,a=r._buffer,u=r._infiniteTimeWindow,h=r._timestampProvider,f=r._windowTime;s||(a.push(n),!u&&a.push(h.now()+f)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),s=this,a=s._infiniteTimeWindow,u=s._buffer,h=u.slice(),f=0;f<h.length&&!n.closed;f+=a?1:2)n.next(h[f]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,s=n._timestampProvider,a=n._buffer,u=n._infiniteTimeWindow,h=(u?1:2)*r;if(r<1/0&&h<a.length&&a.splice(0,a.length-h),!u){for(var f=s.now(),p=0,m=1;m<a.length&&a[m]<=f;m+=2)p=m;p&&a.splice(0,p+1)}},e}(Ih),y4=function(t){wr(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(pl),ng={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=ng.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,Hs([t,e],Ws(n))):setInterval.apply(void 0,Hs([t,e],Ws(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},_4=function(t){wr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.scheduler=n,s.work=r,s.pending=!1,s}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,a=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(a,s,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(a,this.id,r),this},e.prototype.requestAsyncId=function(n,r,s){return s===void 0&&(s=0),ng.setInterval(n.flush.bind(n,this),s)},e.prototype.recycleAsyncId=function(n,r,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return r;ng.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(n,r);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var s=!1,a;try{this.work(n)}catch(u){s=!0,a=u||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,s=n.scheduler,a=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Dc(a,this),r!=null&&(this.id=this.recycleAsyncId(s,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(y4),Q0=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=$m.now,t}(),w4=function(t){wr(e,t);function e(n,r){r===void 0&&(r=Q0.now);var s=t.call(this,n,r)||this;return s.actions=[],s._active=!1,s._scheduled=void 0,s}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var s;this._active=!0;do if(s=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,s){for(;n=r.shift();)n.unsubscribe();throw s}},e}(Q0);new w4(_4);var E4=new qt(function(t){return t.complete()});function S4(t){return t?C4(t):E4}function C4(t){return new qt(function(e){return t.schedule(function(){return e.complete()})})}function I4(t){return t&&it(t.schedule)}function T4(t){return t[t.length-1]}function k4(t){return I4(T4(t))?t.pop():void 0}var OT=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function DT(t){return it(t==null?void 0:t.then)}function MT(t){return it(t[zm])}function LT(t){return Symbol.asyncIterator&&it(t==null?void 0:t[Symbol.asyncIterator])}function FT(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function R4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var UT=R4();function jT(t){return it(t==null?void 0:t[UT])}function zT(t){return i4(this,arguments,function(){var e,n,r,s;return PT(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Os(e.read())];case 3:return n=a.sent(),r=n.value,s=n.done,s?[4,Os(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Os(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function $T(t){return it(t==null?void 0:t.getReader)}function oo(t){if(t instanceof qt)return t;if(t!=null){if(MT(t))return P4(t);if(OT(t))return N4(t);if(DT(t))return A4(t);if(LT(t))return BT(t);if(jT(t))return x4(t);if($T(t))return b4(t)}throw FT(t)}function P4(t){return new qt(function(e){var n=t[zm]();if(it(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function N4(t){return new qt(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function A4(t){return new qt(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,xT)})}function x4(t){return new qt(function(e){var n,r;try{for(var s=Vs(t),a=s.next();!a.done;a=s.next()){var u=a.value;if(e.next(u),e.closed)return}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.complete()})}function BT(t){return new qt(function(e){O4(t,e).catch(function(n){return e.error(n)})})}function b4(t){return BT(zT(t))}function O4(t,e){var n,r,s,a;return r4(this,void 0,void 0,function(){var u,h;return PT(this,function(f){switch(f.label){case 0:f.trys.push([0,5,6,11]),n=s4(t),f.label=1;case 1:return[4,n.next()];case 2:if(r=f.sent(),!!r.done)return[3,4];if(u=r.value,e.next(u),e.closed)return[2];f.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h=f.sent(),s={error:h},[3,11];case 6:return f.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Di(t,e,n,r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var a=e.schedule(function(){n(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!s)return a}function VT(t,e){return e===void 0&&(e=0),so(function(n,r){n.subscribe($a(r,function(s){return Di(r,t,function(){return r.next(s)},e)},function(){return Di(r,t,function(){return r.complete()},e)},function(s){return Di(r,t,function(){return r.error(s)},e)}))})}function WT(t,e){return e===void 0&&(e=0),so(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function D4(t,e){return oo(t).pipe(WT(e),VT(e))}function M4(t,e){return oo(t).pipe(WT(e),VT(e))}function L4(t,e){return new qt(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function F4(t,e){return new qt(function(n){var r;return Di(n,e,function(){r=t[UT](),Di(n,e,function(){var s,a,u;try{s=r.next(),a=s.value,u=s.done}catch(h){n.error(h);return}u?n.complete():n.next(a)},0,!0)}),function(){return it(r==null?void 0:r.return)&&r.return()}})}function HT(t,e){if(!t)throw new Error("Iterable cannot be null");return new qt(function(n){Di(n,e,function(){var r=t[Symbol.asyncIterator]();Di(n,e,function(){r.next().then(function(s){s.done?n.complete():n.next(s.value)})},0,!0)})})}function U4(t,e){return HT(zT(t),e)}function j4(t,e){if(t!=null){if(MT(t))return D4(t,e);if(OT(t))return L4(t,e);if(DT(t))return M4(t,e);if(LT(t))return HT(t,e);if(jT(t))return F4(t,e);if($T(t))return U4(t,e)}throw FT(t)}function z4(t,e){return e?j4(t,e):oo(t)}function Y0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=k4(t);return z4(t,n)}Um(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function qT(t){return so(function(e,n){var r=null,s=!1,a;r=e.subscribe($a(n,void 0,void 0,function(u){a=oo(t(u,qT(t)(e))),r?(r.unsubscribe(),r=null,a.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,a.subscribe(n))})}function $4(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new Ih}:e,r=t.resetOnError,s=r===void 0?!0:r,a=t.resetOnComplete,u=a===void 0?!0:a,h=t.resetOnRefCountZero,f=h===void 0?!0:h;return function(p){var m,v,y,w=0,S=!1,I=!1,C=function(){v==null||v.unsubscribe(),v=void 0},R=function(){C(),m=y=void 0,S=I=!1},j=function(){var k=m;R(),k==null||k.unsubscribe()};return so(function(k,E){w++,!I&&!S&&C();var P=y=y??n();E.add(function(){w--,w===0&&!I&&!S&&(v=ep(j,f))}),P.subscribe(E),!m&&w>0&&(m=new za({next:function(O){return P.next(O)},error:function(O){I=!0,C(),v=ep(R,s,O),P.error(O)},complete:function(){S=!0,C(),v=ep(R,u),P.complete()}}),oo(k).subscribe(m))})(p)}}function ep(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var s=new za({next:function(){s.unsubscribe(),t()}});return e.apply(void 0,Hs([],Ws(n))).subscribe(s)}}function B4(t,e,n){var r,s=!1;return r=t,$4({connector:function(){return new v4(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function V4(t,e){return so(function(n,r){var s=null,a=0,u=!1,h=function(){return u&&!s&&r.complete()};n.subscribe($a(r,function(f){s==null||s.unsubscribe();var p=0,m=a++;oo(t(f,m)).subscribe(s=$a(r,function(v){return r.next(e?e(f,v,m,p++):v)},function(){s=null,h()}))},function(){u=!0,h()}))})}function W4(t,e,n){var r=it(t)||e||n?{next:t,error:e,complete:n}:t;return r?so(function(s,a){var u;(u=r.subscribe)===null||u===void 0||u.call(r);var h=!0;s.subscribe($a(a,function(f){var p;(p=r.next)===null||p===void 0||p.call(r,f),a.next(f)},function(){var f;h=!1,(f=r.complete)===null||f===void 0||f.call(r),a.complete()},function(f){var p;h=!1,(p=r.error)===null||p===void 0||p.call(r,f),a.error(f)},function(){var f,p;h&&((f=r.unsubscribe)===null||f===void 0||f.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):bT}function GT(t){return new qt(function(e){var n=NS(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}const H4="[DEFAULT]",KT=L.createContext(void 0),QT=L.createContext(!1),q4="4.2.3",G4=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function K4(t){const{firebaseConfig:e,appName:n,suspense:r}=t,s=L.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const a=_A().find(u=>u.name===(n||H4));if(a){if(e&&G4(a.options,e))return a;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const u=L.version||"unknown";return et("react",u),et("reactfire",q4),wg(e,n)}},[t.firebaseApp,e,n]);return L.createElement(KT.Provider,{value:s},L.createElement(QT.Provider,Object.assign({value:r??!1},t)))}function Q4(t){let e=L.useContext(QT);return t!==void 0?t:e}function Y4(){const t=L.useContext(KT);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function YT(t){const e=ek(),n=`auth:user:${e.name}`,r=GT(e);return JT(n,r,t)}function XT(t){const e=ek();let n=`auth:signInCheck:${e.name}::forceRefresh:false`;const r=GT(e).pipe(V4(s=>Y0(s?{signedIn:!0,hasRequiredClaims:!0,errors:{},user:s}:{signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})));return JT(n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi,ki;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(ki||(ki={}));Object.freeze((wi={},wi[ki.added]=TM,wi[ki.removed]=PM,wi[ki.changed]=kM,wi[ki.moved]=RM,wi[ki.value]=IM,wi));const X4=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=X4);class J4 extends Ih{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(W4({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),qT(()=>S4()),B4(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const Z4=3e4,ec=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=ec);function eU(t,e){if(ec.has(e))return ec.get(e);{const n=new J4(t,Z4);return ec.set(e,n),n}}function tU(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function JT(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const s=eU(e,t),a=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),u=s.hasValue||a;if(Q4(n.suspense)===!0&&!u)throw s.firstEmission;const h={status:u?"success":"loading",hasEmitted:u,isComplete:!1,data:s.hasValue?s.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:s.ourError,firstValuePromise:s.firstEmission},[f,p]=L.useReducer(tU(s),h);return L.useEffect(()=>{const m=s.subscribe({next:()=>{p("value")},error:v=>{throw p("error"),v},complete:()=>{p("complete")}});return()=>m.unsubscribe()},[s]),f}const nU=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=nU);L.createContext(void 0);const ZT=L.createContext(void 0);L.createContext(void 0);L.createContext(void 0);const rU=L.createContext(void 0);L.createContext(void 0);const iU=L.createContext(void 0);L.createContext(void 0);L.createContext(void 0);function Bm(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const s=Y4().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==s)throw new Error("sdk was initialized with a different firebase app");return L.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function sU(t){const e=L.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const oU=Bm(ZT),aU=Bm(rU),lU=Bm(iU),ek=()=>sU(ZT);var tp={exports:{}},np={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function uU(){if(X0)return np;X0=1;var t=Vc();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,a=t.useEffect,u=t.useMemo,h=t.useDebugValue;return np.useSyncExternalStoreWithSelector=function(f,p,m,v,y){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function C(P){if(!R){if(R=!0,j=P,P=v(P),y!==void 0&&S.hasValue){var O=S.value;if(y(O,P))return k=O}return k=P}if(O=k,n(j,P))return O;var $=v(P);return y!==void 0&&y(O,$)?(j=P,O):(j=P,k=$)}var R=!1,j,k,E=m===void 0?null:m;return[function(){return C(p())},E===null?void 0:function(){return C(E())}]},[p,m,v,y]);var I=r(f,w[0],w[1]);return a(function(){S.hasValue=!0,S.value=I},[I]),h(I),I},np}var J0;function cU(){return J0||(J0=1,tp.exports=uU()),tp.exports}var hU=cU();function tk(t){t()}function fU(){let t=null,e=null;return{clear(){t=null,e=null},notify(){tk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var Z0={notify(){},get:()=>[]};function dU(t,e){let n,r=Z0,s=0,a=!1;function u(I){m();const C=r.subscribe(I);let R=!1;return()=>{R||(R=!0,C(),v())}}function h(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function p(){return a}function m(){s++,n||(n=t.subscribe(f),r=fU())}function v(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Z0)}function y(){a||(a=!0,m())}function w(){a&&(a=!1,v())}const S={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:p,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return S}var pU=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gU=pU(),mU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vU=mU(),yU=()=>gU||vU?L.useLayoutEffect:L.useEffect,_U=yU();function eE(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function pa(t,e){if(eE(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!eE(t[n[s]],e[n[s]]))return!1;return!0}var rp=Symbol.for("react-redux-context"),ip=typeof globalThis<"u"?globalThis:{};function wU(){if(!L.createContext)return{};const t=ip[rp]??(ip[rp]=new Map);let e=t.get(L.createContext);return e||(e=L.createContext(null),t.set(L.createContext,e)),e}var ei=wU();function EU(t){const{children:e,context:n,serverState:r,store:s}=t,a=L.useMemo(()=>{const f=dU(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),u=L.useMemo(()=>s.getState(),[s]);_U(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,u]);const h=n||ei;return L.createElement(h.Provider,{value:a},e)}var SU=EU;function Vm(t=ei){return function(){return L.useContext(t)}}var nk=Vm();function rk(t=ei){const e=t===ei?nk:Vm(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var ik=rk();function CU(t=ei){const e=t===ei?ik:rk(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ao=CU(),IU=(t,e)=>t===e;function TU(t=ei){const e=t===ei?nk:Vm(t),n=(r,s={})=>{const{equalityFn:a=IU}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:f,getServerState:p}=u;L.useRef(!0);const m=L.useCallback({[r.name](y){return r(y)}}[r.name],[r]),v=hU.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,p||h.getState,m,a);return L.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var qs=TU(),kU=tk;function mt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RU=typeof Symbol=="function"&&Symbol.observable||"@@observable",tE=RU,sp=()=>Math.random().toString(36).substring(7).split("").join("."),PU={INIT:`@@redux/INIT${sp()}`,REPLACE:`@@redux/REPLACE${sp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sp()}`},Mc=PU;function ti(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function sk(t,e,n){if(typeof t!="function")throw new Error(mt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mt(1));return n(sk)(t,e)}let r=t,s=e,a=new Map,u=a,h=0,f=!1;function p(){u===a&&(u=new Map,a.forEach((C,R)=>{u.set(R,C)}))}function m(){if(f)throw new Error(mt(3));return s}function v(C){if(typeof C!="function")throw new Error(mt(4));if(f)throw new Error(mt(5));let R=!0;p();const j=h++;return u.set(j,C),function(){if(R){if(f)throw new Error(mt(6));R=!1,p(),u.delete(j),a=null}}}function y(C){if(!ti(C))throw new Error(mt(7));if(typeof C.type>"u")throw new Error(mt(8));if(typeof C.type!="string")throw new Error(mt(17));if(f)throw new Error(mt(9));try{f=!0,s=r(s,C)}finally{f=!1}return(a=u).forEach(j=>{j()}),C}function w(C){if(typeof C!="function")throw new Error(mt(10));r=C,y({type:Mc.REPLACE})}function S(){const C=v;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(mt(11));function j(){const E=R;E.next&&E.next(m())}return j(),{unsubscribe:C(j)}},[tE](){return this}}}return y({type:Mc.INIT}),{dispatch:y,subscribe:v,getState:m,replaceReducer:w,[tE]:S}}function NU(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Mc.INIT})>"u")throw new Error(mt(12));if(typeof n(void 0,{type:Mc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mt(13))})}function ok(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const u=e[a];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let s;try{NU(n)}catch(a){s=a}return function(u={},h){if(s)throw s;let f=!1;const p={};for(let m=0;m<r.length;m++){const v=r[m],y=n[v],w=u[v],S=y(w,h);if(typeof S>"u")throw h&&h.type,new Error(mt(14));p[v]=S,f=f||S!==w}return f=f||r.length!==Object.keys(u).length,f?p:u}}function Lc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function AU(...t){return e=>(n,r)=>{const s=e(n,r);let a=()=>{throw new Error(mt(15))};const u={getState:s.getState,dispatch:(f,...p)=>a(f,...p)},h=t.map(f=>f(u));return a=Lc(...h)(s.dispatch),{...s,dispatch:a}}}function ak(t){return ti(t)&&"type"in t&&typeof t.type=="string"}var Wm=Symbol.for("immer-nothing"),ga=Symbol.for("immer-draftable"),Gt=Symbol.for("immer-state");function yt(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wi=Object.getPrototypeOf;function qn(t){return!!t&&!!t[Gt]}function bn(t){var e;return t?lk(t)||Array.isArray(t)||!!t[ga]||!!((e=t.constructor)!=null&&e[ga])||gl(t)||ml(t):!1}var xU=Object.prototype.constructor.toString();function lk(t){if(!t||typeof t!="object")return!1;const e=Wi(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===xU}function bU(t){return qn(t)||yt(15,t),t[Gt].base_}function Ba(t,e){Hi(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Hi(t){const e=t[Gt];return e?e.type_:Array.isArray(t)?1:gl(t)?2:ml(t)?3:0}function Va(t,e){return Hi(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function op(t,e){return Hi(t)===2?t.get(e):t[e]}function uk(t,e,n){const r=Hi(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function OU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gl(t){return t instanceof Map}function ml(t){return t instanceof Set}function Ti(t){return t.copy_||t.base_}function rg(t,e){if(gl(t))return new Map(t);if(ml(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=lk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Gt];let s=Reflect.ownKeys(r);for(let a=0;a<s.length;a++){const u=s[a],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[u]})}return Object.create(Wi(t),r)}else{const r=Wi(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function Hm(t,e=!1){return Th(t)||qn(t)||!bn(t)||(Hi(t)>1&&(t.set=t.add=t.clear=t.delete=DU),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Hm(r,!0))),t}function DU(){yt(2)}function Th(t){return Object.isFrozen(t)}var ig={};function qi(t){const e=ig[t];return e||yt(0,t),e}function MU(t,e){ig[t]||(ig[t]=e)}var Wa;function ck(){return Wa}function LU(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nE(t,e){e&&(qi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function sg(t){og(t),t.drafts_.forEach(FU),t.drafts_=null}function og(t){t===Wa&&(Wa=t.parent_)}function rE(t){return Wa=LU(Wa,t)}function FU(t){const e=t[Gt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Gt].modified_&&(sg(e),yt(4)),bn(t)&&(t=Fc(e,t),e.parent_||Uc(e,t)),e.patches_&&qi("Patches").generateReplacementPatches_(n[Gt].base_,t,e.patches_,e.inversePatches_)):t=Fc(e,n,[]),sg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Wm?t:void 0}function Fc(t,e,n){if(Th(e))return e;const r=e[Gt];if(!r)return Ba(e,(s,a)=>sE(t,r,e,s,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Uc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,u=!1;r.type_===3&&(a=new Set(s),s.clear(),u=!0),Ba(a,(h,f)=>sE(t,r,s,h,f,n,u)),Uc(t,s,!1),n&&t.patches_&&qi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function sE(t,e,n,r,s,a,u){if(qn(s)){const h=a&&e&&e.type_!==3&&!Va(e.assigned_,r)?a.concat(r):void 0,f=Fc(t,s,h);if(uk(n,r,f),qn(f))t.canAutoFreeze_=!1;else return}else u&&n.add(s);if(bn(s)&&!Th(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fc(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Uc(t,s)}}function Uc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Hm(e,n)}function UU(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ck(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=qm;n&&(s=[r],a=Ha);const{revoke:u,proxy:h}=Proxy.revocable(s,a);return r.draft_=h,r.revoke_=u,h}var qm={get(t,e){if(e===Gt)return t;const n=Ti(t);if(!Va(n,e))return jU(t,n,e);const r=n[e];return t.finalized_||!bn(r)?r:r===ap(t.base_,e)?(lp(t),t.copy_[e]=lg(r,t)):r},has(t,e){return e in Ti(t)},ownKeys(t){return Reflect.ownKeys(Ti(t))},set(t,e,n){const r=hk(Ti(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=ap(Ti(t),e),a=s==null?void 0:s[Gt];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(OU(n,s)&&(n!==void 0||Va(t.base_,e)))return!0;lp(t),ag(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ap(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,lp(t),ag(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ti(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){yt(11)},getPrototypeOf(t){return Wi(t.base_)},setPrototypeOf(){yt(12)}},Ha={};Ba(qm,(t,e)=>{Ha[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ha.deleteProperty=function(t,e){return Ha.set.call(this,t,e,void 0)};Ha.set=function(t,e,n){return qm.set.call(this,t[0],e,n,t[0])};function ap(t,e){const n=t[Gt];return(n?Ti(n):t)[e]}function jU(t,e,n){var s;const r=hk(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function hk(t,e){if(!(e in t))return;let n=Wi(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wi(n)}}function ag(t){t.modified_||(t.modified_=!0,t.parent_&&ag(t.parent_))}function lp(t){t.copy_||(t.copy_=rg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const u=this;return function(f=a,...p){return u.produce(f,m=>n.call(this,m,...p))}}typeof n!="function"&&yt(6),r!==void 0&&typeof r!="function"&&yt(7);let s;if(bn(e)){const a=rE(this),u=lg(e,void 0);let h=!0;try{s=n(u),h=!1}finally{h?sg(a):og(a)}return nE(a,r),iE(s,a)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===Wm&&(s=void 0),this.autoFreeze_&&Hm(s,!0),r){const a=[],u=[];qi("Patches").generateReplacementPatches_(e,s,a,u),r(a,u)}return s}else yt(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,f=>e(f,...h));let r,s;return[this.produce(e,n,(u,h)=>{r=u,s=h}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){bn(t)||yt(8),qn(t)&&(t=$U(t));const e=rE(this),n=lg(t,void 0);return n[Gt].isManual_=!0,og(e),n}finishDraft(t,e){const n=t&&t[Gt];(!n||!n.isManual_)&&yt(9);const{scope_:r}=n;return nE(r,e),iE(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=qi("Patches").applyPatches_;return qn(t)?r(t,e):this.produce(t,s=>r(s,e))}};function lg(t,e){const n=gl(t)?qi("MapSet").proxyMap_(t,e):ml(t)?qi("MapSet").proxySet_(t,e):UU(t,e);return(e?e.scope_:ck()).drafts_.push(n),n}function $U(t){return qn(t)||yt(10,t),fk(t)}function fk(t){if(!bn(t)||Th(t))return t;const e=t[Gt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=rg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=rg(t,!0);return Ba(n,(r,s)=>{uk(n,r,fk(s))}),e&&(e.finalized_=!1),n}function BU(){const e="replace",n="add",r="remove";function s(y,w,S,I){switch(y.type_){case 0:case 2:return u(y,w,S,I);case 1:return a(y,w,S,I);case 3:return h(y,w,S,I)}}function a(y,w,S,I){let{base_:C,assigned_:R}=y,j=y.copy_;j.length<C.length&&([C,j]=[j,C],[S,I]=[I,S]);for(let k=0;k<C.length;k++)if(R[k]&&j[k]!==C[k]){const E=w.concat([k]);S.push({op:e,path:E,value:v(j[k])}),I.push({op:e,path:E,value:v(C[k])})}for(let k=C.length;k<j.length;k++){const E=w.concat([k]);S.push({op:n,path:E,value:v(j[k])})}for(let k=j.length-1;C.length<=k;--k){const E=w.concat([k]);I.push({op:r,path:E})}}function u(y,w,S,I){const{base_:C,copy_:R}=y;Ba(y.assigned_,(j,k)=>{const E=op(C,j),P=op(R,j),O=k?Va(C,j)?e:n:r;if(E===P&&O===e)return;const $=w.concat(j);S.push(O===r?{op:O,path:$}:{op:O,path:$,value:P}),I.push(O===n?{op:r,path:$}:O===r?{op:n,path:$,value:v(E)}:{op:e,path:$,value:v(E)})})}function h(y,w,S,I){let{base_:C,copy_:R}=y,j=0;C.forEach(k=>{if(!R.has(k)){const E=w.concat([j]);S.push({op:r,path:E,value:k}),I.unshift({op:n,path:E,value:k})}j++}),j=0,R.forEach(k=>{if(!C.has(k)){const E=w.concat([j]);S.push({op:n,path:E,value:k}),I.unshift({op:r,path:E,value:k})}j++})}function f(y,w,S,I){S.push({op:e,path:[],value:w===Wm?void 0:w}),I.push({op:e,path:[],value:y})}function p(y,w){return w.forEach(S=>{const{path:I,op:C}=S;let R=y;for(let P=0;P<I.length-1;P++){const O=Hi(R);let $=I[P];typeof $!="string"&&typeof $!="number"&&($=""+$),(O===0||O===1)&&($==="__proto__"||$==="constructor")&&yt(19),typeof R=="function"&&$==="prototype"&&yt(19),R=op(R,$),typeof R!="object"&&yt(18,I.join("/"))}const j=Hi(R),k=m(S.value),E=I[I.length-1];switch(C){case e:switch(j){case 2:return R.set(E,k);case 3:yt(16);default:return R[E]=k}case n:switch(j){case 1:return E==="-"?R.push(k):R.splice(E,0,k);case 2:return R.set(E,k);case 3:return R.add(k);default:return R[E]=k}case r:switch(j){case 1:return R.splice(E,1);case 2:return R.delete(E);case 3:return R.delete(S.value);default:return delete R[E]}default:yt(17,C)}}),y}function m(y){if(!bn(y))return y;if(Array.isArray(y))return y.map(m);if(gl(y))return new Map(Array.from(y.entries()).map(([S,I])=>[S,m(I)]));if(ml(y))return new Set(Array.from(y).map(m));const w=Object.create(Wi(y));for(const S in y)w[S]=m(y[S]);return Va(y,ga)&&(w[ga]=y[ga]),w}function v(y){return qn(y)?m(y):y}MU("Patches",{applyPatches_:p,generatePatches_:s,generateReplacementPatches_:f})}var nn=new zU,vl=nn.produce,dk=nn.produceWithPatches.bind(nn);nn.setAutoFreeze.bind(nn);nn.setUseStrictShallowCopy.bind(nn);var oE=nn.applyPatches.bind(nn);nn.createDraft.bind(nn);nn.finishDraft.bind(nn);function VU(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function WU(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function HU(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var aE=t=>Array.isArray(t)?t:[t];function qU(t){const e=Array.isArray(t[0])?t[0]:t;return HU(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function GU(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var KU=class{constructor(t){this.value=t}deref(){return this.value}},QU=typeof WeakRef<"u"?WeakRef:KU,YU=0,lE=1;function zu(){return{s:YU,v:void 0,o:null,p:null}}function jc(t,e={}){let n=zu();const{resultEqualityCheck:r}=e;let s,a=0;function u(){var v;let h=n;const{length:f}=arguments;for(let y=0,w=f;y<w;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let I=h.o;I===null&&(h.o=I=new WeakMap);const C=I.get(S);C===void 0?(h=zu(),I.set(S,h)):h=C}else{let I=h.p;I===null&&(h.p=I=new Map);const C=I.get(S);C===void 0?(h=zu(),I.set(S,h)):h=C}}const p=h;let m;if(h.s===lE)m=h.v;else if(m=t.apply(null,arguments),a++,r){const y=((v=s==null?void 0:s.deref)==null?void 0:v.call(s))??s;y!=null&&r(y,m)&&(m=y,a!==0&&a--),s=typeof m=="object"&&m!==null||typeof m=="function"?new QU(m):m}return p.s=lE,p.v=m,m}return u.clearCache=()=>{n=zu(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}function XU(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let a=0,u=0,h,f={},p=s.pop();typeof p=="object"&&(f=p,p=s.pop()),VU(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const m={...n,...f},{memoize:v,memoizeOptions:y=[],argsMemoize:w=jc,argsMemoizeOptions:S=[]}=m,I=aE(y),C=aE(S),R=qU(s),j=v(function(){return a++,p.apply(null,arguments)},...I),k=w(function(){u++;const P=GU(R,arguments);return h=j.apply(null,P),h},...C);return Object.assign(k,{resultFunc:p,memoizedResultFunc:j,dependencies:R,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>h,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:v,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var yl=XU(jc),JU=Object.assign((t,e=yl)=>{WU(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((u,h,f)=>(u[n[f]]=h,u),{}))},{withTypes:()=>JU});function pk(t){return({dispatch:n,getState:r})=>s=>a=>typeof a=="function"?a(n,r,t):s(a)}var ZU=pk(),ej=pk,tj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lc:Lc.apply(null,arguments)},nj=t=>t&&typeof t.match=="function";function An(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(xn(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>ak(r)&&r.type===t,n}var gk=class oa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,oa.prototype)}static get[Symbol.species](){return oa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new oa(...e[0].concat(this)):new oa(...e.concat(this))}};function uE(t){return bn(t)?vl(t,()=>{}):t}function $u(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function rj(t){return typeof t=="boolean"}var ij=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{};let u=new gk;return n&&(rj(n)?u.push(ZU):u.push(ej(n.extraArgument))),u},kh="RTK_autoBatch",ta=()=>t=>({payload:t,meta:{[kh]:!0}}),cE=t=>e=>{setTimeout(e,t)},sj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,a=!1,u=!1;const h=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cE(10):t.type==="callback"?t.queueNotification:cE(t.timeout),p=()=>{u=!1,a&&(a=!1,h.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const v=()=>s&&m(),y=r.subscribe(v);return h.add(m),()=>{y(),h.delete(m)}},dispatch(m){var v;try{return s=!((v=m==null?void 0:m.meta)!=null&&v[kh]),a=!s,a&&(u||(u=!0,f(p))),r.dispatch(m)}finally{s=!0}}})},oj=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new gk(t);return r&&s.push(sj(typeof r=="object"?r:void 0)),s};function aj(t){const e=ij(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:a=void 0,enhancers:u=void 0}=t||{};let h;if(typeof n=="function")h=n;else if(ti(n))h=ok(n);else throw new Error(xn(1));let f;typeof r=="function"?f=r(e):f=e();let p=Lc;s&&(p=tj({trace:!1,...typeof s=="object"&&s}));const m=AU(...f),v=oj(m);let y=typeof u=="function"?u(v):v();const w=p(...y);return sk(h,a,w)}function mk(t){const e={},n=[];let r;const s={addCase(a,u){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(xn(28));if(h in e)throw new Error(xn(29));return e[h]=u,s},addMatcher(a,u){return n.push({matcher:a,reducer:u}),s},addDefaultCase(a){return r=a,s}};return t(s),[e,n,r]}function lj(t){return typeof t=="function"}function uj(t,e){let[n,r,s]=mk(e),a;if(lj(t))a=()=>uE(t());else{const h=uE(t);a=()=>h}function u(h=a(),f){let p=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return p.filter(m=>!!m).length===0&&(p=[s]),p.reduce((m,v)=>{if(v)if(qn(m)){const w=v(m,f);return w===void 0?m:w}else{if(bn(m))return vl(m,y=>v(y,f));{const y=v(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},h)}return u.getInitialState=a,u}var vk=(t,e)=>nj(t)?t.match(e):t(e);function pr(...t){return e=>t.some(n=>vk(n,e))}function ma(...t){return e=>t.every(n=>vk(n,e))}function Rh(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function _l(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Gm(...t){return t.length===0?e=>Rh(e,["pending"]):_l(t)?pr(...t.map(e=>e.pending)):Gm()(t[0])}function Gs(...t){return t.length===0?e=>Rh(e,["rejected"]):_l(t)?pr(...t.map(e=>e.rejected)):Gs()(t[0])}function Ph(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?ma(Gs(...t),e):_l(t)?ma(Gs(...t),e):Ph()(t[0])}function ni(...t){return t.length===0?e=>Rh(e,["fulfilled"]):_l(t)?pr(...t.map(e=>e.fulfilled)):ni()(t[0])}function ug(...t){return t.length===0?e=>Rh(e,["pending","fulfilled","rejected"]):_l(t)?pr(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):ug()(t[0])}var cj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Km=(t=21)=>{let e="",n=t;for(;n--;)e+=cj[Math.random()*64|0];return e},hj=["name","message","stack","code"],up=class{constructor(t,e){Pu(this,"_type");this.payload=t,this.meta=e}},hE=class{constructor(t,e){Pu(this,"_type");this.payload=t,this.meta=e}},fj=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of hj)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},fE="External signal was aborted",dE=(()=>{function t(e,n,r){const s=An(e+"/fulfilled",(f,p,m,v)=>({payload:f,meta:{...v||{},arg:m,requestId:p,requestStatus:"fulfilled"}})),a=An(e+"/pending",(f,p,m)=>({payload:void 0,meta:{...m||{},arg:p,requestId:f,requestStatus:"pending"}})),u=An(e+"/rejected",(f,p,m,v,y)=>({payload:v,error:(r&&r.serializeError||fj)(f||"Rejected"),meta:{...y||{},arg:m,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function h(f,{signal:p}={}){return(m,v,y)=>{const w=r!=null&&r.idGenerator?r.idGenerator(f):Km(),S=new AbortController;let I,C;function R(k){C=k,S.abort()}p&&(p.aborted?R(fE):p.addEventListener("abort",()=>R(fE),{once:!0}));const j=async function(){var P,O;let k;try{let $=(P=r==null?void 0:r.condition)==null?void 0:P.call(r,f,{getState:v,extra:y});if(pj($)&&($=await $),$===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const G=new Promise((M,b)=>{I=()=>{b({name:"AbortError",message:C||"Aborted"})},S.signal.addEventListener("abort",I)});m(a(w,f,(O=r==null?void 0:r.getPendingMeta)==null?void 0:O.call(r,{requestId:w,arg:f},{getState:v,extra:y}))),k=await Promise.race([G,Promise.resolve(n(f,{dispatch:m,getState:v,extra:y,requestId:w,signal:S.signal,abort:R,rejectWithValue:(M,b)=>new up(M,b),fulfillWithValue:(M,b)=>new hE(M,b)})).then(M=>{if(M instanceof up)throw M;return M instanceof hE?s(M.payload,w,f,M.meta):s(M,w,f)})])}catch($){k=$ instanceof up?u(null,w,f,$.payload,$.meta):u($,w,f)}finally{I&&S.signal.removeEventListener("abort",I)}return r&&!r.dispatchConditionRejection&&u.match(k)&&k.meta.condition||m(k),k}();return Object.assign(j,{abort:R,requestId:w,arg:f,unwrap(){return j.then(dj)}})}}return Object.assign(h,{pending:a,rejected:u,fulfilled:s,settled:pr(u,s),typePrefix:e})}return t.withTypes=()=>t,t})();function dj(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function pj(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var gj=Symbol.for("rtk-slice-createasyncthunk");function mj(t,e){return`${t}/${e}`}function vj({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[gj];return function(s){const{name:a,reducerPath:u=a}=s;if(!a)throw new Error(xn(11));const h=(typeof s.reducers=="function"?s.reducers(_j()):s.reducers)||{},f=Object.keys(h),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(E,P){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(xn(12));if(O in p.sliceCaseReducersByType)throw new Error(xn(13));return p.sliceCaseReducersByType[O]=P,m},addMatcher(E,P){return p.sliceMatchers.push({matcher:E,reducer:P}),m},exposeAction(E,P){return p.actionCreators[E]=P,m},exposeCaseReducer(E,P){return p.sliceCaseReducersByName[E]=P,m}};f.forEach(E=>{const P=h[E],O={reducerName:E,type:mj(a,E),createNotation:typeof s.reducers=="function"};Ej(P)?Cj(O,P,m,e):wj(O,P,m)});function v(){const[E={},P=[],O=void 0]=typeof s.extraReducers=="function"?mk(s.extraReducers):[s.extraReducers],$={...E,...p.sliceCaseReducersByType};return uj(s.initialState,G=>{for(let M in $)G.addCase(M,$[M]);for(let M of p.sliceMatchers)G.addMatcher(M.matcher,M.reducer);for(let M of P)G.addMatcher(M.matcher,M.reducer);O&&G.addDefaultCase(O)})}const y=E=>E,w=new Map,S=new WeakMap;let I;function C(E,P){return I||(I=v()),I(E,P)}function R(){return I||(I=v()),I.getInitialState()}function j(E,P=!1){function O(G){let M=G[E];return typeof M>"u"&&P&&(M=$u(S,O,R)),M}function $(G=y){const M=$u(w,P,()=>new WeakMap);return $u(M,G,()=>{const b={};for(const[D,F]of Object.entries(s.selectors??{}))b[D]=yj(F,G,()=>$u(S,G,R),P);return b})}return{reducerPath:E,getSelectors:$,get selectors(){return $(O)},selectSlice:O}}const k={name:a,reducer:C,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:R,...j(u),injectInto(E,{reducerPath:P,...O}={}){const $=P??u;return E.inject({reducerPath:$,reducer:C},O),{...k,...j($,!0)}}};return k}}function yj(t,e,n,r){function s(a,...u){let h=e(a);return typeof h>"u"&&r&&(h=n()),t(h,...u)}return s.unwrapped=t,s}var or=vj();function _j(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function wj({type:t,reducerName:e,createNotation:n},r,s){let a,u;if("reducer"in r){if(n&&!Sj(r))throw new Error(xn(17));a=r.reducer,u=r.prepare}else a=r;s.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,u?An(t,u):An(t))}function Ej(t){return t._reducerDefinitionType==="asyncThunk"}function Sj(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Cj({type:t,reducerName:e},n,r,s){if(!s)throw new Error(xn(18));const{payloadCreator:a,fulfilled:u,pending:h,rejected:f,settled:p,options:m}=n,v=s(t,a,m);r.exposeAction(e,v),u&&r.addCase(v.fulfilled,u),h&&r.addCase(v.pending,h),f&&r.addCase(v.rejected,f),p&&r.addMatcher(v.settled,p),r.exposeCaseReducer(e,{fulfilled:u||Bu,pending:h||Bu,rejected:f||Bu,settled:p||Bu})}function Bu(){}function xn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Ij={SearchTerm:""},yk=or({name:"search",initialState:Ij,reducers:{setSearchTerm:(t,e)=>{t.SearchTerm=e.payload},clearSearch:t=>{t.SearchTerm=""}}}),{setSearchTerm:pE,clearSearch:Tj}=yk.actions,kj=yk.reducer,Rj=()=>{const t=ao(),e=qs(r=>r.search.SearchTerm),n=r=>{r.preventDefault(),e.trim()!==""&&t(pE(e))};return Y.jsxs("form",{className:"navbar-search",onSubmit:n,children:[Y.jsx("input",{type:"text",placeholder:"Buscar juegos...",className:"search-input",value:e,onChange:r=>t(pE(r.target.value))}),Y.jsx("button",{type:"submit",className:"InputButton",children:"buscar"}),e&&Y.jsx("button",{type:"button",onClick:()=>t(Tj()),children:"X"})]})},Pj=()=>{const{data:t}=YT(),[e,n]=L.useState(!1);return Y.jsx("header",{className:"navbar-container",children:Y.jsxs("nav",{className:"navbar",children:[Y.jsx("div",{className:"navbar-left",children:Y.jsx(BE,{className:"logo",to:"/",children:" GameStorm"})}),Y.jsx(Rj,{}),Y.jsxs("div",{className:"navbar-right-wrapper",children:[Y.jsx("button",{className:"hamburger",onClick:()=>n(!e),children:""}),Y.jsx("div",{className:`navbar-right ${e?"open":""}`,children:t?Y.jsxs(Y.Fragment,{children:[Y.jsx(Au,{className:({isActive:r})=>r?"Active":"Inactive",to:"admin/favorites",children:"Favoritos"}),Y.jsx(Au,{className:({isActive:r})=>r?"Active":"Inactive",to:"/admin/usuario",children:"Mi Perfil"})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx(Au,{className:({isActive:r})=>r?"Active":"Inactive",to:"/auth/login",children:"Login"}),Y.jsx(Au,{className:({isActive:r})=>r?"Active":"Inactive",to:"/auth/register",children:"Register"})]})})]})]})})},Nj=t=>({scrollLeft:()=>{if(t.current){const r=t.current;r.scrollLeft<=0?r.scrollTo({left:r.scrollWidth,behavior:"smooth"}):r.scrollBy({left:-220,behavior:"smooth"})}},scrollRight:()=>{if(t.current){const r=t.current;r.scrollLeft+r.clientWidth>=r.scrollWidth?r.scrollTo({left:0,behavior:"smooth"}):r.scrollBy({left:220,behavior:"smooth"})}}}),Aj=({generos:t,onSelectGenero:e})=>{const n=L.useRef(null),{scrollLeft:r,scrollRight:s}=Nj(n),a=Array.isArray(t==null?void 0:t.results)?t.results:[];return Y.jsxs("div",{className:"containerGeneros",children:[Y.jsx("div",{className:"scrollButtons",children:Y.jsx("button",{onClick:r,className:"scrollBtn",children:""})}),Y.jsxs("div",{className:"genresScrollContainer",ref:n,children:[Y.jsx("button",{className:"genre-button",onClick:()=>e(""),children:"Ver Todos los Juegos "}),a.length>0?a.map(u=>Y.jsx("div",{style:{backgroundImage:`url(${u.image_background})`},className:"genreItem",onClick:()=>e(u.slug),children:Y.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center"},className:"genreName",children:Y.jsx("h3",{children:u.name})})},u.id)):Y.jsx("p",{className:"noGenres",children:"No se encontraron gneros."})]}),Y.jsx("div",{className:"scrollButtons",children:Y.jsx("button",{onClick:s,className:"scrollBtn",children:""})})]})},xj=({src:t,alt:e,className:n,placeholder:r})=>{const[s,a]=L.useState(!1),u=L.useRef(null);return L.useEffect(()=>{const h=new IntersectionObserver(([f])=>{f.isIntersecting&&(a(!0),h.unobserve(f.target))},{rootMargin:"200px",threshold:.1});return u.current&&h.observe(u.current),()=>h.disconnect()},[]),Y.jsx("img",{ref:u,src:s?t:r||"",alt:e,className:n,loading:"lazy",style:{backgroundColor:r?"transparent":"#ccc"}})},bj={favorites:[]},_k=or({name:"favorites",initialState:bj,reducers:{addFavorite:(t,e)=>{t.favorites.find(r=>r.id===e.payload.id)||t.favorites.push(e.payload)},removeFavorites:(t,e)=>{t.favorites=t.favorites.filter(n=>n.id!==e.payload)}}}),{addFavorite:Oj,removeFavorites:o9}=_k.actions,Dj=_k.reducer,Mj=({game:t})=>{var s,a;const e=ao(),{data:n}=YT(),r=u=>{n?e(Oj(u)):alert("Debes iniciar sesin para agregar juegos a favoritos")};return Y.jsxs("div",{className:"cardGame",children:[Y.jsx(xj,{className:"imgBackground",src:t.background_image,alt:t.name}),Y.jsxs("div",{className:"cardOverlay",children:[Y.jsx("h3",{children:t.name}),Y.jsxs("div",{className:"ratings",children:[Y.jsxs("p",{children:[" ",t.released]}),Y.jsxs("p",{children:[" ",t.rating," / ",t.rating_top]})]}),Y.jsx("div",{className:"platforms",children:(s=t.parent_platforms)==null?void 0:s.map(({platform:u})=>Y.jsx("span",{children:u.name},u.id))}),Y.jsx("div",{className:"genres",children:(a=t.genres)==null?void 0:a.map(u=>Y.jsx("span",{children:u.name},u.id))}),Y.jsx("button",{className:"InputButton",onClick:()=>r(t),children:"Add to favorites"})]})]},t.id)},Lj=({games:t={results:[]},gamesError:e,gamesLoading:n})=>Y.jsxs("div",{className:"gridGames",children:[n&&Y.jsx("div",{className:"loadingContainer",children:Y.jsx("span",{className:"loader"})}),e&&Y.jsx("pre",{style:{color:"red"},children:JSON.stringify(e,null,2)}),Array.isArray(t==null?void 0:t.results)&&t.results.map(r=>Y.jsx(Mj,{game:r},r.id))]}),Fj={page:1,genre:""},wk=or({name:"games",initialState:Fj,reducers:{setPage:(t,e)=>{t.page=e.payload},setGenre:(t,e)=>{t.genre=e.payload,t.page=1}}}),{setPage:Uj,setGenre:jj}=wk.actions,zj=wk.reducer;var $j=class extends Error{constructor(e){super(e[0].message);Pu(this,"issues");this.name="SchemaError",this.issues=e}},Ek=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(Ek||{});function gE(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var mE=ti;function Sk(t,e){if(t===e||!(mE(t)&&mE(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let s=n.length===r.length;const a=Array.isArray(e)?[]:{};for(const u of n)a[u]=Sk(t[u],e[u]),s&&(s=t[u]===a[u]);return s?t:a}function Ds(t){let e=0;for(const n in t)e++;return e}var vE=t=>[].concat(...t);function Bj(t){return new RegExp("(^|:)//").test(t)}function Vj(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function zc(t){return t!=null}function Wj(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Hj=t=>t.replace(/\/$/,""),qj=t=>t.replace(/^\//,"");function Gj(t,e){if(!t)return e;if(!e)return t;if(Bj(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=Hj(t),e=qj(e),`${t}${n}${e}`}function Kj(t,e,n){return t.has(e)?t.get(e):t.set(e,n).get(e)}var yE=(...t)=>fetch(...t),Qj=t=>t.status>=200&&t.status<=299,Yj=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function _E(t){if(!ti(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}function Xj({baseUrl:t,prepareHeaders:e=v=>v,fetchFn:n=yE,paramsSerializer:r,isJsonContentType:s=Yj,jsonContentType:a="application/json",jsonReplacer:u,timeout:h,responseHandler:f,validateStatus:p,...m}={}){return typeof fetch>"u"&&n===yE&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(y,w,S)=>{const{getState:I,extra:C,endpoint:R,forced:j,type:k}=w;let E,{url:P,headers:O=new Headers(m.headers),params:$=void 0,responseHandler:G=f??"json",validateStatus:M=p??Qj,timeout:b=h,...D}=typeof y=="string"?{url:y}:y,F,B=w.signal;b&&(F=new AbortController,w.signal.addEventListener("abort",F.abort),B=F.signal);let W={...m,signal:B,...D};O=new Headers(_E(O)),W.headers=await e(O,{getState:I,arg:y,extra:C,endpoint:R,forced:j,type:k,extraOptions:S})||O;const ne=le=>typeof le=="object"&&(ti(le)||Array.isArray(le)||typeof le.toJSON=="function");if(!W.headers.has("content-type")&&ne(W.body)&&W.headers.set("content-type",a),ne(W.body)&&s(W.headers)&&(W.body=JSON.stringify(W.body,u)),$){const le=~P.indexOf("?")?"&":"?",ee=r?r($):new URLSearchParams(_E($));P+=le+ee}P=Gj(t,P);const re=new Request(P,W);E={request:new Request(P,W)};let q,K=!1,Q=F&&setTimeout(()=>{K=!0,F.abort()},b);try{q=await n(re)}catch(le){return{error:{status:K?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(le)},meta:E}}finally{Q&&clearTimeout(Q),F==null||F.signal.removeEventListener("abort",F.abort)}const N=q.clone();E.response=N;let H,he="";try{let le;if(await Promise.all([v(q,G).then(ee=>H=ee,ee=>le=ee),N.text().then(ee=>he=ee,()=>{})]),le)throw le}catch(le){return{error:{status:"PARSING_ERROR",originalStatus:q.status,data:he,error:String(le)},meta:E}}return M(q,H)?{data:H,meta:E}:{error:{status:q.status,data:H},meta:E}};async function v(y,w){if(typeof w=="function")return w(y);if(w==="content-type"&&(w=s(y.headers)?"json":"text"),w==="json"){const S=await y.text();return S.length?JSON.parse(S):null}return y.text()}}var wE=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Qm=An("__rtkq/focused"),Ck=An("__rtkq/unfocused"),Ym=An("__rtkq/online"),Ik=An("__rtkq/offline");function Nh(t){return t.type==="query"}function Jj(t){return t.type==="mutation"}function Ah(t){return t.type==="infinitequery"}function $c(t){return Nh(t)||Ah(t)}function Xm(t,e,n,r,s,a){return Zj(t)?t(e,n,r,s).filter(zc).map(cg).map(a):Array.isArray(t)?t.map(cg).map(a):[]}function Zj(t){return typeof t=="function"}function cg(t){return typeof t=="string"?{type:t}:t}function e3(t,e){return t.catch(e)}var qa=Symbol("forceQueryFn"),hg=t=>typeof t[qa]=="function";function t3({serializeQueryArgs:t,queryThunk:e,infiniteQueryThunk:n,mutationThunk:r,api:s,context:a}){const u=new Map,h=new Map,{unsubscribeQueryResult:f,removeMutationResult:p,updateSubscriptionOptions:m}=s.internalActions;return{buildInitiateQuery:C,buildInitiateInfiniteQuery:R,buildInitiateMutation:j,getRunningQueryThunk:v,getRunningMutationThunk:y,getRunningQueriesThunk:w,getRunningMutationsThunk:S};function v(k,E){return P=>{var G;const O=a.endpointDefinitions[k],$=t({queryArgs:E,endpointDefinition:O,endpointName:k});return(G=u.get(P))==null?void 0:G[$]}}function y(k,E){return P=>{var O;return(O=h.get(P))==null?void 0:O[E]}}function w(){return k=>Object.values(u.get(k)||{}).filter(zc)}function S(){return k=>Object.values(h.get(k)||{}).filter(zc)}function I(k,E){const P=(O,{subscribe:$=!0,forceRefetch:G,subscriptionOptions:M,[qa]:b,...D}={})=>(F,B)=>{var ge;const W=t({queryArgs:O,endpointDefinition:E,endpointName:k});let ne;const re={...D,type:"query",subscribe:$,forceRefetch:G,subscriptionOptions:M,endpointName:k,originalArgs:O,queryCacheKey:W,[qa]:b};if(Nh(E))ne=e(re);else{const{direction:pe,initialPageParam:Ee}=D;ne=n({...re,direction:pe,initialPageParam:Ee})}const se=s.endpoints[k].select(O),q=F(ne),K=se(B()),{requestId:Q,abort:N}=q,H=K.requestId!==Q,he=(ge=u.get(F))==null?void 0:ge[W],le=()=>se(B()),ee=Object.assign(b?q.then(le):H&&!he?Promise.resolve(K):Promise.all([he,q]).then(le),{arg:O,requestId:Q,subscriptionOptions:M,queryCacheKey:W,abort:N,async unwrap(){const pe=await ee;if(pe.isError)throw pe.error;return pe.data},refetch:()=>F(P(O,{subscribe:!1,forceRefetch:!0})),unsubscribe(){$&&F(f({queryCacheKey:W,requestId:Q}))},updateSubscriptionOptions(pe){ee.subscriptionOptions=pe,F(m({endpointName:k,requestId:Q,queryCacheKey:W,options:pe}))}});if(!he&&!H&&!b){const pe=Kj(u,F,{});pe[W]=ee,ee.then(()=>{delete pe[W],Ds(pe)||u.delete(F)})}return ee};return P}function C(k,E){return I(k,E)}function R(k,E){return I(k,E)}function j(k){return(E,{track:P=!0,fixedCacheKey:O}={})=>($,G)=>{const M=r({type:"mutation",endpointName:k,originalArgs:E,track:P,fixedCacheKey:O}),b=$(M),{requestId:D,abort:F,unwrap:B}=b,W=e3(b.unwrap().then(q=>({data:q})),q=>({error:q})),ne=()=>{$(p({requestId:D,fixedCacheKey:O}))},re=Object.assign(W,{arg:b.arg,requestId:D,abort:F,unwrap:B,reset:ne}),se=h.get($)||{};return h.set($,se),se[D]=re,re.then(()=>{delete se[D],Ds(se)||h.delete($)}),O&&(se[O]=re,re.then(()=>{se[O]===re&&(delete se[O],Ds(se)||h.delete($))})),re}}}var Tk=class extends $j{constructor(t,e,n,r){super(t),this.value=e,this.schemaName=n,this._bqMeta=r}};async function Ei(t,e,n,r){const s=await t["~standard"].validate(e);if(s.issues)throw new Tk(s.issues,e,n,r);return s.value}function n3(t){return t}var na=(t={})=>({...t,[kh]:!0});function r3({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:s,assertTagType:a,selectors:u,onSchemaFailure:h,catchSchemaFailure:f,skipSchemaValidation:p}){const m=(D,F,B,W)=>(ne,re)=>{const se=n[D],q=r({queryArgs:F,endpointDefinition:se,endpointName:D});if(ne(s.internalActions.queryResultPatched({queryCacheKey:q,patches:B})),!W)return;const K=s.endpoints[D].select(F)(re()),Q=Xm(se.providesTags,K.data,void 0,F,{},a);ne(s.internalActions.updateProvidedBy([{queryCacheKey:q,providedTags:Q}]))};function v(D,F,B=0){const W=[F,...D];return B&&W.length>B?W.slice(0,-1):W}function y(D,F,B=0){const W=[...D,F];return B&&W.length>B?W.slice(1):W}const w=(D,F,B,W=!0)=>(ne,re)=>{const q=s.endpoints[D].select(F)(re()),K={patches:[],inversePatches:[],undo:()=>ne(s.util.patchQueryData(D,F,K.inversePatches,W))};if(q.status==="uninitialized")return K;let Q;if("data"in q)if(bn(q.data)){const[N,H,he]=dk(q.data,B);K.patches.push(...H),K.inversePatches.push(...he),Q=N}else Q=B(q.data),K.patches.push({op:"replace",path:[],value:Q}),K.inversePatches.push({op:"replace",path:[],value:q.data});return K.patches.length===0||ne(s.util.patchQueryData(D,F,K.patches,W)),K},S=(D,F,B)=>W=>W(s.endpoints[D].initiate(F,{subscribe:!1,forceRefetch:!0,[qa]:()=>({data:B})})),I=(D,F)=>D.query&&D[F]?D[F]:n3,C=async(D,{signal:F,abort:B,rejectWithValue:W,fulfillWithValue:ne,dispatch:re,getState:se,extra:q})=>{var H,he;const K=n[D.endpointName],{metaSchema:Q,skipSchemaValidation:N=p}=K;try{let le=I(K,"transformResponse");const ee={signal:F,abort:B,dispatch:re,getState:se,extra:q,endpoint:D.endpointName,type:D.type,forced:D.type==="query"?R(D,se()):void 0,queryCacheKey:D.type==="query"?D.queryCacheKey:void 0},ge=D.type==="query"?D[qa]:void 0;let pe;const Ee=async(Te,Oe,st,gn)=>{if(Oe==null&&Te.pages.length)return Promise.resolve({data:Te});const Mt={queryArg:D.originalArgs,pageParam:Oe},Qn=await Pe(Mt),Kt=gn?v:y;return{data:{pages:Kt(Te.pages,Qn.data,st),pageParams:Kt(Te.pageParams,Oe,st)},meta:Qn.meta}};async function Pe(Te){let Oe;const{extraOptions:st,argSchema:gn,rawResponseSchema:Mt,responseSchema:Qn}=K;if(gn&&!N&&(Te=await Ei(gn,Te,"argSchema",{})),ge?Oe=ge():K.query?Oe=await e(K.query(Te),ee,st):Oe=await K.queryFn(Te,ee,st,Er=>e(Er,ee,st)),typeof process<"u",Oe.error)throw new wE(Oe.error,Oe.meta);let{data:Kt}=Oe;Mt&&!N&&(Kt=await Ei(Mt,Oe.data,"rawResponseSchema",Oe.meta));let rn=await le(Kt,Oe.meta,Te);return Qn&&!N&&(rn=await Ei(Qn,rn,"responseSchema",Oe.meta)),{...Oe,data:rn}}if(D.type==="query"&&"infiniteQueryOptions"in K){const{infiniteQueryOptions:Te}=K,{maxPages:Oe=1/0}=Te;let st;const gn={pages:[],pageParams:[]},Mt=(H=u.selectQueryEntry(se(),D.queryCacheKey))==null?void 0:H.data,Kt=R(D,se())&&!D.direction||!Mt?gn:Mt;if("direction"in D&&D.direction&&Kt.pages.length){const rn=D.direction==="backward",si=(rn?kk:fg)(Te,Kt,D.originalArgs);st=await Ee(Kt,si,Oe,rn)}else{const{initialPageParam:rn=Te.initialPageParam}=D,Er=(Mt==null?void 0:Mt.pageParams)??[],si=Er[0]??rn,oi=Er.length;st=await Ee(Kt,si,Oe),ge&&(st={data:st.data.pages[0]});for(let Yn=1;Yn<oi;Yn++){const lo=fg(Te,st.data,D.originalArgs);st=await Ee(st.data,lo,Oe)}}pe=st}else pe=await Pe(D.originalArgs);return Q&&!N&&pe.meta&&(pe.meta=await Ei(Q,pe.meta,"metaSchema",pe.meta)),ne(pe.data,na({fulfilledTimeStamp:Date.now(),baseQueryMeta:pe.meta}))}catch(le){let ee=le;if(ee instanceof wE){let ge=I(K,"transformErrorResponse");const{rawErrorResponseSchema:pe,errorResponseSchema:Ee}=K;let{value:Pe,meta:Te}=ee;try{pe&&!N&&(Pe=await Ei(pe,Pe,"rawErrorResponseSchema",Te)),Q&&!N&&(Te=await Ei(Q,Te,"metaSchema",Te));let Oe=await ge(Pe,Te,D.originalArgs);return Ee&&!N&&(Oe=await Ei(Ee,Oe,"errorResponseSchema",Te)),W(Oe,na({baseQueryMeta:Te}))}catch(Oe){ee=Oe}}try{if(ee instanceof Tk){const ge={endpoint:D.endpointName,arg:D.originalArgs,type:D.type,queryCacheKey:D.type==="query"?D.queryCacheKey:void 0};(he=K.onSchemaFailure)==null||he.call(K,ee,ge),h==null||h(ee,ge);const{catchSchemaFailure:pe=f}=K;if(pe)return W(pe(ee,ge),na({baseQueryMeta:ee._bqMeta}))}}catch(ge){ee=ge}throw console.error(ee),ee}};function R(D,F){const B=u.selectQueryEntry(F,D.queryCacheKey),W=u.selectConfig(F).refetchOnMountOrArgChange,ne=B==null?void 0:B.fulfilledTimeStamp,re=D.forceRefetch??(D.subscribe&&W);return re?re===!0||(Number(new Date)-Number(ne))/1e3>=re:!1}const j=()=>dE(`${t}/executeQuery`,C,{getPendingMeta({arg:F}){const B=n[F.endpointName];return na({startedTimeStamp:Date.now(),...Ah(B)?{direction:F.direction}:{}})},condition(F,{getState:B}){var N;const W=B(),ne=u.selectQueryEntry(W,F.queryCacheKey),re=ne==null?void 0:ne.fulfilledTimeStamp,se=F.originalArgs,q=ne==null?void 0:ne.originalArgs,K=n[F.endpointName],Q=F.direction;return hg(F)?!0:(ne==null?void 0:ne.status)==="pending"?!1:R(F,W)||Nh(K)&&((N=K==null?void 0:K.forceRefetch)!=null&&N.call(K,{currentArg:se,previousArg:q,endpointState:ne,state:W}))?!0:!(re&&!Q)},dispatchConditionRejection:!0}),k=j(),E=j(),P=dE(`${t}/executeMutation`,C,{getPendingMeta(){return na({startedTimeStamp:Date.now()})}}),O=D=>"force"in D,$=D=>"ifOlderThan"in D,G=(D,F,B)=>(W,ne)=>{const re=O(B)&&B.force,se=$(B)&&B.ifOlderThan,q=(Q=!0)=>{const N={forceRefetch:Q,isPrefetch:!0};return s.endpoints[D].initiate(F,N)},K=s.endpoints[D].select(F)(ne());if(re)W(q());else if(se){const Q=K==null?void 0:K.fulfilledTimeStamp;if(!Q){W(q());return}(Number(new Date)-Number(new Date(Q)))/1e3>=se&&W(q())}else W(q(!1))};function M(D){return F=>{var B,W;return((W=(B=F==null?void 0:F.meta)==null?void 0:B.arg)==null?void 0:W.endpointName)===D}}function b(D,F){return{matchPending:ma(Gm(D),M(F)),matchFulfilled:ma(ni(D),M(F)),matchRejected:ma(Gs(D),M(F))}}return{queryThunk:k,mutationThunk:P,infiniteQueryThunk:E,prefetch:G,updateQueryData:w,upsertQueryData:S,patchQueryData:m,buildMatchThunkActions:b}}function fg(t,{pages:e,pageParams:n},r){const s=e.length-1;return t.getNextPageParam(e[s],e,n[s],n,r)}function kk(t,{pages:e,pageParams:n},r){var s;return(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n,r)}function Rk(t,e,n,r){return Xm(n[t.meta.arg.endpointName][e],ni(t)?t.payload:void 0,Ph(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function Vu(t,e,n){const r=t[e];r&&n(r)}function Ga(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function EE(t,e,n){const r=t[Ga(e)];r&&n(r)}var Wu={};function i3({reducerPath:t,queryThunk:e,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:s,apiUid:a,extractRehydrationInfo:u,hasRehydrationInfo:h},assertTagType:f,config:p}){const m=An(`${t}/resetApiState`);function v(M,b,D,F){var B;M[B=b.queryCacheKey]??(M[B]={status:"uninitialized",endpointName:b.endpointName}),Vu(M,b.queryCacheKey,W=>{W.status="pending",W.requestId=D&&W.requestId?W.requestId:F.requestId,b.originalArgs!==void 0&&(W.originalArgs=b.originalArgs),W.startedTimeStamp=F.startedTimeStamp;const ne=s[F.arg.endpointName];Ah(ne)&&"direction"in b&&(W.direction=b.direction)})}function y(M,b,D,F){Vu(M,b.arg.queryCacheKey,B=>{if(B.requestId!==b.requestId&&!F)return;const{merge:W}=s[b.arg.endpointName];if(B.status="fulfilled",W)if(B.data!==void 0){const{fulfilledTimeStamp:ne,arg:re,baseQueryMeta:se,requestId:q}=b;let K=vl(B.data,Q=>W(Q,D,{arg:re.originalArgs,baseQueryMeta:se,fulfilledTimeStamp:ne,requestId:q}));B.data=K}else B.data=D;else B.data=s[b.arg.endpointName].structuralSharing??!0?Sk(qn(B.data)?bU(B.data):B.data,D):D;delete B.error,B.fulfilledTimeStamp=b.fulfilledTimeStamp})}const w=or({name:`${t}/queries`,initialState:Wu,reducers:{removeQueryResult:{reducer(M,{payload:{queryCacheKey:b}}){delete M[b]},prepare:ta()},cacheEntriesUpserted:{reducer(M,b){for(const D of b.payload){const{queryDescription:F,value:B}=D;v(M,F,!0,{arg:F,requestId:b.meta.requestId,startedTimeStamp:b.meta.timestamp}),y(M,{arg:F,requestId:b.meta.requestId,fulfilledTimeStamp:b.meta.timestamp,baseQueryMeta:{}},B,!0)}},prepare:M=>({payload:M.map(F=>{const{endpointName:B,arg:W,value:ne}=F,re=s[B];return{queryDescription:{type:"query",endpointName:B,originalArgs:F.arg,queryCacheKey:r({queryArgs:W,endpointDefinition:re,endpointName:B})},value:ne}}),meta:{[kh]:!0,requestId:Km(),timestamp:Date.now()}})},queryResultPatched:{reducer(M,{payload:{queryCacheKey:b,patches:D}}){Vu(M,b,F=>{F.data=oE(F.data,D.concat())})},prepare:ta()}},extraReducers(M){M.addCase(e.pending,(b,{meta:D,meta:{arg:F}})=>{const B=hg(F);v(b,F,B,D)}).addCase(e.fulfilled,(b,{meta:D,payload:F})=>{const B=hg(D.arg);y(b,D,F,B)}).addCase(e.rejected,(b,{meta:{condition:D,arg:F,requestId:B},error:W,payload:ne})=>{Vu(b,F.queryCacheKey,re=>{if(!D){if(re.requestId!==B)return;re.status="rejected",re.error=ne??W}})}).addMatcher(h,(b,D)=>{const{queries:F}=u(D);for(const[B,W]of Object.entries(F))((W==null?void 0:W.status)==="fulfilled"||(W==null?void 0:W.status)==="rejected")&&(b[B]=W)})}}),S=or({name:`${t}/mutations`,initialState:Wu,reducers:{removeMutationResult:{reducer(M,{payload:b}){const D=Ga(b);D in M&&delete M[D]},prepare:ta()}},extraReducers(M){M.addCase(n.pending,(b,{meta:D,meta:{requestId:F,arg:B,startedTimeStamp:W}})=>{B.track&&(b[Ga(D)]={requestId:F,status:"pending",endpointName:B.endpointName,startedTimeStamp:W})}).addCase(n.fulfilled,(b,{payload:D,meta:F})=>{F.arg.track&&EE(b,F,B=>{B.requestId===F.requestId&&(B.status="fulfilled",B.data=D,B.fulfilledTimeStamp=F.fulfilledTimeStamp)})}).addCase(n.rejected,(b,{payload:D,error:F,meta:B})=>{B.arg.track&&EE(b,B,W=>{W.requestId===B.requestId&&(W.status="rejected",W.error=D??F)})}).addMatcher(h,(b,D)=>{const{mutations:F}=u(D);for(const[B,W]of Object.entries(F))((W==null?void 0:W.status)==="fulfilled"||(W==null?void 0:W.status)==="rejected")&&B!==(W==null?void 0:W.requestId)&&(b[B]=W)})}}),I={tags:{},keys:{}},C=or({name:`${t}/invalidation`,initialState:I,reducers:{updateProvidedBy:{reducer(M,b){var D,F,B;for(const{queryCacheKey:W,providedTags:ne}of b.payload){R(M,W);for(const{type:re,id:se}of ne){const q=(F=(D=M.tags)[re]??(D[re]={}))[B=se||"__internal_without_id"]??(F[B]=[]);q.includes(W)||q.push(W)}M.keys[W]=ne}},prepare:ta()}},extraReducers(M){M.addCase(w.actions.removeQueryResult,(b,{payload:{queryCacheKey:D}})=>{R(b,D)}).addMatcher(h,(b,D)=>{var B,W,ne;const{provided:F}=u(D);for(const[re,se]of Object.entries(F))for(const[q,K]of Object.entries(se)){const Q=(W=(B=b.tags)[re]??(B[re]={}))[ne=q||"__internal_without_id"]??(W[ne]=[]);for(const N of K)Q.includes(N)||Q.push(N)}}).addMatcher(pr(ni(e),Ph(e)),(b,D)=>{j(b,[D])}).addMatcher(w.actions.cacheEntriesUpserted.match,(b,D)=>{const F=D.payload.map(({queryDescription:B,value:W})=>({type:"UNKNOWN",payload:W,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:B}}));j(b,F)})}});function R(M,b){var F;const D=M.keys[b]??[];for(const B of D){const W=B.type,ne=B.id??"__internal_without_id",re=(F=M.tags[W])==null?void 0:F[ne];re&&(M.tags[W][ne]=re.filter(se=>se!==b))}delete M.keys[b]}function j(M,b){const D=b.map(F=>{const B=Rk(F,"providesTags",s,f),{queryCacheKey:W}=F.meta.arg;return{queryCacheKey:W,providedTags:B}});C.caseReducers.updateProvidedBy(M,C.actions.updateProvidedBy(D))}const k=or({name:`${t}/subscriptions`,initialState:Wu,reducers:{updateSubscriptionOptions(M,b){},unsubscribeQueryResult(M,b){},internal_getRTKQSubscriptions(){}}}),E=or({name:`${t}/internalSubscriptions`,initialState:Wu,reducers:{subscriptionsUpdated:{reducer(M,b){return oE(M,b.payload)},prepare:ta()}}}),P=or({name:`${t}/config`,initialState:{online:Wj(),focused:Vj(),middlewareRegistered:!1,...p},reducers:{middlewareRegistered(M,{payload:b}){M.middlewareRegistered=M.middlewareRegistered==="conflict"||a!==b?"conflict":!0}},extraReducers:M=>{M.addCase(Ym,b=>{b.online=!0}).addCase(Ik,b=>{b.online=!1}).addCase(Qm,b=>{b.focused=!0}).addCase(Ck,b=>{b.focused=!1}).addMatcher(h,b=>({...b}))}}),O=ok({queries:w.reducer,mutations:S.reducer,provided:C.reducer,subscriptions:E.reducer,config:P.reducer}),$=(M,b)=>O(m.match(b)?void 0:M,b),G={...P.actions,...w.actions,...k.actions,...E.actions,...S.actions,...C.actions,resetApiState:m};return{reducer:$,actions:G}}var In=Symbol.for("RTKQ/skipToken"),Pk={status:"uninitialized"},SE=vl(Pk,()=>{}),CE=vl(Pk,()=>{});function s3({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=k=>SE,s=k=>CE;return{buildQuerySelector:y,buildInfiniteQuerySelector:w,buildMutationSelector:S,selectInvalidatedBy:I,selectCachedArgsForQuery:C,selectApiState:u,selectQueries:h,selectMutations:p,selectQueryEntry:f,selectConfig:m};function a(k){return{...k,...gE(k.status)}}function u(k){return k[e]}function h(k){var E;return(E=u(k))==null?void 0:E.queries}function f(k,E){var P;return(P=h(k))==null?void 0:P[E]}function p(k){var E;return(E=u(k))==null?void 0:E.mutations}function m(k){var E;return(E=u(k))==null?void 0:E.config}function v(k,E,P){return O=>{if(O===In)return n(r,P);const $=t({queryArgs:O,endpointDefinition:E,endpointName:k});return n(M=>f(M,$)??SE,P)}}function y(k,E){return v(k,E,a)}function w(k,E){const{infiniteQueryOptions:P}=E;function O($){const G={...$,...gE($.status)},{isLoading:M,isError:b,direction:D}=G,F=D==="forward",B=D==="backward";return{...G,hasNextPage:R(P,G.data,G.originalArgs),hasPreviousPage:j(P,G.data,G.originalArgs),isFetchingNextPage:M&&F,isFetchingPreviousPage:M&&B,isFetchNextPageError:b&&F,isFetchPreviousPageError:b&&B}}return v(k,E,O)}function S(){return k=>{let E;return typeof k=="object"?E=Ga(k)??In:E=k,n(E===In?s:$=>{var G,M;return((M=(G=u($))==null?void 0:G.mutations)==null?void 0:M[E])??CE},a)}}function I(k,E){const P=k[e],O=new Set;for(const $ of E.filter(zc).map(cg)){const G=P.provided.tags[$.type];if(!G)continue;let M=($.id!==void 0?G[$.id]:vE(Object.values(G)))??[];for(const b of M)O.add(b)}return vE(Array.from(O.values()).map($=>{const G=P.queries[$];return G?[{queryCacheKey:$,endpointName:G.endpointName,originalArgs:G.originalArgs}]:[]}))}function C(k,E){return Object.values(h(k)).filter(P=>(P==null?void 0:P.endpointName)===E&&P.status!=="uninitialized").map(P=>P.originalArgs)}function R(k,E,P){return E?fg(k,E,P)!=null:!1}function j(k,E,P){return!E||!k.getPreviousPageParam?!1:kk(k,E,P)!=null}}var Ss=WeakMap?new WeakMap:void 0,Bc=({endpointName:t,queryArgs:e})=>{let n="";const r=Ss==null?void 0:Ss.get(e);if(typeof r=="string")n=r;else{const s=JSON.stringify(e,(a,u)=>(u=typeof u=="bigint"?{$bigint:u.toString()}:u,u=ti(u)?Object.keys(u).sort().reduce((h,f)=>(h[f]=u[f],h),{}):u,u));ti(e)&&(Ss==null||Ss.set(e,s)),n=s}return`${t}(${n})`};function Nk(...t){return function(n){const r=jc(p=>{var m;return(m=n.extractRehydrationInfo)==null?void 0:m.call(n,p,{reducerPath:n.reducerPath??"api"})}),s={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(p){let m=Bc;if("serializeQueryArgs"in p.endpointDefinition){const v=p.endpointDefinition.serializeQueryArgs;m=y=>{const w=v(y);return typeof w=="string"?w:Bc({...y,queryArgs:w})}}else n.serializeQueryArgs&&(m=n.serializeQueryArgs);return m(p)},tagTypes:[...n.tagTypes||[]]},a={endpointDefinitions:{},batch(p){p()},apiUid:Km(),extractRehydrationInfo:r,hasRehydrationInfo:jc(p=>r(p)!=null)},u={injectEndpoints:f,enhanceEndpoints({addTagTypes:p,endpoints:m}){if(p)for(const v of p)s.tagTypes.includes(v)||s.tagTypes.push(v);if(m)for(const[v,y]of Object.entries(m))typeof y=="function"?y(a.endpointDefinitions[v]):Object.assign(a.endpointDefinitions[v]||{},y);return u}},h=t.map(p=>p.init(u,s,a));function f(p){const m=p.endpoints({query:v=>({...v,type:"query"}),mutation:v=>({...v,type:"mutation"}),infiniteQuery:v=>({...v,type:"infinitequery"})});for(const[v,y]of Object.entries(m)){if(p.overrideExisting!==!0&&v in a.endpointDefinitions){if(p.overrideExisting==="throw")throw new Error(xn(39));continue}a.endpointDefinitions[v]=y;for(const w of h)w.injectEndpoint(v,y)}return u}return u.injectEndpoints({endpoints:n.endpoints})}}function sr(t,...e){return Object.assign(t,...e)}var o3=({api:t,queryThunk:e,internalState:n})=>{const r=`${t.reducerPath}/subscriptions`;let s=null,a=null;const{updateSubscriptionOptions:u,unsubscribeQueryResult:h}=t.internalActions,f=(w,S)=>{var C,R,j;if(u.match(S)){const{queryCacheKey:k,requestId:E,options:P}=S.payload;return(C=w==null?void 0:w[k])!=null&&C[E]&&(w[k][E]=P),!0}if(h.match(S)){const{queryCacheKey:k,requestId:E}=S.payload;return w[k]&&delete w[k][E],!0}if(t.internalActions.removeQueryResult.match(S))return delete w[S.payload.queryCacheKey],!0;if(e.pending.match(S)){const{meta:{arg:k,requestId:E}}=S,P=w[R=k.queryCacheKey]??(w[R]={});return P[`${E}_running`]={},k.subscribe&&(P[E]=k.subscriptionOptions??P[E]??{}),!0}let I=!1;if(e.fulfilled.match(S)||e.rejected.match(S)){const k=w[S.meta.arg.queryCacheKey]||{},E=`${S.meta.requestId}_running`;I||(I=!!k[E]),delete k[E]}if(e.rejected.match(S)){const{meta:{condition:k,arg:E,requestId:P}}=S;if(k&&E.subscribe){const O=w[j=E.queryCacheKey]??(w[j]={});O[P]=E.subscriptionOptions??O[P]??{},I=!0}}return I},p=()=>n.currentSubscriptions,y={getSubscriptions:p,getSubscriptionCount:w=>{const I=p()[w]??{};return Ds(I)},isRequestSubscribed:(w,S)=>{var C;const I=p();return!!((C=I==null?void 0:I[w])!=null&&C[S])}};return(w,S)=>{if(s||(s=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(w))return s=n.currentSubscriptions={},a=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(w))return[!1,y];const I=f(n.currentSubscriptions,w);let C=!0;if(I){a||(a=setTimeout(()=>{const k=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,E]=dk(s,()=>k);S.next(t.internalActions.subscriptionsUpdated(E)),s=k,a=null},500));const R=typeof w.type=="string"&&!!w.type.startsWith(r),j=e.rejected.match(w)&&w.meta.condition&&!!w.meta.arg.subscribe;C=!R&&!j}return[C,!1]}};function a3(t){for(const e in t)return!1;return!0}var l3=2147483647/1e3-1,u3=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:s,selectors:{selectQueryEntry:a,selectConfig:u}})=>{const{removeQueryResult:h,unsubscribeQueryResult:f,cacheEntriesUpserted:p}=e.internalActions,m=pr(f.match,n.fulfilled,n.rejected,p.match);function v(C){const R=s.currentSubscriptions[C];return!!R&&!a3(R)}const y={},w=(C,R,j)=>{const k=R.getState(),E=u(k);if(m(C)){let P;if(p.match(C))P=C.payload.map(O=>O.queryDescription.queryCacheKey);else{const{queryCacheKey:O}=f.match(C)?C.payload:C.meta.arg;P=[O]}S(P,R,E)}if(e.util.resetApiState.match(C))for(const[P,O]of Object.entries(y))O&&clearTimeout(O),delete y[P];if(r.hasRehydrationInfo(C)){const{queries:P}=r.extractRehydrationInfo(C);S(Object.keys(P),R,E)}};function S(C,R,j){const k=R.getState();for(const E of C){const P=a(k,E);I(E,P==null?void 0:P.endpointName,R,j)}}function I(C,R,j,k){const E=r.endpointDefinitions[R],P=(E==null?void 0:E.keepUnusedDataFor)??k.keepUnusedDataFor;if(P===1/0)return;const O=Math.max(0,Math.min(P,l3));if(!v(C)){const $=y[C];$&&clearTimeout($),y[C]=setTimeout(()=>{v(C)||j.dispatch(h({queryCacheKey:C})),delete y[C]},O*1e3)}}return w},IE=new Error("Promise never resolved before cacheEntryRemoved."),c3=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:s,internalState:a,selectors:{selectQueryEntry:u,selectApiState:h}})=>{const f=ug(r),p=ug(s),m=ni(r,s),v={};function y(R,j,k){const E=v[R];E!=null&&E.valueResolved&&(E.valueResolved({data:j,meta:k}),delete E.valueResolved)}function w(R){const j=v[R];j&&(delete v[R],j.cacheEntryRemoved())}const S=(R,j,k)=>{const E=I(R);function P(O,$,G,M){const b=u(k,$),D=u(j.getState(),$);!b&&D&&C(O,M,$,j,G)}if(r.pending.match(R))P(R.meta.arg.endpointName,E,R.meta.requestId,R.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(R))for(const{queryDescription:O,value:$}of R.payload){const{endpointName:G,originalArgs:M,queryCacheKey:b}=O;P(G,b,R.meta.requestId,M),y(b,$,{})}else if(s.pending.match(R))j.getState()[e].mutations[E]&&C(R.meta.arg.endpointName,R.meta.arg.originalArgs,E,j,R.meta.requestId);else if(m(R))y(E,R.payload,R.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(R)||t.internalActions.removeMutationResult.match(R))w(E);else if(t.util.resetApiState.match(R))for(const O of Object.keys(v))w(O)};function I(R){return f(R)?R.meta.arg.queryCacheKey:p(R)?R.meta.arg.fixedCacheKey??R.meta.requestId:t.internalActions.removeQueryResult.match(R)?R.payload.queryCacheKey:t.internalActions.removeMutationResult.match(R)?Ga(R.payload):""}function C(R,j,k,E,P){const O=n.endpointDefinitions[R],$=O==null?void 0:O.onCacheEntryAdded;if(!$)return;const G={},M=new Promise(ne=>{G.cacheEntryRemoved=ne}),b=Promise.race([new Promise(ne=>{G.valueResolved=ne}),M.then(()=>{throw IE})]);b.catch(()=>{}),v[k]=G;const D=t.endpoints[R].select($c(O)?j:k),F=E.dispatch((ne,re,se)=>se),B={...E,getCacheEntry:()=>D(E.getState()),requestId:P,extra:F,updateCachedData:$c(O)?ne=>E.dispatch(t.util.updateQueryData(R,j,ne)):void 0,cacheDataLoaded:b,cacheEntryRemoved:M},W=$(j,B);Promise.resolve(W).catch(ne=>{if(ne!==IE)throw ne})}return S},h3=({api:t,context:{apiUid:e},reducerPath:n})=>(r,s)=>{t.util.resetApiState.match(r)&&s.dispatch(t.internalActions.middlewareRegistered(e))},f3=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:s,api:a,assertTagType:u,refetchQuery:h,internalState:f})=>{const{removeQueryResult:p}=a.internalActions,m=pr(ni(r),Ph(r)),v=pr(ni(r,s),Gs(r,s));let y=[];const w=(C,R)=>{m(C)?I(Rk(C,"invalidatesTags",n,u),R):v(C)?I([],R):a.util.invalidateTags.match(C)&&I(Xm(C.payload,void 0,void 0,void 0,void 0,u),R)};function S(C){var k;const{queries:R,mutations:j}=C;for(const E of[R,j])for(const P in E)if(((k=E[P])==null?void 0:k.status)==="pending")return!0;return!1}function I(C,R){const j=R.getState(),k=j[t];if(y.push(...C),k.config.invalidationBehavior==="delayed"&&S(k))return;const E=y;if(y=[],E.length===0)return;const P=a.util.selectInvalidatedBy(j,E);e.batch(()=>{const O=Array.from(P.values());for(const{queryCacheKey:$}of O){const G=k.queries[$],M=f.currentSubscriptions[$]??{};G&&(Ds(M)===0?R.dispatch(p({queryCacheKey:$})):G.status!=="uninitialized"&&R.dispatch(h(G)))}})}return w},d3=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:s})=>{const a={},u=(y,w)=>{(n.internalActions.updateSubscriptionOptions.match(y)||n.internalActions.unsubscribeQueryResult.match(y))&&f(y.payload,w),(e.pending.match(y)||e.rejected.match(y)&&y.meta.condition)&&f(y.meta.arg,w),(e.fulfilled.match(y)||e.rejected.match(y)&&!y.meta.condition)&&h(y.meta.arg,w),n.util.resetApiState.match(y)&&m()};function h({queryCacheKey:y},w){const S=w.getState()[t],I=S.queries[y],C=s.currentSubscriptions[y];if(!I||I.status==="uninitialized")return;const{lowestPollingInterval:R,skipPollingIfUnfocused:j}=v(C);if(!Number.isFinite(R))return;const k=a[y];k!=null&&k.timeout&&(clearTimeout(k.timeout),k.timeout=void 0);const E=Date.now()+R;a[y]={nextPollTimestamp:E,pollingInterval:R,timeout:setTimeout(()=>{(S.config.focused||!j)&&w.dispatch(r(I)),h({queryCacheKey:y},w)},R)}}function f({queryCacheKey:y},w){const I=w.getState()[t].queries[y],C=s.currentSubscriptions[y];if(!I||I.status==="uninitialized")return;const{lowestPollingInterval:R}=v(C);if(!Number.isFinite(R)){p(y);return}const j=a[y],k=Date.now()+R;(!j||k<j.nextPollTimestamp)&&h({queryCacheKey:y},w)}function p(y){const w=a[y];w!=null&&w.timeout&&clearTimeout(w.timeout),delete a[y]}function m(){for(const y of Object.keys(a))p(y)}function v(y={}){let w=!1,S=Number.POSITIVE_INFINITY;for(let I in y)y[I].pollingInterval&&(S=Math.min(y[I].pollingInterval,S),w=y[I].skipPollingIfUnfocused||w);return{lowestPollingInterval:S,skipPollingIfUnfocused:w}}return u},p3=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const s=Gm(n,r),a=Gs(n,r),u=ni(n,r),h={};return(p,m)=>{var v,y;if(s(p)){const{requestId:w,arg:{endpointName:S,originalArgs:I}}=p.meta,C=e.endpointDefinitions[S],R=C==null?void 0:C.onQueryStarted;if(R){const j={},k=new Promise(($,G)=>{j.resolve=$,j.reject=G});k.catch(()=>{}),h[w]=j;const E=t.endpoints[S].select($c(C)?I:w),P=m.dispatch(($,G,M)=>M),O={...m,getCacheEntry:()=>E(m.getState()),requestId:w,extra:P,updateCachedData:$c(C)?$=>m.dispatch(t.util.updateQueryData(S,I,$)):void 0,queryFulfilled:k};R(I,O)}}else if(u(p)){const{requestId:w,baseQueryMeta:S}=p.meta;(v=h[w])==null||v.resolve({data:p.payload,meta:S}),delete h[w]}else if(a(p)){const{requestId:w,rejectedWithValue:S,baseQueryMeta:I}=p.meta;(y=h[w])==null||y.reject({error:p.payload??p.error,isUnhandledError:!S,meta:I}),delete h[w]}}},g3=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:s})=>{const{removeQueryResult:a}=n.internalActions,u=(f,p)=>{Qm.match(f)&&h(p,"refetchOnFocus"),Ym.match(f)&&h(p,"refetchOnReconnect")};function h(f,p){const m=f.getState()[t],v=m.queries,y=s.currentSubscriptions;e.batch(()=>{for(const w of Object.keys(y)){const S=v[w],I=y[w];if(!I||!S)continue;(Object.values(I).some(R=>R[p]===!0)||Object.values(I).every(R=>R[p]===void 0)&&m.config[p])&&(Ds(I)===0?f.dispatch(a({queryCacheKey:w})):S.status!=="uninitialized"&&f.dispatch(r(S)))}})}return u};function m3(t){const{reducerPath:e,queryThunk:n,api:r,context:s}=t,{apiUid:a}=s,u={invalidateTags:An(`${e}/invalidateTags`)},h=v=>v.type.startsWith(`${e}/`),f=[h3,u3,f3,d3,c3,p3];return{middleware:v=>{let y=!1;const S={...t,internalState:{currentSubscriptions:{}},refetchQuery:m,isThisApiSliceAction:h},I=f.map(j=>j(S)),C=o3(S),R=g3(S);return j=>k=>{if(!ak(k))return j(k);y||(y=!0,v.dispatch(r.internalActions.middlewareRegistered(a)));const E={...v,next:j},P=v.getState(),[O,$]=C(k,E,P);let G;if(O?G=j(k):G=$,v.getState()[e]&&(R(k,E,P),h(k)||s.hasRehydrationInfo(k)))for(const M of I)M(k,E,P);return G}},actions:u};function m(v){return t.api.endpoints[v.endpointName].initiate(v.originalArgs,{subscribe:!1,forceRefetch:!0})}}var TE=Symbol(),Ak=({createSelector:t=yl}={})=>({name:TE,init(e,{baseQuery:n,tagTypes:r,reducerPath:s,serializeQueryArgs:a,keepUnusedDataFor:u,refetchOnMountOrArgChange:h,refetchOnFocus:f,refetchOnReconnect:p,invalidationBehavior:m,onSchemaFailure:v,catchSchemaFailure:y,skipSchemaValidation:w},S){BU();const I=ee=>ee;Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:Ym,onOffline:Ik,onFocus:Qm,onFocusLost:Ck},util:{}});const C=s3({serializeQueryArgs:a,reducerPath:s,createSelector:t}),{selectInvalidatedBy:R,selectCachedArgsForQuery:j,buildQuerySelector:k,buildInfiniteQuerySelector:E,buildMutationSelector:P}=C;sr(e.util,{selectInvalidatedBy:R,selectCachedArgsForQuery:j});const{queryThunk:O,infiniteQueryThunk:$,mutationThunk:G,patchQueryData:M,updateQueryData:b,upsertQueryData:D,prefetch:F,buildMatchThunkActions:B}=r3({baseQuery:n,reducerPath:s,context:S,api:e,serializeQueryArgs:a,assertTagType:I,selectors:C,onSchemaFailure:v,catchSchemaFailure:y,skipSchemaValidation:w}),{reducer:W,actions:ne}=i3({context:S,queryThunk:O,mutationThunk:G,serializeQueryArgs:a,reducerPath:s,assertTagType:I,config:{refetchOnFocus:f,refetchOnReconnect:p,refetchOnMountOrArgChange:h,keepUnusedDataFor:u,reducerPath:s,invalidationBehavior:m}});sr(e.util,{patchQueryData:M,updateQueryData:b,upsertQueryData:D,prefetch:F,resetApiState:ne.resetApiState,upsertQueryEntries:ne.cacheEntriesUpserted}),sr(e.internalActions,ne);const{middleware:re,actions:se}=m3({reducerPath:s,context:S,queryThunk:O,mutationThunk:G,infiniteQueryThunk:$,api:e,assertTagType:I,selectors:C});sr(e.util,se),sr(e,{reducer:W,middleware:re});const{buildInitiateQuery:q,buildInitiateInfiniteQuery:K,buildInitiateMutation:Q,getRunningMutationThunk:N,getRunningMutationsThunk:H,getRunningQueriesThunk:he,getRunningQueryThunk:le}=t3({queryThunk:O,mutationThunk:G,infiniteQueryThunk:$,api:e,serializeQueryArgs:a,context:S});return sr(e.util,{getRunningMutationThunk:N,getRunningMutationsThunk:H,getRunningQueryThunk:le,getRunningQueriesThunk:he}),{name:TE,injectEndpoint(ee,ge){var Pe;const Ee=(Pe=e.endpoints)[ee]??(Pe[ee]={});Nh(ge)&&sr(Ee,{name:ee,select:k(ee,ge),initiate:q(ee,ge)},B(O,ee)),Jj(ge)&&sr(Ee,{name:ee,select:P(),initiate:Q(ee)},B(G,ee)),Ah(ge)&&sr(Ee,{name:ee,select:E(ee,ge),initiate:K(ee,ge)},B(O,ee))}}}});Ak();function Hu(t){return t.replace(t[0],t[0].toUpperCase())}function v3(t){return t.type==="query"}function y3(t){return t.type==="mutation"}function xk(t){return t.type==="infinitequery"}function ra(t,...e){return Object.assign(t,...e)}var cp=Symbol();function hp(t,e,n,r){const s=L.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}),[t,e,n,r]),a=L.useRef(s);return L.useEffect(()=>{a.current.serialized!==s.serialized&&(a.current=s)},[s]),a.current.serialized===s.serialized?a.current.queryArgs:t}function qu(t){const e=L.useRef(t);return L.useEffect(()=>{pa(e.current,t)||(e.current=t)},[t]),pa(e.current,t)?e.current:t}var _3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w3=_3(),E3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",S3=E3(),C3=()=>w3||S3?L.useLayoutEffect:L.useEffect,I3=C3(),kE=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:Ek.pending}:t;function fp(t,...e){const n={};return e.forEach(r=>{n[r]=t[r]}),n}var dp=["data","status","isLoading","isSuccess","isError","error"];function T3({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:s},unstable__sideEffectsInRender:a,createSelector:u},serializeQueryArgs:h,context:f}){const p=a?E=>E():L.useEffect;return{buildQueryHooks:R,buildInfiniteQueryHooks:j,buildMutationHook:k,usePrefetch:y};function m(E,P,O){if(P!=null&&P.endpointName&&E.isUninitialized){const{endpointName:F}=P,B=f.endpointDefinitions[F];O!==In&&h({queryArgs:P.originalArgs,endpointDefinition:B,endpointName:F})===h({queryArgs:O,endpointDefinition:B,endpointName:F})&&(P=void 0)}let $=E.isSuccess?E.data:P==null?void 0:P.data;$===void 0&&($=E.data);const G=$!==void 0,M=E.isLoading,b=(!P||P.isLoading||P.isUninitialized)&&!G&&M,D=E.isSuccess||G&&(M&&!(P!=null&&P.isError)||E.isUninitialized);return{...E,data:$,currentData:E.data,isFetching:M,isLoading:b,isSuccess:D}}function v(E,P,O){if(P!=null&&P.endpointName&&E.isUninitialized){const{endpointName:F}=P,B=f.endpointDefinitions[F];O!==In&&h({queryArgs:P.originalArgs,endpointDefinition:B,endpointName:F})===h({queryArgs:O,endpointDefinition:B,endpointName:F})&&(P=void 0)}let $=E.isSuccess?E.data:P==null?void 0:P.data;$===void 0&&($=E.data);const G=$!==void 0,M=E.isLoading,b=(!P||P.isLoading||P.isUninitialized)&&!G&&M,D=E.isSuccess||M&&G;return{...E,data:$,currentData:E.data,isFetching:M,isLoading:b,isSuccess:D}}function y(E,P){const O=n(),$=qu(P);return L.useCallback((G,M)=>O(t.util.prefetch(E,G,{...$,...M})),[E,O,$])}function w(E,P,{refetchOnReconnect:O,refetchOnFocus:$,refetchOnMountOrArgChange:G,skip:M=!1,pollingInterval:b=0,skipPollingIfUnfocused:D=!1,...F}={}){const{initiate:B}=t.endpoints[E],W=n(),ne=L.useRef(void 0);if(!ne.current){const ee=W(t.internalActions.internal_getRTKQSubscriptions());ne.current=ee}const re=hp(M?In:P,Bc,f.endpointDefinitions[E],E),se=qu({refetchOnReconnect:O,refetchOnFocus:$,pollingInterval:b,skipPollingIfUnfocused:D}),q=F.initialPageParam,K=qu(q),Q=L.useRef(void 0);let{queryCacheKey:N,requestId:H}=Q.current||{},he=!1;N&&H&&(he=ne.current.isRequestSubscribed(N,H));const le=!he&&Q.current!==void 0;return p(()=>{le&&(Q.current=void 0)},[le]),p(()=>{var pe;const ee=Q.current;if(re===In){ee==null||ee.unsubscribe(),Q.current=void 0;return}const ge=(pe=Q.current)==null?void 0:pe.subscriptionOptions;if(!ee||ee.arg!==re){ee==null||ee.unsubscribe();const Ee=W(B(re,{subscriptionOptions:se,forceRefetch:G,...xk(f.endpointDefinitions[E])?{initialPageParam:K}:{}}));Q.current=Ee}else se!==ge&&ee.updateSubscriptionOptions(se)},[W,B,G,re,se,le,K,E]),[Q,W,B,se]}function S(E,P){return($,{skip:G=!1,selectFromResult:M}={})=>{const{select:b}=t.endpoints[E],D=hp(G?In:$,h,f.endpointDefinitions[E],E),F=L.useRef(void 0),B=L.useMemo(()=>u([b(D),(q,K)=>K,q=>D],P,{memoizeOptions:{resultEqualityCheck:pa}}),[b,D]),W=L.useMemo(()=>M?u([B],M,{devModeChecks:{identityFunctionCheck:"never"}}):B,[B,M]),ne=r(q=>W(q,F.current),pa),re=s(),se=B(re.getState(),F.current);return I3(()=>{F.current=se},[se]),ne}}function I(E){L.useEffect(()=>()=>{var P,O;(O=(P=E.current)==null?void 0:P.unsubscribe)==null||O.call(P),E.current=void 0},[E])}function C(E){if(!E.current)throw new Error(xn(38));return E.current.refetch()}function R(E){const P=(G,M={})=>{const[b]=w(E,G,M);return I(b),L.useMemo(()=>({refetch:()=>C(b)}),[b])},O=({refetchOnReconnect:G,refetchOnFocus:M,pollingInterval:b=0,skipPollingIfUnfocused:D=!1}={})=>{const{initiate:F}=t.endpoints[E],B=n(),[W,ne]=L.useState(cp),re=L.useRef(void 0),se=qu({refetchOnReconnect:G,refetchOnFocus:M,pollingInterval:b,skipPollingIfUnfocused:D});p(()=>{var H,he;const N=(H=re.current)==null?void 0:H.subscriptionOptions;se!==N&&((he=re.current)==null||he.updateSubscriptionOptions(se))},[se]);const q=L.useRef(se);p(()=>{q.current=se},[se]);const K=L.useCallback(function(N,H=!1){let he;return e(()=>{var le;(le=re.current)==null||le.unsubscribe(),re.current=he=B(F(N,{subscriptionOptions:q.current,forceRefetch:!H})),ne(N)}),he},[B,F]),Q=L.useCallback(()=>{var N,H;(N=re.current)!=null&&N.queryCacheKey&&B(t.internalActions.removeQueryResult({queryCacheKey:(H=re.current)==null?void 0:H.queryCacheKey}))},[B]);return L.useEffect(()=>()=>{var N;(N=re==null?void 0:re.current)==null||N.unsubscribe()},[]),L.useEffect(()=>{W!==cp&&!re.current&&K(W,!0)},[W,K]),L.useMemo(()=>[K,W,{reset:Q}],[K,W,Q])},$=S(E,m);return{useQueryState:$,useQuerySubscription:P,useLazyQuerySubscription:O,useLazyQuery(G){const[M,b,{reset:D}]=O(G),F=$(b,{...G,skip:b===cp}),B=L.useMemo(()=>({lastArg:b}),[b]);return L.useMemo(()=>[M,{...F,reset:D},B],[M,F,D,B])},useQuery(G,M){const b=P(G,M),D=$(G,{selectFromResult:G===In||M!=null&&M.skip?void 0:kE,...M}),F=fp(D,...dp);return L.useDebugValue(F),L.useMemo(()=>({...D,...b}),[D,b])}}}function j(E){const P=($,G={})=>{const[M,b,D,F]=w(E,$,G),B=L.useRef(F);p(()=>{B.current=F},[F]);const W=L.useCallback(function(se,q){let K;return e(()=>{var Q;(Q=M.current)==null||Q.unsubscribe(),M.current=K=b(D(se,{subscriptionOptions:B.current,direction:q}))}),K},[M,b,D]);I(M);const ne=hp(G.skip?In:$,Bc,f.endpointDefinitions[E],E),re=L.useCallback(()=>C(M),[M]);return L.useMemo(()=>({trigger:W,refetch:re,fetchNextPage:()=>W(ne,"forward"),fetchPreviousPage:()=>W(ne,"backward")}),[re,W,ne])},O=S(E,v);return{useInfiniteQueryState:O,useInfiniteQuerySubscription:P,useInfiniteQuery($,G){const{refetch:M,fetchNextPage:b,fetchPreviousPage:D}=P($,G),F=O($,{selectFromResult:$===In||G!=null&&G.skip?void 0:kE,...G}),B=fp(F,...dp,"hasNextPage","hasPreviousPage");return L.useDebugValue(B),L.useMemo(()=>({...F,fetchNextPage:b,fetchPreviousPage:D,refetch:M}),[F,b,D,M])}}}function k(E){return({selectFromResult:P,fixedCacheKey:O}={})=>{const{select:$,initiate:G}=t.endpoints[E],M=n(),[b,D]=L.useState();L.useEffect(()=>()=>{b!=null&&b.arg.fixedCacheKey||b==null||b.reset()},[b]);const F=L.useCallback(function(N){const H=M(G(N,{fixedCacheKey:O}));return D(H),H},[M,G,O]),{requestId:B}=b||{},W=L.useMemo(()=>$({fixedCacheKey:O,requestId:b==null?void 0:b.requestId}),[O,b,$]),ne=L.useMemo(()=>P?u([W],P):W,[P,W]),re=r(ne,pa),se=O==null?b==null?void 0:b.arg.originalArgs:void 0,q=L.useCallback(()=>{e(()=>{b&&D(void 0),O&&M(t.internalActions.removeMutationResult({requestId:B,fixedCacheKey:O}))})},[M,O,b,B]),K=fp(re,...dp,"endpointName");L.useDebugValue(K);const Q=L.useMemo(()=>({...re,originalArgs:se,reset:q}),[re,se,q]);return L.useMemo(()=>[F,Q],[F,Q])}}}var k3=Symbol(),R3=({batch:t=kU,hooks:e={useDispatch:ao,useSelector:qs,useStore:ik},createSelector:n=yl,unstable__sideEffectsInRender:r=!1,...s}={})=>({name:k3,init(a,{serializeQueryArgs:u},h){const f=a,{buildQueryHooks:p,buildInfiniteQueryHooks:m,buildMutationHook:v,usePrefetch:y}=T3({api:a,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:u,context:h});return ra(f,{usePrefetch:y}),ra(h,{batch:t}),{injectEndpoint(w,S){if(v3(S)){const{useQuery:I,useLazyQuery:C,useLazyQuerySubscription:R,useQueryState:j,useQuerySubscription:k}=p(w);ra(f.endpoints[w],{useQuery:I,useLazyQuery:C,useLazyQuerySubscription:R,useQueryState:j,useQuerySubscription:k}),a[`use${Hu(w)}Query`]=I,a[`useLazy${Hu(w)}Query`]=C}if(y3(S)){const I=v(w);ra(f.endpoints[w],{useMutation:I}),a[`use${Hu(w)}Mutation`]=I}else if(xk(S)){const{useInfiniteQuery:I,useInfiniteQuerySubscription:C,useInfiniteQueryState:R}=m(w);ra(f.endpoints[w],{useInfiniteQuery:I,useInfiniteQuerySubscription:C,useInfiniteQueryState:R}),a[`use${Hu(w)}InfiniteQuery`]=I}}}}}),P3=Nk(Ak(),R3());const pp="4b9480ac9c984784934bf7cdc7da8708",Ms=P3({reducerPath:"apiGames",baseQuery:Xj({baseUrl:"https://api.rawg.io/api/",prepareHeaders:t=>(t.set("Accept","application/json"),t)}),endpoints:t=>({fetchGames:t.query({query:({page:e=1,genre:n=""})=>({url:"games",params:{key:pp,page:e,...n&&{genres:n}}})}),fetchGenres:t.query({query:()=>({url:"genres",params:{key:pp}})}),fetchSearch:t.query({query:({searchTerm:e})=>({url:"games",params:{key:pp,search:e,page:1,page_size:20}})})})}),{useFetchGamesQuery:N3,useFetchGenresQuery:A3,useFetchSearchQuery:x3}=Ms,bk=t=>t.games.genre,b3=t=>t.games.page,O3=yl([b3,bk],(t,e)=>Ms.endpoints.fetchGames.select({page:t,genre:e})),D3=yl([t=>O3(t)(t),bk],(t,e)=>{const n=t==null?void 0:t.data,r=20,s=500;if(!n||!n.count)return 1;const a=Math.ceil((n==null?void 0:n.count)/r);return e?Math.min(s,a):a}),M3=({page:t})=>{const e=ao(),n=qs(D3),r=async s=>{const a=parseInt(s);if(!Number.isInteger(a)||a<1||a>n){console.error(`Nmero de pgina invlido: ${s}. Debe estar entre 1 y ${n}`);return}a!==t&&(e(Uj(a)),requestAnimationFrame(()=>{window.scrollTo({top:0,behavior:"smooth"})}))};return Y.jsxs("div",{className:"pagination",children:[Y.jsx("button",{onClick:()=>r(1),disabled:t===1,className:"pagination-button","aria-label":"Ir a la primera pgina",children:"Start"}),Y.jsx("button",{onClick:()=>r(t-1),disabled:t<=1,className:"pagination-button","aria-label":"Ir a la pgina anterior",children:"Previous"}),Y.jsxs("span",{className:"pagination-page",children:["Pgina ",t," de ",n||""]}),Y.jsx("button",{onClick:()=>r(t+1),disabled:t>=n,className:"pagination-button","aria-label":"Ir a la pgina siguiente",children:"Next"}),Y.jsx("button",{onClick:()=>r(n),disabled:t>=n,className:"pagination-button","aria-label":"Ir a la ltima pgina",children:"End"})]})},L3=({page:t,genre:e,gamesData:n,isSearchActive:r})=>{const s=ao(),a=20;L.useEffect(()=>{var u;if(!r&&((u=n==null?void 0:n.results)==null?void 0:u.length)>0){const h=Math.ceil(n.count/a),f=m=>{m>0&&m<=h&&s(Ms.util.prefetch("fetchGames",{page:m,genre:e},{ifOlderThan:60}))};(()=>{t<h&&f(t+1),t>1&&f(t-1)})()}},[t,e,n,s,r])},F3=()=>{const{page:t,genre:e}=qs(I=>I.games),n=qs(I=>I.search.SearchTerm),r=ao(),{data:s,error:a,isLoading:u}=N3({page:t,genre:e},{skip:!!n,refetchOnMountOrArgChange:!0}),{data:h}=A3(),{data:f,error:p,isLoading:m}=x3({searchTerm:n},{skip:!n}),v=n&&f?f:!n&&s?s:{results:[]},y=n?m:u,w=n?p:a;return L3({page:t,genre:e,gamesData:s,isSearchActive:!!n}),{gamesData:s,genreData:h,renderToGames:v,error:w,isLoading:y,searchTerm:n,page:t,genre:e,onSelectGenero:I=>{r(jj(I))}}},U3=()=>{const{page:t,genre:e}=qs(n=>n.games);L.useEffect(()=>{const n=document.querySelector(".AllGames");n&&n.scrollIntoView({behavior:"smooth",block:"start"})},[t,e])},RE=()=>{U3();const{renderToGames:t,genreData:e,searchTerm:n,error:r,isLoading:s,page:a,onSelectGenero:u}=F3();return Y.jsxs("div",{className:"containerHome",children:[Y.jsx(Aj,{generos:e,onSelectGenero:u}),Y.jsxs("div",{className:"AllGames",children:[Y.jsx(Lj,{games:t,gamesError:r,gamesLoading:s}),!n&&Y.jsx(M3,{page:a})]})]})},j3=()=>Y.jsx("div",{children:Y.jsx(Kc,{})}),z3=()=>Y.jsx("div",{children:Y.jsx(Kc,{})}),$3=()=>{const{status:t,data:e,hasEmitted:n}=XT();return t==="loading"||!n?Y.jsx("div",{className:"loadingContainer",children:Y.jsx("span",{className:"loader"})}):t==="success"&&e.signedIn?Y.jsx(zE,{to:"/",replace:!0}):Y.jsx("div",{children:Y.jsx(Kc,{})})},B3=()=>{const{status:t,data:e,hasEmitted:n}=XT();return t==="loading"||!n?Y.jsx("div",{className:"loadingContainer",children:Y.jsx("span",{className:"loader"})}):t==="success"&&!e.signedIn?Y.jsx(zE,{to:"/auth/login",replace:!0}):Y.jsx("div",{children:Y.jsx(Kc,{})})},Gu=t=>Y.jsx(L.Suspense,{fallback:Y.jsx("div",{className:"loadingContainer",children:Y.jsx("span",{className:"loader"})}),children:Y.jsx(t,{})}),V3=()=>Y.jsx("div",{className:"footer",children:"Footer"}),W3=L.lazy(()=>Wc(()=>import("./Favorites-B8PYFGVq.js"),__vite__mapDeps([0,1]))),H3=L.lazy(()=>Wc(()=>import("./Login-CxBVFf-G.js"),__vite__mapDeps([2,3,4]))),q3=L.lazy(()=>Wc(()=>import("./Register-sKJPmm_u.js"),__vite__mapDeps([5,3,6]))),G3=L.lazy(()=>Wc(()=>import("./PerfilUser-Co7hmg7P.js"),[]));function K3(){return Y.jsxs("div",{className:"appLayout",children:[Y.jsx(Pj,{}),Y.jsx("main",{className:"appContent",children:Y.jsx(LP,{children:Y.jsxs(Cn,{element:Y.jsx(j3,{}),children:[Y.jsxs(Cn,{element:Y.jsx(z3,{}),children:[Y.jsx(Cn,{index:!0,element:Y.jsx(RE,{})}),Y.jsx(Cn,{path:"/",element:Y.jsx(RE,{})})]}),Y.jsxs(Cn,{path:"admin",element:Y.jsx(B3,{}),children:[Y.jsx(Cn,{path:"favorites",element:Gu(W3)}),Y.jsx(Cn,{path:"usuario",element:Gu(G3)})]}),Y.jsxs(Cn,{path:"auth",element:Y.jsx($3,{}),children:[Y.jsx(Cn,{path:"login",element:Gu(H3)}),Y.jsx(Cn,{path:"register",element:Gu(q3)})]})]})})}),Y.jsx(V3,{})]})}const Q3=aj({reducer:{[Ms.reducerPath]:Ms.reducer,games:zj,favorites:Dj,search:kj},middleware:t=>t().concat(Ms.middleware)}),Ok={apiKey:"AIzaSyBv1jbnPbUieJJejOpPouciYUbL0sf-XSU",authDomain:"autenticacion-1dc35.firebaseapp.com",projectId:"autenticacion-1dc35",storageBucket:"autenticacion-1dc35.firebasestorage.app",messagingSenderId:"1087017413505",appId:"1:1087017413505:web:57e652a4f4b06259ded680"},gp=wg(Ok),Y3=({children:t})=>{const e=kb(gp),n=sL(gp),r=jL(gp);return Y.jsx(oU,{sdk:e,children:Y.jsx(aU,{sdk:n,children:Y.jsx(lU,{sdk:r,children:t})})})};VR.createRoot(document.getElementById("root")).render(Y.jsx(L.StrictMode,{children:Y.jsx(K4,{firebaseConfig:Ok,children:Y.jsx(SU,{store:Q3,children:Y.jsx(Y3,{children:Y.jsx(WP,{basename:"/GameStorm",children:Y.jsx(K3,{},"prod")})})})})}));export{Vr as G,qs as a,L as b,LE as c,kb as g,Y as j,ek as k,YT as n,o9 as r,Z3 as s,ao as u};
